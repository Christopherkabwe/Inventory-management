{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,qJACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/oauth4webapi/build/index.js"],"sourcesContent":["let USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'oauth4webapi';\n    const VERSION = 'v2.17.0';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nfunction looseInstanceOf(input, expected) {\n    if (input == null) {\n        return false;\n    }\n    try {\n        return (input instanceof expected ||\n            Object.getPrototypeOf(input)[Symbol.toStringTag] === expected.prototype[Symbol.toStringTag]);\n    }\n    catch {\n        return false;\n    }\n}\nexport const clockSkew = Symbol();\nexport const clockTolerance = Symbol();\nexport const customFetch = Symbol();\nexport const modifyAssertion = Symbol();\nexport const jweDecrypt = Symbol();\nexport const jwksCache = Symbol();\nexport const useMtlsAlias = Symbol();\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nfunction buf(input) {\n    if (typeof input === 'string') {\n        return encoder.encode(input);\n    }\n    return decoder.decode(input);\n}\nconst CHUNK_SIZE = 0x8000;\nfunction encodeBase64Url(input) {\n    if (input instanceof ArrayBuffer) {\n        input = new Uint8Array(input);\n    }\n    const arr = [];\n    for (let i = 0; i < input.byteLength; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join('')).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction decodeBase64Url(input) {\n    try {\n        const binary = atob(input.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, ''));\n        const bytes = new Uint8Array(binary.length);\n        for (let i = 0; i < binary.length; i++) {\n            bytes[i] = binary.charCodeAt(i);\n        }\n        return bytes;\n    }\n    catch (cause) {\n        throw new OPE('The input to be decoded is not correctly encoded.', { cause });\n    }\n}\nfunction b64u(input) {\n    if (typeof input === 'string') {\n        return decodeBase64Url(input);\n    }\n    return encodeBase64Url(input);\n}\nclass LRU {\n    constructor(maxSize) {\n        this.cache = new Map();\n        this._cache = new Map();\n        this.maxSize = maxSize;\n    }\n    get(key) {\n        let v = this.cache.get(key);\n        if (v) {\n            return v;\n        }\n        if ((v = this._cache.get(key))) {\n            this.update(key, v);\n            return v;\n        }\n        return undefined;\n    }\n    has(key) {\n        return this.cache.has(key) || this._cache.has(key);\n    }\n    set(key, value) {\n        if (this.cache.has(key)) {\n            this.cache.set(key, value);\n        }\n        else {\n            this.update(key, value);\n        }\n        return this;\n    }\n    delete(key) {\n        if (this.cache.has(key)) {\n            return this.cache.delete(key);\n        }\n        if (this._cache.has(key)) {\n            return this._cache.delete(key);\n        }\n        return false;\n    }\n    update(key, value) {\n        this.cache.set(key, value);\n        if (this.cache.size >= this.maxSize) {\n            this._cache = this.cache;\n            this.cache = new Map();\n        }\n    }\n}\nexport class UnsupportedOperationError extends Error {\n    constructor(message) {\n        super(message ?? 'operation not supported');\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class OperationProcessingError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nconst OPE = OperationProcessingError;\nconst dpopNonces = new LRU(100);\nfunction isCryptoKey(key) {\n    return key instanceof CryptoKey;\n}\nfunction isPrivateKey(key) {\n    return isCryptoKey(key) && key.type === 'private';\n}\nfunction isPublicKey(key) {\n    return isCryptoKey(key) && key.type === 'public';\n}\nconst SUPPORTED_JWS_ALGS = [\n    'PS256',\n    'ES256',\n    'RS256',\n    'PS384',\n    'ES384',\n    'RS384',\n    'PS512',\n    'ES512',\n    'RS512',\n    'EdDSA',\n];\nfunction processDpopNonce(response) {\n    try {\n        const nonce = response.headers.get('dpop-nonce');\n        if (nonce) {\n            dpopNonces.set(new URL(response.url).origin, nonce);\n        }\n    }\n    catch { }\n    return response;\n}\nfunction normalizeTyp(value) {\n    return value.toLowerCase().replace(/^application\\//, '');\n}\nfunction isJsonObject(input) {\n    if (input === null || typeof input !== 'object' || Array.isArray(input)) {\n        return false;\n    }\n    return true;\n}\nfunction prepareHeaders(input) {\n    if (looseInstanceOf(input, Headers)) {\n        input = Object.fromEntries(input.entries());\n    }\n    const headers = new Headers(input);\n    if (USER_AGENT && !headers.has('user-agent')) {\n        headers.set('user-agent', USER_AGENT);\n    }\n    if (headers.has('authorization')) {\n        throw new TypeError('\"options.headers\" must not include the \"authorization\" header name');\n    }\n    if (headers.has('dpop')) {\n        throw new TypeError('\"options.headers\" must not include the \"dpop\" header name');\n    }\n    return headers;\n}\nfunction signal(value) {\n    if (typeof value === 'function') {\n        value = value();\n    }\n    if (!(value instanceof AbortSignal)) {\n        throw new TypeError('\"options.signal\" must return or be an instance of AbortSignal');\n    }\n    return value;\n}\nexport async function discoveryRequest(issuerIdentifier, options) {\n    if (!(issuerIdentifier instanceof URL)) {\n        throw new TypeError('\"issuerIdentifier\" must be an instance of URL');\n    }\n    if (issuerIdentifier.protocol !== 'https:' && issuerIdentifier.protocol !== 'http:') {\n        throw new TypeError('\"issuer.protocol\" must be \"https:\" or \"http:\"');\n    }\n    const url = new URL(issuerIdentifier.href);\n    switch (options?.algorithm) {\n        case undefined:\n        case 'oidc':\n            url.pathname = `${url.pathname}/.well-known/openid-configuration`.replace('//', '/');\n            break;\n        case 'oauth2':\n            if (url.pathname === '/') {\n                url.pathname = '.well-known/oauth-authorization-server';\n            }\n            else {\n                url.pathname = `.well-known/oauth-authorization-server/${url.pathname}`.replace('//', '/');\n            }\n            break;\n        default:\n            throw new TypeError('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"');\n    }\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nfunction validateString(input) {\n    return typeof input === 'string' && input.length !== 0;\n}\nexport async function processDiscoveryResponse(expectedIssuerIdentifier, response) {\n    if (!(expectedIssuerIdentifier instanceof URL)) {\n        throw new TypeError('\"expectedIssuer\" must be an instance of URL');\n    }\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform Authorization Server Metadata response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.issuer)) {\n        throw new OPE('\"response\" body \"issuer\" property must be a non-empty string');\n    }\n    if (new URL(json.issuer).href !== expectedIssuerIdentifier.href) {\n        throw new OPE('\"response\" body \"issuer\" does not match \"expectedIssuer\"');\n    }\n    return json;\n}\nfunction randomBytes() {\n    return b64u(crypto.getRandomValues(new Uint8Array(32)));\n}\nexport function generateRandomCodeVerifier() {\n    return randomBytes();\n}\nexport function generateRandomState() {\n    return randomBytes();\n}\nexport function generateRandomNonce() {\n    return randomBytes();\n}\nexport async function calculatePKCECodeChallenge(codeVerifier) {\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    return b64u(await crypto.subtle.digest('SHA-256', buf(codeVerifier)));\n}\nfunction getKeyAndKid(input) {\n    if (input instanceof CryptoKey) {\n        return { key: input };\n    }\n    if (!(input?.key instanceof CryptoKey)) {\n        return {};\n    }\n    if (input.kid !== undefined && !validateString(input.kid)) {\n        throw new TypeError('\"kid\" must be a non-empty string');\n    }\n    return {\n        key: input.key,\n        kid: input.kid,\n        modifyAssertion: input[modifyAssertion],\n    };\n}\nfunction formUrlEncode(token) {\n    return encodeURIComponent(token).replace(/%20/g, '+');\n}\nfunction clientSecretBasic(clientId, clientSecret) {\n    const username = formUrlEncode(clientId);\n    const password = formUrlEncode(clientSecret);\n    const credentials = btoa(`${username}:${password}`);\n    return `Basic ${credentials}`;\n}\nfunction psAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'PS256';\n        case 'SHA-384':\n            return 'PS384';\n        case 'SHA-512':\n            return 'PS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction rsAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'RS256';\n        case 'SHA-384':\n            return 'RS384';\n        case 'SHA-512':\n            return 'RS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction esAlg(key) {\n    switch (key.algorithm.namedCurve) {\n        case 'P-256':\n            return 'ES256';\n        case 'P-384':\n            return 'ES384';\n        case 'P-521':\n            return 'ES512';\n        default:\n            throw new UnsupportedOperationError('unsupported EcKeyAlgorithm namedCurve');\n    }\n}\nfunction keyToJws(key) {\n    switch (key.algorithm.name) {\n        case 'RSA-PSS':\n            return psAlg(key);\n        case 'RSASSA-PKCS1-v1_5':\n            return rsAlg(key);\n        case 'ECDSA':\n            return esAlg(key);\n        case 'Ed25519':\n        case 'Ed448':\n            return 'EdDSA';\n        default:\n            throw new UnsupportedOperationError('unsupported CryptoKey algorithm name');\n    }\n}\nfunction getClockSkew(client) {\n    const skew = client?.[clockSkew];\n    return typeof skew === 'number' && Number.isFinite(skew) ? skew : 0;\n}\nfunction getClockTolerance(client) {\n    const tolerance = client?.[clockTolerance];\n    return typeof tolerance === 'number' && Number.isFinite(tolerance) && Math.sign(tolerance) !== -1\n        ? tolerance\n        : 30;\n}\nfunction epochTime() {\n    return Math.floor(Date.now() / 1000);\n}\nfunction clientAssertion(as, client) {\n    const now = epochTime() + getClockSkew(client);\n    return {\n        jti: randomBytes(),\n        aud: [as.issuer, as.token_endpoint],\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n        sub: client.client_id,\n    };\n}\nasync function privateKeyJwt(as, client, key, kid, modifyAssertion) {\n    const header = { alg: keyToJws(key), kid };\n    const payload = clientAssertion(as, client);\n    modifyAssertion?.(header, payload);\n    return jwt(header, payload, key);\n}\nfunction assertAs(as) {\n    if (typeof as !== 'object' || as === null) {\n        throw new TypeError('\"as\" must be an object');\n    }\n    if (!validateString(as.issuer)) {\n        throw new TypeError('\"as.issuer\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClient(client) {\n    if (typeof client !== 'object' || client === null) {\n        throw new TypeError('\"client\" must be an object');\n    }\n    if (!validateString(client.client_id)) {\n        throw new TypeError('\"client.client_id\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClientSecret(clientSecret) {\n    if (!validateString(clientSecret)) {\n        throw new TypeError('\"client.client_secret\" property must be a non-empty string');\n    }\n    return clientSecret;\n}\nfunction assertNoClientPrivateKey(clientAuthMethod, clientPrivateKey) {\n    if (clientPrivateKey !== undefined) {\n        throw new TypeError(`\"options.clientPrivateKey\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nfunction assertNoClientSecret(clientAuthMethod, clientSecret) {\n    if (clientSecret !== undefined) {\n        throw new TypeError(`\"client.client_secret\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nasync function clientAuthentication(as, client, body, headers, clientPrivateKey) {\n    body.delete('client_secret');\n    body.delete('client_assertion_type');\n    body.delete('client_assertion');\n    switch (client.token_endpoint_auth_method) {\n        case undefined:\n        case 'client_secret_basic': {\n            assertNoClientPrivateKey('client_secret_basic', clientPrivateKey);\n            headers.set('authorization', clientSecretBasic(client.client_id, assertClientSecret(client.client_secret)));\n            break;\n        }\n        case 'client_secret_post': {\n            assertNoClientPrivateKey('client_secret_post', clientPrivateKey);\n            body.set('client_id', client.client_id);\n            body.set('client_secret', assertClientSecret(client.client_secret));\n            break;\n        }\n        case 'private_key_jwt': {\n            assertNoClientSecret('private_key_jwt', client.client_secret);\n            if (clientPrivateKey === undefined) {\n                throw new TypeError('\"options.clientPrivateKey\" must be provided when \"client.token_endpoint_auth_method\" is \"private_key_jwt\"');\n            }\n            const { key, kid, modifyAssertion } = getKeyAndKid(clientPrivateKey);\n            if (!isPrivateKey(key)) {\n                throw new TypeError('\"options.clientPrivateKey.key\" must be a private CryptoKey');\n            }\n            body.set('client_id', client.client_id);\n            body.set('client_assertion_type', 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer');\n            body.set('client_assertion', await privateKeyJwt(as, client, key, kid, modifyAssertion));\n            break;\n        }\n        case 'tls_client_auth':\n        case 'self_signed_tls_client_auth':\n        case 'none': {\n            assertNoClientSecret(client.token_endpoint_auth_method, client.client_secret);\n            assertNoClientPrivateKey(client.token_endpoint_auth_method, clientPrivateKey);\n            body.set('client_id', client.client_id);\n            break;\n        }\n        default:\n            throw new UnsupportedOperationError('unsupported client token_endpoint_auth_method');\n    }\n}\nasync function jwt(header, payload, key) {\n    if (!key.usages.includes('sign')) {\n        throw new TypeError('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"');\n    }\n    const input = `${b64u(buf(JSON.stringify(header)))}.${b64u(buf(JSON.stringify(payload)))}`;\n    const signature = b64u(await crypto.subtle.sign(keyToSubtle(key), key, buf(input)));\n    return `${input}.${signature}`;\n}\nexport async function issueRequestObject(as, client, parameters, privateKey) {\n    assertAs(as);\n    assertClient(client);\n    parameters = new URLSearchParams(parameters);\n    const { key, kid, modifyAssertion } = getKeyAndKid(privateKey);\n    if (!isPrivateKey(key)) {\n        throw new TypeError('\"privateKey.key\" must be a private CryptoKey');\n    }\n    parameters.set('client_id', client.client_id);\n    const now = epochTime() + getClockSkew(client);\n    const claims = {\n        ...Object.fromEntries(parameters.entries()),\n        jti: randomBytes(),\n        aud: as.issuer,\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n    };\n    let resource;\n    if (parameters.has('resource') &&\n        (resource = parameters.getAll('resource')) &&\n        resource.length > 1) {\n        claims.resource = resource;\n    }\n    {\n        let value = parameters.get('max_age');\n        if (value !== null) {\n            claims.max_age = parseInt(value, 10);\n            if (!Number.isFinite(claims.max_age)) {\n                throw new OPE('\"max_age\" parameter must be a number');\n            }\n        }\n    }\n    {\n        let value = parameters.get('claims');\n        if (value !== null) {\n            try {\n                claims.claims = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"claims\" parameter as JSON', { cause });\n            }\n            if (!isJsonObject(claims.claims)) {\n                throw new OPE('\"claims\" parameter must be a JSON with a top level object');\n            }\n        }\n    }\n    {\n        let value = parameters.get('authorization_details');\n        if (value !== null) {\n            try {\n                claims.authorization_details = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"authorization_details\" parameter as JSON', { cause });\n            }\n            if (!Array.isArray(claims.authorization_details)) {\n                throw new OPE('\"authorization_details\" parameter must be a JSON with a top level array');\n            }\n        }\n    }\n    const header = {\n        alg: keyToJws(key),\n        typ: 'oauth-authz-req+jwt',\n        kid,\n    };\n    modifyAssertion?.(header, claims);\n    return jwt(header, claims, key);\n}\nasync function dpopProofJwt(headers, options, url, htm, clockSkew, accessToken) {\n    const { privateKey, publicKey, nonce = dpopNonces.get(url.origin) } = options;\n    if (!isPrivateKey(privateKey)) {\n        throw new TypeError('\"DPoP.privateKey\" must be a private CryptoKey');\n    }\n    if (!isPublicKey(publicKey)) {\n        throw new TypeError('\"DPoP.publicKey\" must be a public CryptoKey');\n    }\n    if (nonce !== undefined && !validateString(nonce)) {\n        throw new TypeError('\"DPoP.nonce\" must be a non-empty string or undefined');\n    }\n    if (!publicKey.extractable) {\n        throw new TypeError('\"DPoP.publicKey.extractable\" must be true');\n    }\n    const now = epochTime() + clockSkew;\n    const header = {\n        alg: keyToJws(privateKey),\n        typ: 'dpop+jwt',\n        jwk: await publicJwk(publicKey),\n    };\n    const payload = {\n        iat: now,\n        jti: randomBytes(),\n        htm,\n        nonce,\n        htu: `${url.origin}${url.pathname}`,\n        ath: accessToken ? b64u(await crypto.subtle.digest('SHA-256', buf(accessToken))) : undefined,\n    };\n    options[modifyAssertion]?.(header, payload);\n    headers.set('dpop', await jwt(header, payload, privateKey));\n}\nlet jwkCache;\nasync function getSetPublicJwkCache(key) {\n    const { kty, e, n, x, y, crv } = await crypto.subtle.exportKey('jwk', key);\n    const jwk = { kty, e, n, x, y, crv };\n    jwkCache.set(key, jwk);\n    return jwk;\n}\nasync function publicJwk(key) {\n    jwkCache || (jwkCache = new WeakMap());\n    return jwkCache.get(key) || getSetPublicJwkCache(key);\n}\nfunction validateEndpoint(value, endpoint, useMtlsAlias) {\n    if (typeof value !== 'string') {\n        if (useMtlsAlias) {\n            throw new TypeError(`\"as.mtls_endpoint_aliases.${endpoint}\" must be a string`);\n        }\n        throw new TypeError(`\"as.${endpoint}\" must be a string`);\n    }\n    return new URL(value);\n}\nfunction resolveEndpoint(as, endpoint, useMtlsAlias = false) {\n    if (useMtlsAlias && as.mtls_endpoint_aliases && endpoint in as.mtls_endpoint_aliases) {\n        return validateEndpoint(as.mtls_endpoint_aliases[endpoint], endpoint, useMtlsAlias);\n    }\n    return validateEndpoint(as[endpoint], endpoint, useMtlsAlias);\n}\nfunction alias(client, options) {\n    if (client.use_mtls_endpoint_aliases || options?.[useMtlsAlias]) {\n        return true;\n    }\n    return false;\n}\nexport async function pushedAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'pushed_authorization_request_endpoint', alias(client, options));\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport function isOAuth2Error(input) {\n    const value = input;\n    if (typeof value !== 'object' || Array.isArray(value) || value === null) {\n        return false;\n    }\n    return value.error !== undefined;\n}\nfunction unquote(value) {\n    if (value.length >= 2 && value[0] === '\"' && value[value.length - 1] === '\"') {\n        return value.slice(1, -1);\n    }\n    return value;\n}\nconst SPLIT_REGEXP = /((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/;\nconst SCHEMES_REGEXP = /(?:^|, ?)([0-9a-zA-Z!#$%&'*+\\-.^_`|~]+)(?=$|[ ,])/g;\nfunction wwwAuth(scheme, params) {\n    const arr = params.split(SPLIT_REGEXP).slice(1);\n    if (!arr.length) {\n        return { scheme: scheme.toLowerCase(), parameters: {} };\n    }\n    arr[arr.length - 1] = arr[arr.length - 1].replace(/,$/, '');\n    const parameters = {};\n    for (let i = 1; i < arr.length; i += 2) {\n        const idx = i;\n        if (arr[idx][0] === '\"') {\n            while (arr[idx].slice(-1) !== '\"' && ++i < arr.length) {\n                arr[idx] += arr[i];\n            }\n        }\n        const key = arr[idx - 1].replace(/^(?:, ?)|=$/g, '').toLowerCase();\n        parameters[key] = unquote(arr[idx]);\n    }\n    return {\n        scheme: scheme.toLowerCase(),\n        parameters,\n    };\n}\nexport function parseWwwAuthenticateChallenges(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    const header = response.headers.get('www-authenticate');\n    if (header === null) {\n        return undefined;\n    }\n    const result = [];\n    for (const { 1: scheme, index } of header.matchAll(SCHEMES_REGEXP)) {\n        result.push([scheme, index]);\n    }\n    if (!result.length) {\n        return undefined;\n    }\n    const challenges = result.map(([scheme, indexOf], i, others) => {\n        const next = others[i + 1];\n        let parameters;\n        if (next) {\n            parameters = header.slice(indexOf, next[1]);\n        }\n        else {\n            parameters = header.slice(indexOf);\n        }\n        return wwwAuth(scheme, parameters);\n    });\n    return challenges;\n}\nexport async function processPushedAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 201) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Pushed Authorization Request Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.request_uri)) {\n        throw new OPE('\"response\" body \"request_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    return json;\n}\nexport async function protectedResourceRequest(accessToken, method, url, headers, body, options) {\n    if (!validateString(accessToken)) {\n        throw new TypeError('\"accessToken\" must be a non-empty string');\n    }\n    if (!(url instanceof URL)) {\n        throw new TypeError('\"url\" must be an instance of URL');\n    }\n    headers = prepareHeaders(headers);\n    if (options?.DPoP === undefined) {\n        headers.set('authorization', `Bearer ${accessToken}`);\n    }\n    else {\n        await dpopProofJwt(headers, options.DPoP, url, method.toUpperCase(), getClockSkew({ [clockSkew]: options?.[clockSkew] }), accessToken);\n        headers.set('authorization', `DPoP ${accessToken}`);\n    }\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nexport async function userInfoRequest(as, client, accessToken, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'userinfo_endpoint', alias(client, options));\n    const headers = prepareHeaders(options?.headers);\n    if (client.userinfo_signed_response_alg) {\n        headers.set('accept', 'application/jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n        headers.append('accept', 'application/jwt');\n    }\n    return protectedResourceRequest(accessToken, 'GET', url, headers, null, {\n        ...options,\n        [clockSkew]: getClockSkew(client),\n    });\n}\nlet jwksMap;\nfunction setJwksCache(as, jwks, uat, cache) {\n    jwksMap || (jwksMap = new WeakMap());\n    jwksMap.set(as, {\n        jwks,\n        uat,\n        get age() {\n            return epochTime() - this.uat;\n        },\n    });\n    if (cache) {\n        Object.assign(cache, { jwks: structuredClone(jwks), uat });\n    }\n}\nfunction isFreshJwksCache(input) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || epochTime() - input.uat >= 300) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !isJsonObject(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, isJsonObject)) {\n        return false;\n    }\n    return true;\n}\nfunction clearJwksCache(as, cache) {\n    jwksMap?.delete(as);\n    delete cache?.jwks;\n    delete cache?.uat;\n}\nasync function getPublicSigKeyFromIssuerJwksUri(as, options, header) {\n    const { alg, kid } = header;\n    checkSupportedJwsAlg(alg);\n    if (!jwksMap?.has(as) && isFreshJwksCache(options?.[jwksCache])) {\n        setJwksCache(as, options?.[jwksCache].jwks, options?.[jwksCache].uat);\n    }\n    let jwks;\n    let age;\n    if (jwksMap?.has(as)) {\n        ;\n        ({ jwks, age } = jwksMap.get(as));\n        if (age >= 300) {\n            clearJwksCache(as, options?.[jwksCache]);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n    }\n    else {\n        jwks = await jwksRequest(as, options).then(processJwksResponse);\n        age = 0;\n        setJwksCache(as, jwks, epochTime(), options?.[jwksCache]);\n    }\n    let kty;\n    switch (alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            kty = 'RSA';\n            break;\n        case 'ES':\n            kty = 'EC';\n            break;\n        case 'Ed':\n            kty = 'OKP';\n            break;\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const candidates = jwks.keys.filter((jwk) => {\n        if (jwk.kty !== kty) {\n            return false;\n        }\n        if (kid !== undefined && kid !== jwk.kid) {\n            return false;\n        }\n        if (jwk.alg !== undefined && alg !== jwk.alg) {\n            return false;\n        }\n        if (jwk.use !== undefined && jwk.use !== 'sig') {\n            return false;\n        }\n        if (jwk.key_ops?.includes('verify') === false) {\n            return false;\n        }\n        switch (true) {\n            case alg === 'ES256' && jwk.crv !== 'P-256':\n            case alg === 'ES384' && jwk.crv !== 'P-384':\n            case alg === 'ES512' && jwk.crv !== 'P-521':\n            case alg === 'EdDSA' && !(jwk.crv === 'Ed25519' || jwk.crv === 'Ed448'):\n                return false;\n        }\n        return true;\n    });\n    const { 0: jwk, length } = candidates;\n    if (!length) {\n        if (age >= 60) {\n            clearJwksCache(as, options?.[jwksCache]);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n        throw new OPE('error when selecting a JWT verification key, no applicable keys found');\n    }\n    if (length !== 1) {\n        throw new OPE('error when selecting a JWT verification key, multiple applicable keys found, a \"kid\" JWT Header Parameter is required');\n    }\n    const key = await importJwk(alg, jwk);\n    if (key.type !== 'public') {\n        throw new OPE('jwks_uri must only contain public keys');\n    }\n    return key;\n}\nexport const skipSubjectCheck = Symbol();\nfunction getContentType(response) {\n    return response.headers.get('content-type')?.split(';')[0];\n}\nexport async function processUserInfoResponse(as, client, expectedSubject, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform UserInfo Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/jwt') {\n        assertReadableResponse(response);\n        const { claims, jwt } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.userinfo_signed_response_alg, as.userinfo_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n            .then(validateOptionalAudience.bind(undefined, client.client_id))\n            .then(validateOptionalIssuer.bind(undefined, as.issuer));\n        jwtResponseBodies.set(response, jwt);\n        json = claims;\n    }\n    else {\n        if (client.userinfo_signed_response_alg) {\n            throw new OPE('JWT UserInfo Response expected');\n        }\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.sub)) {\n        throw new OPE('\"response\" body \"sub\" property must be a non-empty string');\n    }\n    switch (expectedSubject) {\n        case skipSubjectCheck:\n            break;\n        default:\n            if (!validateString(expectedSubject)) {\n                throw new OPE('\"expectedSubject\" must be a non-empty string');\n            }\n            if (json.sub !== expectedSubject) {\n                throw new OPE('unexpected \"response\" body \"sub\" value');\n            }\n    }\n    return json;\n}\nasync function authenticatedRequest(as, client, method, url, body, headers, options) {\n    await clientAuthentication(as, client, body, headers, options?.clientPrivateKey);\n    headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function tokenEndpointRequest(as, client, grantType, parameters, options) {\n    const url = resolveEndpoint(as, 'token_endpoint', alias(client, options));\n    parameters.set('grant_type', grantType);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, parameters, headers, options);\n}\nexport async function refreshTokenGrantRequest(as, client, refreshToken, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(refreshToken)) {\n        throw new TypeError('\"refreshToken\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('refresh_token', refreshToken);\n    return tokenEndpointRequest(as, client, 'refresh_token', parameters, options);\n}\nconst idTokenClaims = new WeakMap();\nconst jwtResponseBodies = new WeakMap();\nexport function getValidatedIdTokenClaims(ref) {\n    if (!ref.id_token) {\n        return undefined;\n    }\n    const claims = idTokenClaims.get(ref);\n    if (!claims) {\n        throw new TypeError('\"ref\" was already garbage collected or did not resolve from the proper sources');\n    }\n    return claims[0];\n}\nexport async function validateIdTokenSignature(as, ref, options) {\n    assertAs(as);\n    if (!idTokenClaims.has(ref)) {\n        throw new OPE('\"ref\" does not contain an ID Token to verify the signature of');\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature, } = idTokenClaims.get(ref)[1].split('.');\n    const header = JSON.parse(buf(b64u(protectedHeader)));\n    if (header.alg.startsWith('HS')) {\n        throw new UnsupportedOperationError();\n    }\n    let key;\n    key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, b64u(encodedSignature));\n}\nasync function validateJwtResponseSignature(as, ref, options) {\n    assertAs(as);\n    if (!jwtResponseBodies.has(ref)) {\n        throw new OPE('\"ref\" does not contain a processed JWT Response to verify the signature of');\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature, } = jwtResponseBodies.get(ref).split('.');\n    const header = JSON.parse(buf(b64u(protectedHeader)));\n    if (header.alg.startsWith('HS')) {\n        throw new UnsupportedOperationError();\n    }\n    let key;\n    key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, b64u(encodedSignature));\n}\nexport function validateJwtUserInfoSignature(as, ref, options) {\n    return validateJwtResponseSignature(as, ref, options);\n}\nexport function validateJwtIntrospectionSignature(as, ref, options) {\n    return validateJwtResponseSignature(as, ref, options);\n}\nasync function processGenericAccessTokenResponse(as, client, response, ignoreIdToken = false, ignoreRefreshToken = false) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Token Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.access_token)) {\n        throw new OPE('\"response\" body \"access_token\" property must be a non-empty string');\n    }\n    if (!validateString(json.token_type)) {\n        throw new OPE('\"response\" body \"token_type\" property must be a non-empty string');\n    }\n    json.token_type = json.token_type.toLowerCase();\n    if (json.token_type !== 'dpop' && json.token_type !== 'bearer') {\n        throw new UnsupportedOperationError('unsupported `token_type` value');\n    }\n    if (json.expires_in !== undefined &&\n        (typeof json.expires_in !== 'number' || json.expires_in <= 0)) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (!ignoreRefreshToken &&\n        json.refresh_token !== undefined &&\n        !validateString(json.refresh_token)) {\n        throw new OPE('\"response\" body \"refresh_token\" property must be a non-empty string');\n    }\n    if (json.scope !== undefined && typeof json.scope !== 'string') {\n        throw new OPE('\"response\" body \"scope\" property must be a string');\n    }\n    if (!ignoreIdToken) {\n        if (json.id_token !== undefined && !validateString(json.id_token)) {\n            throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n        }\n        if (json.id_token) {\n            const { claims, jwt } = await validateJwt(json.id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n                .then(validatePresence.bind(undefined, ['aud', 'exp', 'iat', 'iss', 'sub']))\n                .then(validateIssuer.bind(undefined, as.issuer))\n                .then(validateAudience.bind(undefined, client.client_id));\n            if (Array.isArray(claims.aud) && claims.aud.length !== 1) {\n                if (claims.azp === undefined) {\n                    throw new OPE('ID Token \"aud\" (audience) claim includes additional untrusted audiences');\n                }\n                if (claims.azp !== client.client_id) {\n                    throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n                }\n            }\n            if (claims.auth_time !== undefined &&\n                (!Number.isFinite(claims.auth_time) || Math.sign(claims.auth_time) !== 1)) {\n                throw new OPE('ID Token \"auth_time\" (authentication time) must be a positive number');\n            }\n            idTokenClaims.set(json, [claims, jwt]);\n        }\n    }\n    return json;\n}\nexport async function processRefreshTokenResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nfunction validateOptionalAudience(expected, result) {\n    if (result.claims.aud !== undefined) {\n        return validateAudience(expected, result);\n    }\n    return result;\n}\nfunction validateAudience(expected, result) {\n    if (Array.isArray(result.claims.aud)) {\n        if (!result.claims.aud.includes(expected)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n        }\n    }\n    else if (result.claims.aud !== expected) {\n        throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n    }\n    return result;\n}\nfunction validateOptionalIssuer(expected, result) {\n    if (result.claims.iss !== undefined) {\n        return validateIssuer(expected, result);\n    }\n    return result;\n}\nfunction validateIssuer(expected, result) {\n    if (result.claims.iss !== expected) {\n        throw new OPE('unexpected JWT \"iss\" (issuer) claim value');\n    }\n    return result;\n}\nconst branded = new WeakSet();\nfunction brand(searchParams) {\n    branded.add(searchParams);\n    return searchParams;\n}\nexport async function authorizationCodeGrantRequest(as, client, callbackParameters, redirectUri, codeVerifier, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!branded.has(callbackParameters)) {\n        throw new TypeError('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()');\n    }\n    if (!validateString(redirectUri)) {\n        throw new TypeError('\"redirectUri\" must be a non-empty string');\n    }\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    const code = getURLSearchParameter(callbackParameters, 'code');\n    if (!code) {\n        throw new OPE('no authorization code in \"callbackParameters\"');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('redirect_uri', redirectUri);\n    parameters.set('code_verifier', codeVerifier);\n    parameters.set('code', code);\n    return tokenEndpointRequest(as, client, 'authorization_code', parameters, options);\n}\nconst jwtClaimNames = {\n    aud: 'audience',\n    c_hash: 'code hash',\n    client_id: 'client id',\n    exp: 'expiration time',\n    iat: 'issued at',\n    iss: 'issuer',\n    jti: 'jwt id',\n    nonce: 'nonce',\n    s_hash: 'state hash',\n    sub: 'subject',\n    ath: 'access token hash',\n    htm: 'http method',\n    htu: 'http uri',\n    cnf: 'confirmation',\n};\nfunction validatePresence(required, result) {\n    for (const claim of required) {\n        if (result.claims[claim] === undefined) {\n            throw new OPE(`JWT \"${claim}\" (${jwtClaimNames[claim]}) claim missing`);\n        }\n    }\n    return result;\n}\nexport const expectNoNonce = Symbol();\nexport const skipAuthTimeCheck = Symbol();\nexport async function processAuthorizationCodeOpenIDResponse(as, client, response, expectedNonce, maxAge) {\n    const result = await processGenericAccessTokenResponse(as, client, response);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!validateString(result.id_token)) {\n        throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    const claims = getValidatedIdTokenClaims(result);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"maxAge\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    switch (expectedNonce) {\n        case undefined:\n        case expectNoNonce:\n            if (claims.nonce !== undefined) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n            break;\n        default:\n            if (!validateString(expectedNonce)) {\n                throw new TypeError('\"expectedNonce\" must be a non-empty string');\n            }\n            if (claims.nonce === undefined) {\n                throw new OPE('ID Token \"nonce\" claim missing');\n            }\n            if (claims.nonce !== expectedNonce) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n    }\n    return result;\n}\nexport async function processAuthorizationCodeOAuth2Response(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (result.id_token !== undefined) {\n        if (typeof result.id_token === 'string' && result.id_token.length) {\n            throw new OPE('Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing');\n        }\n        delete result.id_token;\n    }\n    return result;\n}\nfunction checkJwtType(expected, result) {\n    if (typeof result.header.typ !== 'string' || normalizeTyp(result.header.typ) !== expected) {\n        throw new OPE('unexpected JWT \"typ\" header parameter value');\n    }\n    return result;\n}\nexport async function clientCredentialsGrantRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    return tokenEndpointRequest(as, client, 'client_credentials', new URLSearchParams(parameters), options);\n}\nexport async function genericTokenEndpointRequest(as, client, grantType, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(grantType)) {\n        throw new TypeError('\"grantType\" must be a non-empty string');\n    }\n    return tokenEndpointRequest(as, client, grantType, new URLSearchParams(parameters), options);\n}\nexport async function processClientCredentialsResponse(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    return result;\n}\nexport async function revocationRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'revocation_endpoint', alias(client, options));\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    headers.delete('accept');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processRevocationResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Revocation Endpoint response');\n    }\n    return undefined;\n}\nfunction assertReadableResponse(response) {\n    if (response.bodyUsed) {\n        throw new TypeError('\"response\" body has been used already');\n    }\n}\nexport async function introspectionRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'introspection_endpoint', alias(client, options));\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    if (options?.requestJwtResponse ?? client.introspection_signed_response_alg) {\n        headers.set('accept', 'application/token-introspection+jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processIntrospectionResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Introspection Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/token-introspection+jwt') {\n        assertReadableResponse(response);\n        const { claims, jwt } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.introspection_signed_response_alg, as.introspection_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n            .then(checkJwtType.bind(undefined, 'token-introspection+jwt'))\n            .then(validatePresence.bind(undefined, ['aud', 'iat', 'iss']))\n            .then(validateIssuer.bind(undefined, as.issuer))\n            .then(validateAudience.bind(undefined, client.client_id));\n        jwtResponseBodies.set(response, jwt);\n        json = claims.token_introspection;\n        if (!isJsonObject(json)) {\n            throw new OPE('JWT \"token_introspection\" claim must be a JSON object');\n        }\n    }\n    else {\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n        if (!isJsonObject(json)) {\n            throw new OPE('\"response\" body must be a top level object');\n        }\n    }\n    if (typeof json.active !== 'boolean') {\n        throw new OPE('\"response\" body \"active\" property must be a boolean');\n    }\n    return json;\n}\nasync function jwksRequest(as, options) {\n    assertAs(as);\n    const url = resolveEndpoint(as, 'jwks_uri');\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    headers.append('accept', 'application/jwk-set+json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function processJwksResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform JSON Web Key Set response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!Array.isArray(json.keys)) {\n        throw new OPE('\"response\" body \"keys\" property must be an array');\n    }\n    if (!Array.prototype.every.call(json.keys, isJsonObject)) {\n        throw new OPE('\"response\" body \"keys\" property members must be JWK formatted objects');\n    }\n    return json;\n}\nasync function handleOAuthBodyError(response) {\n    if (response.status > 399 && response.status < 500) {\n        assertReadableResponse(response);\n        try {\n            const json = await response.json();\n            if (isJsonObject(json) && typeof json.error === 'string' && json.error.length) {\n                if (json.error_description !== undefined && typeof json.error_description !== 'string') {\n                    delete json.error_description;\n                }\n                if (json.error_uri !== undefined && typeof json.error_uri !== 'string') {\n                    delete json.error_uri;\n                }\n                if (json.algs !== undefined && typeof json.algs !== 'string') {\n                    delete json.algs;\n                }\n                if (json.scope !== undefined && typeof json.scope !== 'string') {\n                    delete json.scope;\n                }\n                return json;\n            }\n        }\n        catch { }\n    }\n    return undefined;\n}\nfunction checkSupportedJwsAlg(alg) {\n    if (!SUPPORTED_JWS_ALGS.includes(alg)) {\n        throw new UnsupportedOperationError('unsupported JWS \"alg\" identifier');\n    }\n    return alg;\n}\nfunction checkRsaKeyAlgorithm(algorithm) {\n    if (typeof algorithm.modulusLength !== 'number' || algorithm.modulusLength < 2048) {\n        throw new OPE(`${algorithm.name} modulusLength must be at least 2048 bits`);\n    }\n}\nfunction ecdsaHashName(namedCurve) {\n    switch (namedCurve) {\n        case 'P-256':\n            return 'SHA-256';\n        case 'P-384':\n            return 'SHA-384';\n        case 'P-521':\n            return 'SHA-512';\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nfunction keyToSubtle(key) {\n    switch (key.algorithm.name) {\n        case 'ECDSA':\n            return {\n                name: key.algorithm.name,\n                hash: ecdsaHashName(key.algorithm.namedCurve),\n            };\n        case 'RSA-PSS': {\n            checkRsaKeyAlgorithm(key.algorithm);\n            switch (key.algorithm.hash.name) {\n                case 'SHA-256':\n                case 'SHA-384':\n                case 'SHA-512':\n                    return {\n                        name: key.algorithm.name,\n                        saltLength: parseInt(key.algorithm.hash.name.slice(-3), 10) >> 3,\n                    };\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        case 'RSASSA-PKCS1-v1_5':\n            checkRsaKeyAlgorithm(key.algorithm);\n            return key.algorithm.name;\n        case 'Ed448':\n        case 'Ed25519':\n            return key.algorithm.name;\n    }\n    throw new UnsupportedOperationError();\n}\nconst noSignatureCheck = Symbol();\nasync function validateJwsSignature(protectedHeader, payload, key, signature) {\n    const input = `${protectedHeader}.${payload}`;\n    const verified = await crypto.subtle.verify(keyToSubtle(key), key, signature, buf(input));\n    if (!verified) {\n        throw new OPE('JWT signature verification failed');\n    }\n}\nasync function validateJwt(jws, checkAlg, getKey, clockSkew, clockTolerance, decryptJwt) {\n    let { 0: protectedHeader, 1: payload, 2: encodedSignature, length } = jws.split('.');\n    if (length === 5) {\n        if (decryptJwt !== undefined) {\n            jws = await decryptJwt(jws);\n            ({ 0: protectedHeader, 1: payload, 2: encodedSignature, length } = jws.split('.'));\n        }\n        else {\n            throw new UnsupportedOperationError('JWE structure JWTs are not supported');\n        }\n    }\n    if (length !== 3) {\n        throw new OPE('Invalid JWT');\n    }\n    let header;\n    try {\n        header = JSON.parse(buf(b64u(protectedHeader)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Header body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(header)) {\n        throw new OPE('JWT Header must be a top level object');\n    }\n    checkAlg(header);\n    if (header.crit !== undefined) {\n        throw new OPE('unexpected JWT \"crit\" header parameter');\n    }\n    const signature = b64u(encodedSignature);\n    let key;\n    if (getKey !== noSignatureCheck) {\n        key = await getKey(header);\n        await validateJwsSignature(protectedHeader, payload, key, signature);\n    }\n    let claims;\n    try {\n        claims = JSON.parse(buf(b64u(payload)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Payload body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(claims)) {\n        throw new OPE('JWT Payload must be a top level object');\n    }\n    const now = epochTime() + clockSkew;\n    if (claims.exp !== undefined) {\n        if (typeof claims.exp !== 'number') {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim type');\n        }\n        if (claims.exp <= now - clockTolerance) {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim value, timestamp is <= now()');\n        }\n    }\n    if (claims.iat !== undefined) {\n        if (typeof claims.iat !== 'number') {\n            throw new OPE('unexpected JWT \"iat\" (issued at) claim type');\n        }\n    }\n    if (claims.iss !== undefined) {\n        if (typeof claims.iss !== 'string') {\n            throw new OPE('unexpected JWT \"iss\" (issuer) claim type');\n        }\n    }\n    if (claims.nbf !== undefined) {\n        if (typeof claims.nbf !== 'number') {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim type');\n        }\n        if (claims.nbf > now + clockTolerance) {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim value, timestamp is > now()');\n        }\n    }\n    if (claims.aud !== undefined) {\n        if (typeof claims.aud !== 'string' && !Array.isArray(claims.aud)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim type');\n        }\n    }\n    return { header, claims, signature, key, jwt: jws };\n}\nexport async function validateJwtAuthResponse(as, client, parameters, expectedState, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    const response = getURLSearchParameter(parameters, 'response');\n    if (!response) {\n        throw new OPE('\"parameters\" does not contain a JARM response');\n    }\n    const { claims } = await validateJwt(response, checkSigningAlgorithm.bind(undefined, client.authorization_signed_response_alg, as.authorization_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n        .then(validatePresence.bind(undefined, ['aud', 'exp', 'iss']))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const result = new URLSearchParams();\n    for (const [key, value] of Object.entries(claims)) {\n        if (typeof value === 'string' && key !== 'aud') {\n            result.set(key, value);\n        }\n    }\n    return validateAuthResponse(as, client, result, expectedState);\n}\nasync function idTokenHash(alg, data, key) {\n    let algorithm;\n    switch (alg) {\n        case 'RS256':\n        case 'PS256':\n        case 'ES256':\n            algorithm = 'SHA-256';\n            break;\n        case 'RS384':\n        case 'PS384':\n        case 'ES384':\n            algorithm = 'SHA-384';\n            break;\n        case 'RS512':\n        case 'PS512':\n        case 'ES512':\n            algorithm = 'SHA-512';\n            break;\n        case 'EdDSA':\n            if (key.algorithm.name === 'Ed25519') {\n                algorithm = 'SHA-512';\n                break;\n            }\n            throw new UnsupportedOperationError();\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const digest = await crypto.subtle.digest(algorithm, buf(data));\n    return b64u(digest.slice(0, digest.byteLength / 2));\n}\nasync function idTokenHashMatches(data, actual, alg, key) {\n    const expected = await idTokenHash(alg, data, key);\n    return actual === expected;\n}\nexport async function validateDetachedSignatureResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        if (!parameters.hash.length) {\n            throw new TypeError('\"parameters\" as an instance of URL must contain a hash (fragment) with the Authorization Response parameters');\n        }\n        parameters = new URLSearchParams(parameters.hash.slice(1));\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams');\n    }\n    parameters = new URLSearchParams(parameters);\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    parameters.delete('id_token');\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new TypeError('\"expectedState\" must be a non-empty string');\n            }\n    }\n    const result = validateAuthResponse({\n        ...as,\n        authorization_response_iss_parameter_supported: false,\n    }, client, parameters, expectedState);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!id_token) {\n        throw new OPE('\"parameters\" does not contain an ID Token');\n    }\n    const code = getURLSearchParameter(parameters, 'code');\n    if (!code) {\n        throw new OPE('\"parameters\" does not contain an Authorization Code');\n    }\n    const requiredClaims = [\n        'aud',\n        'exp',\n        'iat',\n        'iss',\n        'sub',\n        'nonce',\n        'c_hash',\n    ];\n    if (typeof expectedState === 'string') {\n        requiredClaims.push('s_hash');\n    }\n    const { claims, header, key } = await validateJwt(id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const clockSkew = getClockSkew(client);\n    const now = epochTime() + clockSkew;\n    if (claims.iat < now - 3600) {\n        throw new OPE('unexpected JWT \"iat\" (issued at) claim value, it is too far in the past');\n    }\n    if (typeof claims.c_hash !== 'string' ||\n        (await idTokenHashMatches(code, claims.c_hash, header.alg, key)) !== true) {\n        throw new OPE('invalid ID Token \"c_hash\" (code hash) claim value');\n    }\n    if (claims.s_hash !== undefined && typeof expectedState !== 'string') {\n        throw new OPE('could not verify ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (typeof expectedState === 'string' &&\n        (typeof claims.s_hash !== 'string' ||\n            (await idTokenHashMatches(expectedState, claims.s_hash, header.alg, key)) !== true)) {\n        throw new OPE('invalid ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (claims.auth_time !== undefined &&\n        (!Number.isFinite(claims.auth_time) || Math.sign(claims.auth_time) !== 1)) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) must be a positive number');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"maxAge\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    if (!validateString(expectedNonce)) {\n        throw new TypeError('\"expectedNonce\" must be a non-empty string');\n    }\n    if (claims.nonce !== expectedNonce) {\n        throw new OPE('unexpected ID Token \"nonce\" claim value');\n    }\n    if (Array.isArray(claims.aud) && claims.aud.length !== 1) {\n        if (claims.azp === undefined) {\n            throw new OPE('ID Token \"aud\" (audience) claim includes additional untrusted audiences');\n        }\n        if (claims.azp !== client.client_id) {\n            throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n        }\n    }\n    return result;\n}\nfunction checkSigningAlgorithm(client, issuer, header) {\n    if (client !== undefined) {\n        if (header.alg !== client) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (Array.isArray(issuer)) {\n        if (!issuer.includes(header.alg)) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (header.alg !== 'RS256') {\n        throw new OPE('unexpected JWT \"alg\" header parameter');\n    }\n}\nfunction getURLSearchParameter(parameters, name) {\n    const { 0: value, length } = parameters.getAll(name);\n    if (length > 1) {\n        throw new OPE(`\"${name}\" parameter must be provided only once`);\n    }\n    return value;\n}\nexport const skipStateCheck = Symbol();\nexport const expectNoState = Symbol();\nexport function validateAuthResponse(as, client, parameters, expectedState) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    if (getURLSearchParameter(parameters, 'response')) {\n        throw new OPE('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');\n    }\n    const iss = getURLSearchParameter(parameters, 'iss');\n    const state = getURLSearchParameter(parameters, 'state');\n    if (!iss && as.authorization_response_iss_parameter_supported) {\n        throw new OPE('response parameter \"iss\" (issuer) missing');\n    }\n    if (iss && iss !== as.issuer) {\n        throw new OPE('unexpected \"iss\" (issuer) response parameter value');\n    }\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            if (state !== undefined) {\n                throw new OPE('unexpected \"state\" response parameter encountered');\n            }\n            break;\n        case skipStateCheck:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new OPE('\"expectedState\" must be a non-empty string');\n            }\n            if (state === undefined) {\n                throw new OPE('response parameter \"state\" missing');\n            }\n            if (state !== expectedState) {\n                throw new OPE('unexpected \"state\" response parameter value');\n            }\n    }\n    const error = getURLSearchParameter(parameters, 'error');\n    if (error) {\n        return {\n            error,\n            error_description: getURLSearchParameter(parameters, 'error_description'),\n            error_uri: getURLSearchParameter(parameters, 'error_uri'),\n        };\n    }\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    const token = getURLSearchParameter(parameters, 'token');\n    if (id_token !== undefined || token !== undefined) {\n        throw new UnsupportedOperationError('implicit and hybrid flows are not supported');\n    }\n    return brand(new URLSearchParams(parameters));\n}\nfunction algToSubtle(alg, crv) {\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n        case 'ES256':\n        case 'ES384':\n            return { name: 'ECDSA', namedCurve: `P-${alg.slice(-3)}` };\n        case 'ES512':\n            return { name: 'ECDSA', namedCurve: 'P-521' };\n        case 'EdDSA': {\n            switch (crv) {\n                case 'Ed25519':\n                case 'Ed448':\n                    return crv;\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nasync function importJwk(alg, jwk) {\n    const { ext, key_ops, use, ...key } = jwk;\n    return crypto.subtle.importKey('jwk', key, algToSubtle(alg, jwk.crv), true, ['verify']);\n}\nexport async function deviceAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'device_authorization_endpoint', alias(client, options));\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processDeviceAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Device Authorization Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.device_code)) {\n        throw new OPE('\"response\" body \"device_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.user_code)) {\n        throw new OPE('\"response\" body \"user_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.verification_uri)) {\n        throw new OPE('\"response\" body \"verification_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (json.verification_uri_complete !== undefined &&\n        !validateString(json.verification_uri_complete)) {\n        throw new OPE('\"response\" body \"verification_uri_complete\" property must be a non-empty string');\n    }\n    if (json.interval !== undefined && (typeof json.interval !== 'number' || json.interval <= 0)) {\n        throw new OPE('\"response\" body \"interval\" property must be a positive number');\n    }\n    return json;\n}\nexport async function deviceCodeGrantRequest(as, client, deviceCode, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(deviceCode)) {\n        throw new TypeError('\"deviceCode\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('device_code', deviceCode);\n    return tokenEndpointRequest(as, client, 'urn:ietf:params:oauth:grant-type:device_code', parameters, options);\n}\nexport async function processDeviceCodeResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nexport async function generateKeyPair(alg, options) {\n    if (!validateString(alg)) {\n        throw new TypeError('\"alg\" must be a non-empty string');\n    }\n    const algorithm = algToSubtle(alg, alg === 'EdDSA' ? (options?.crv ?? 'Ed25519') : undefined);\n    if (alg.startsWith('PS') || alg.startsWith('RS')) {\n        Object.assign(algorithm, {\n            modulusLength: options?.modulusLength ?? 2048,\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        });\n    }\n    return crypto.subtle.generateKey(algorithm, options?.extractable ?? false, [\n        'sign',\n        'verify',\n    ]);\n}\nfunction normalizeHtu(htu) {\n    const url = new URL(htu);\n    url.search = '';\n    url.hash = '';\n    return url.href;\n}\nasync function validateDPoP(as, request, accessToken, accessTokenClaims, options) {\n    const header = request.headers.get('dpop');\n    if (header === null) {\n        throw new OPE('operation indicated DPoP use but the request has no DPoP HTTP Header');\n    }\n    if (request.headers.get('authorization')?.toLowerCase().startsWith('dpop ') === false) {\n        throw new OPE(`operation indicated DPoP use but the request's Authorization HTTP Header scheme is not DPoP`);\n    }\n    if (typeof accessTokenClaims.cnf?.jkt !== 'string') {\n        throw new OPE('operation indicated DPoP use but the JWT Access Token has no jkt confirmation claim');\n    }\n    const clockSkew = getClockSkew(options);\n    const proof = await validateJwt(header, checkSigningAlgorithm.bind(undefined, undefined, as?.dpop_signing_alg_values_supported || SUPPORTED_JWS_ALGS), async ({ jwk, alg }) => {\n        if (!jwk) {\n            throw new OPE('DPoP Proof is missing the jwk header parameter');\n        }\n        const key = await importJwk(alg, jwk);\n        if (key.type !== 'public') {\n            throw new OPE('DPoP Proof jwk header parameter must contain a public key');\n        }\n        return key;\n    }, clockSkew, getClockTolerance(options), undefined)\n        .then(checkJwtType.bind(undefined, 'dpop+jwt'))\n        .then(validatePresence.bind(undefined, ['iat', 'jti', 'ath', 'htm', 'htu']));\n    const now = epochTime() + clockSkew;\n    const diff = Math.abs(now - proof.claims.iat);\n    if (diff > 300) {\n        throw new OPE('DPoP Proof iat is not recent enough');\n    }\n    if (proof.claims.htm !== request.method) {\n        throw new OPE('DPoP Proof htm mismatch');\n    }\n    if (typeof proof.claims.htu !== 'string' ||\n        normalizeHtu(proof.claims.htu) !== normalizeHtu(request.url)) {\n        throw new OPE('DPoP Proof htu mismatch');\n    }\n    {\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(accessToken)));\n        if (proof.claims.ath !== expected) {\n            throw new OPE('DPoP Proof ath mismatch');\n        }\n    }\n    {\n        let components;\n        switch (proof.header.jwk.kty) {\n            case 'EC':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                    y: proof.header.jwk.y,\n                };\n                break;\n            case 'OKP':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                };\n                break;\n            case 'RSA':\n                components = {\n                    e: proof.header.jwk.e,\n                    kty: proof.header.jwk.kty,\n                    n: proof.header.jwk.n,\n                };\n                break;\n            default:\n                throw new UnsupportedOperationError();\n        }\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(JSON.stringify(components))));\n        if (accessTokenClaims.cnf.jkt !== expected) {\n            throw new OPE('JWT Access Token confirmation mismatch');\n        }\n    }\n}\nexport async function validateJwtAccessToken(as, request, expectedAudience, options) {\n    assertAs(as);\n    if (!looseInstanceOf(request, Request)) {\n        throw new TypeError('\"request\" must be an instance of Request');\n    }\n    if (!validateString(expectedAudience)) {\n        throw new OPE('\"expectedAudience\" must be a non-empty string');\n    }\n    const authorization = request.headers.get('authorization');\n    if (authorization === null) {\n        throw new OPE('\"request\" is missing an Authorization HTTP Header');\n    }\n    let { 0: scheme, 1: accessToken, length } = authorization.split(' ');\n    scheme = scheme.toLowerCase();\n    switch (scheme) {\n        case 'dpop':\n        case 'bearer':\n            break;\n        default:\n            throw new UnsupportedOperationError('unsupported Authorization HTTP Header scheme');\n    }\n    if (length !== 2) {\n        throw new OPE('invalid Authorization HTTP Header format');\n    }\n    const requiredClaims = [\n        'iss',\n        'exp',\n        'aud',\n        'sub',\n        'iat',\n        'jti',\n        'client_id',\n    ];\n    if (options?.requireDPoP || scheme === 'dpop' || request.headers.has('dpop')) {\n        requiredClaims.push('cnf');\n    }\n    const { claims } = await validateJwt(accessToken, checkSigningAlgorithm.bind(undefined, undefined, SUPPORTED_JWS_ALGS), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(options), getClockTolerance(options), undefined)\n        .then(checkJwtType.bind(undefined, 'at+jwt'))\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, expectedAudience));\n    for (const claim of ['client_id', 'jti', 'sub']) {\n        if (typeof claims[claim] !== 'string') {\n            throw new OPE(`unexpected JWT \"${claim}\" claim type`);\n        }\n    }\n    if ('cnf' in claims) {\n        if (!isJsonObject(claims.cnf)) {\n            throw new OPE('unexpected JWT \"cnf\" (confirmation) claim value');\n        }\n        const { 0: cnf, length } = Object.keys(claims.cnf);\n        if (length) {\n            if (length !== 1) {\n                throw new UnsupportedOperationError('multiple confirmation claims are not supported');\n            }\n            if (cnf !== 'jkt') {\n                throw new UnsupportedOperationError('unsupported JWT Confirmation method');\n            }\n        }\n    }\n    if (options?.requireDPoP ||\n        scheme === 'dpop' ||\n        claims.cnf?.jkt !== undefined ||\n        request.headers.has('dpop')) {\n        await validateDPoP(as, request, accessToken, claims, options);\n    }\n    return claims;\n}\nexport const experimentalCustomFetch = customFetch;\nexport const experimental_customFetch = customFetch;\nexport const experimentalUseMtlsAlias = useMtlsAlias;\nexport const experimental_useMtlsAlias = useMtlsAlias;\nexport const experimental_validateDetachedSignatureResponse = (...args) => validateDetachedSignatureResponse(...args);\nexport const experimental_validateJwtAccessToken = (...args) => validateJwtAccessToken(...args);\nexport const validateJwtUserinfoSignature = (...args) => validateJwtUserInfoSignature(...args);\nexport const experimental_jwksCache = jwksCache;\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2220, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/errors.js"],"sourcesContent":["export function throwErr(...args) {\n    if (typeof args[0] === \"string\") {\n        throw new StackAssertionError(args[0]);\n    }\n    else if (args[0] instanceof Error) {\n        throw args[0];\n    }\n    else {\n        // @ts-expect-error\n        throw new StatusError(...args);\n    }\n}\nexport class StackAssertionError extends Error {\n    extraData;\n    constructor(message, extraData, options) {\n        const disclaimer = `\\n\\nThis is likely an error in Stack. Please report it.`;\n        super(`${message}${message.endsWith(disclaimer) ? \"\" : disclaimer}`, options);\n        this.extraData = extraData;\n    }\n}\nStackAssertionError.prototype.name = \"StackAssertionError\";\nexport function throwStackErr(message, extraData) {\n    throw new StackAssertionError(message, extraData);\n}\nconst errorSinks = new Set();\nexport function registerErrorSink(sink) {\n    if (errorSinks.has(sink)) {\n        return;\n    }\n    errorSinks.add(sink);\n}\nregisterErrorSink((location, ...args) => {\n    console.error(`Error in ${location}:`, ...args);\n});\nexport function captureError(location, error) {\n    for (const sink of errorSinks) {\n        sink(location, error);\n    }\n}\nexport class StatusError extends Error {\n    name = \"StatusError\";\n    statusCode;\n    static BadRequest = { statusCode: 400, message: \"Bad Request\" };\n    static Unauthorized = { statusCode: 401, message: \"Unauthorized\" };\n    static PaymentRequired = { statusCode: 402, message: \"Payment Required\" };\n    static Forbidden = { statusCode: 403, message: \"Forbidden\" };\n    static NotFound = { statusCode: 404, message: \"Not Found\" };\n    static MethodNotAllowed = { statusCode: 405, message: \"Method Not Allowed\" };\n    static NotAcceptable = { statusCode: 406, message: \"Not Acceptable\" };\n    static ProxyAuthenticationRequired = { statusCode: 407, message: \"Proxy Authentication Required\" };\n    static RequestTimeout = { statusCode: 408, message: \"Request Timeout\" };\n    static Conflict = { statusCode: 409, message: \"Conflict\" };\n    static Gone = { statusCode: 410, message: \"Gone\" };\n    static LengthRequired = { statusCode: 411, message: \"Length Required\" };\n    static PreconditionFailed = { statusCode: 412, message: \"Precondition Failed\" };\n    static PayloadTooLarge = { statusCode: 413, message: \"Payload Too Large\" };\n    static URITooLong = { statusCode: 414, message: \"URI Too Long\" };\n    static UnsupportedMediaType = { statusCode: 415, message: \"Unsupported Media Type\" };\n    static RangeNotSatisfiable = { statusCode: 416, message: \"Range Not Satisfiable\" };\n    static ExpectationFailed = { statusCode: 417, message: \"Expectation Failed\" };\n    static ImATeapot = { statusCode: 418, message: \"I'm a teapot\" };\n    static MisdirectedRequest = { statusCode: 421, message: \"Misdirected Request\" };\n    static UnprocessableEntity = { statusCode: 422, message: \"Unprocessable Entity\" };\n    static Locked = { statusCode: 423, message: \"Locked\" };\n    static FailedDependency = { statusCode: 424, message: \"Failed Dependency\" };\n    static TooEarly = { statusCode: 425, message: \"Too Early\" };\n    static UpgradeRequired = { statusCode: 426, message: \"Upgrade Required\" };\n    static PreconditionRequired = { statusCode: 428, message: \"Precondition Required\" };\n    static TooManyRequests = { statusCode: 429, message: \"Too Many Requests\" };\n    static RequestHeaderFieldsTooLarge = { statusCode: 431, message: \"Request Header Fields Too Large\" };\n    static UnavailableForLegalReasons = { statusCode: 451, message: \"Unavailable For Legal Reasons\" };\n    static InternalServerError = { statusCode: 500, message: \"Internal Server Error\" };\n    static NotImplemented = { statusCode: 501, message: \"Not Implemented\" };\n    static BadGateway = { statusCode: 502, message: \"Bad Gateway\" };\n    static ServiceUnavailable = { statusCode: 503, message: \"Service Unavailable\" };\n    static GatewayTimeout = { statusCode: 504, message: \"Gateway Timeout\" };\n    static HTTPVersionNotSupported = { statusCode: 505, message: \"HTTP Version Not Supported\" };\n    static VariantAlsoNegotiates = { statusCode: 506, message: \"Variant Also Negotiates\" };\n    static InsufficientStorage = { statusCode: 507, message: \"Insufficient Storage\" };\n    static LoopDetected = { statusCode: 508, message: \"Loop Detected\" };\n    static NotExtended = { statusCode: 510, message: \"Not Extended\" };\n    static NetworkAuthenticationRequired = { statusCode: 511, message: \"Network Authentication Required\" };\n    constructor(status, message) {\n        if (typeof status === \"object\") {\n            message ??= status.message;\n            status = status.statusCode;\n        }\n        message ??= \"Server Error\";\n        super(message);\n        this.statusCode = status;\n    }\n    isClientError() {\n        return this.statusCode >= 400 && this.statusCode < 500;\n    }\n    isServerError() {\n        return !this.isClientError();\n    }\n    getStatusCode() {\n        return this.statusCode;\n    }\n    getBody() {\n        return new TextEncoder().encode(this.message);\n    }\n    getHeaders() {\n        return {\n            \"Content-Type\": [\"text/plain; charset=utf-8\"],\n        };\n    }\n    toHttpJson() {\n        return {\n            statusCode: this.statusCode,\n            body: this.message,\n            headers: this.getHeaders(),\n        };\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2474, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/uuid/dist/esm-node/native.js"],"sourcesContent":["import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};"],"names":[],"mappings":";;;;AAAA;;uCACe;IACb,YAAY,gHAAM,CAAC,UAAU;AAC/B","ignoreList":[0]}},
    {"offset": {"line": 2487, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/uuid/dist/esm-node/rng.js"],"sourcesContent":["import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,YAAY,IAAI,WAAW,MAAM,qCAAqC;AAE5E,IAAI,UAAU,UAAU,MAAM;AACf,SAAS;IACtB,IAAI,UAAU,UAAU,MAAM,GAAG,IAAI;QACnC,gHAAM,CAAC,cAAc,CAAC;QACtB,UAAU;IACZ;IAEA,OAAO,UAAU,KAAK,CAAC,SAAS,WAAW;AAC7C","ignoreList":[0]}},
    {"offset": {"line": 2506, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/uuid/dist/esm-node/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;"],"names":[],"mappings":";;;;uCAAe","ignoreList":[0]}},
    {"offset": {"line": 2515, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/uuid/dist/esm-node/validate.js"],"sourcesContent":["import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;"],"names":[],"mappings":";;;;AAAA;;AAEA,SAAS,SAAS,IAAI;IACpB,OAAO,OAAO,SAAS,YAAY,oMAAK,CAAC,IAAI,CAAC;AAChD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 2529, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/uuid/dist/esm-node/stringify.js"],"sourcesContent":["import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;"],"names":[],"mappings":";;;;;;AAAA;;AACA;;;CAGC,GAED,MAAM,YAAY,EAAE;AAEpB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC5B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,KAAK,CAAC;AAChD;AAEO,SAAS,gBAAgB,GAAG,EAAE,SAAS,CAAC;IAC7C,uEAAuE;IACvE,oFAAoF;IACpF,OAAO,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC;AACpf;AAEA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAChC,MAAM,OAAO,gBAAgB,KAAK,SAAS,4EAA4E;IACvH,oBAAoB;IACpB,wEAAwE;IACxE,2BAA2B;IAC3B,mEAAmE;IAEnE,IAAI,CAAC,IAAA,uMAAQ,EAAC,OAAO;QACnB,MAAM,UAAU;IAClB;IAEA,OAAO;AACT;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 2565, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/uuid/dist/esm-node/v4.js"],"sourcesContent":["import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,SAAS,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM;IAC9B,IAAI,qMAAM,CAAC,UAAU,IAAI,CAAC,OAAO,CAAC,SAAS;QACzC,OAAO,qMAAM,CAAC,UAAU;IAC1B;IAEA,UAAU,WAAW,CAAC;IACtB,MAAM,OAAO,QAAQ,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,kMAAG,KAAK,gEAAgE;IAEvH,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO;IAC3B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,oCAAoC;IAErE,IAAI,KAAK;QACP,SAAS,UAAU;QAEnB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAG;YAC3B,GAAG,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,EAAE;QAC3B;QAEA,OAAO;IACT;IAEA,OAAO,IAAA,gNAAe,EAAC;AACzB;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 2606, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/uuids.js"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\nexport function generateUuid() {\n    return uuidv4();\n}\n"],"names":[],"mappings":";;;;AAAA;;AACO,SAAS;IACZ,OAAO,IAAA,6NAAM;AACjB","ignoreList":[0]}},
    {"offset": {"line": 2619, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/promises.js"],"sourcesContent":["import { StackAssertionError, captureError } from \"./errors\";\nimport { Result } from \"./results\";\nimport { generateUuid } from \"./uuids\";\nexport function createPromise(callback) {\n    let status = \"pending\";\n    let valueOrReason = undefined;\n    let resolve = null;\n    let reject = null;\n    const promise = new Promise((res, rej) => {\n        resolve = (value) => {\n            if (status !== \"pending\")\n                return;\n            status = \"fulfilled\";\n            valueOrReason = value;\n            res(value);\n        };\n        reject = (reason) => {\n            if (status !== \"pending\")\n                return;\n            status = \"rejected\";\n            valueOrReason = reason;\n            rej(reason);\n        };\n    });\n    callback(resolve, reject);\n    return Object.assign(promise, {\n        status: status,\n        ...status === \"fulfilled\" ? { value: valueOrReason } : {},\n        ...status === \"rejected\" ? { reason: valueOrReason } : {},\n    });\n}\n/**\n * Like Promise.resolve(...), but also adds the status and value properties for use with React's `use` hook.\n */\nexport function resolved(value) {\n    return Object.assign(Promise.resolve(value), {\n        status: \"fulfilled\",\n        value,\n    });\n}\n/**\n * Like Promise.resolve(...), but also adds the status and value properties for use with React's `use` hook.\n */\nexport function rejected(reason) {\n    return Object.assign(Promise.reject(reason), {\n        status: \"rejected\",\n        reason: reason,\n    });\n}\nexport function neverResolve() {\n    return pending(new Promise(() => { }));\n}\nexport function pending(promise, options = {}) {\n    const res = promise.then(value => {\n        res.status = \"fulfilled\";\n        res.value = value;\n        return value;\n    }, actualReason => {\n        res.status = \"rejected\";\n        res.reason = actualReason;\n        throw actualReason;\n    });\n    res.status = \"pending\";\n    return res;\n}\nexport async function wait(ms) {\n    return await new Promise(resolve => setTimeout(resolve, ms));\n}\nexport async function waitUntil(date) {\n    return await wait(date.getTime() - Date.now());\n}\nclass ErrorDuringRunAsynchronously extends Error {\n    constructor() {\n        super(\"The error above originated in a runAsynchronously() call. Here is the stacktrace associated with it.\");\n        this.name = \"ErrorDuringRunAsynchronously\";\n    }\n}\nexport function runAsynchronously(promiseOrFunc, options = {}) {\n    if (typeof promiseOrFunc === \"function\") {\n        promiseOrFunc = promiseOrFunc();\n    }\n    const duringError = new ErrorDuringRunAsynchronously();\n    promiseOrFunc?.catch(error => {\n        const newError = new StackAssertionError(\"Uncaught error in asynchronous function: \" + error.toString(), {\n            duringError,\n        }, {\n            cause: error,\n        });\n        if (!options.ignoreErrors) {\n            captureError(\"runAsynchronously\", newError);\n        }\n    });\n}\nclass TimeoutError extends Error {\n    ms;\n    constructor(ms) {\n        super(`Timeout after ${ms}ms`);\n        this.ms = ms;\n        this.name = \"TimeoutError\";\n    }\n}\nexport async function timeout(promise, ms) {\n    return await Promise.race([\n        promise.then(value => Result.ok(value)),\n        wait(ms).then(() => Result.error(new TimeoutError(ms))),\n    ]);\n}\nexport async function timeoutThrow(promise, ms) {\n    return Result.orThrow(await timeout(promise, ms));\n}\nexport function rateLimited(func, options) {\n    let waitUntil = performance.now();\n    let queue = [];\n    let addedToQueueCallbacks = new Map;\n    const next = async () => {\n        while (true) {\n            if (waitUntil > performance.now()) {\n                await wait(Math.max(1, waitUntil - performance.now() + 1));\n            }\n            else if (queue.length === 0) {\n                const uuid = generateUuid();\n                await new Promise(resolve => {\n                    addedToQueueCallbacks.set(uuid, resolve);\n                });\n                addedToQueueCallbacks.delete(uuid);\n            }\n            else {\n                break;\n            }\n        }\n        const nextFuncs = options.batchCalls ? queue.splice(0, queue.length) : [queue.shift()];\n        const start = performance.now();\n        const value = await Result.fromPromise(func());\n        const end = performance.now();\n        waitUntil = Math.max(waitUntil, start + (options.throttleMs ?? 0), end + (options.gapMs ?? 0));\n        for (const nextFunc of nextFuncs) {\n            value.status === \"ok\" ? nextFunc[0](value.data) : nextFunc[1](value.error);\n        }\n    };\n    runAsynchronously(async () => {\n        while (true) {\n            await next();\n        }\n    });\n    return () => {\n        return new Promise((resolve, reject) => {\n            waitUntil = Math.max(waitUntil, performance.now() + (options.debounceMs ?? 0));\n            queue.push([resolve, reject]);\n            addedToQueueCallbacks.forEach(cb => cb());\n        });\n    };\n}\nexport function throttled(func, delayMs) {\n    let timeout = null;\n    let nextAvailable = null;\n    return async (...args) => {\n        while (nextAvailable !== null) {\n            await nextAvailable;\n        }\n        nextAvailable = new Promise(resolve => {\n            timeout = setTimeout(() => {\n                nextAvailable = null;\n                resolve(func(...args));\n            }, delayMs);\n        });\n        return await nextAvailable;\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2819, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/results.js"],"sourcesContent":["import { wait } from \"./promises\";\nexport const Result = {\n    fromThrowing,\n    fromPromise: promiseToResult,\n    ok(data) {\n        return {\n            status: \"ok\",\n            data,\n        };\n    },\n    error(error) {\n        return {\n            status: \"error\",\n            error,\n        };\n    },\n    map: mapResult,\n    or: (result, fallback) => {\n        return result.status === \"ok\" ? result.data : fallback;\n    },\n    orThrow: (result) => {\n        if (result.status === \"error\")\n            throw result.error;\n        return result.data;\n    },\n    orThrowAsync: async (result) => {\n        return Result.orThrow(await result);\n    },\n    retry,\n};\nexport const AsyncResult = {\n    fromThrowing,\n    fromPromise: promiseToResult,\n    ok: Result.ok,\n    error: Result.error,\n    pending,\n    map: mapResult,\n    or: (result, fallback) => {\n        if (result.status === \"pending\")\n            return fallback;\n        return Result.or(result, fallback);\n    },\n    orThrow: (result) => {\n        if (result.status === \"pending\")\n            throw new Error(\"Result still pending\");\n        return Result.orThrow(result);\n    },\n    retry,\n};\nfunction pending(progress) {\n    return {\n        status: \"pending\",\n        progress: progress,\n    };\n}\nasync function promiseToResult(promise) {\n    try {\n        const value = await promise;\n        return Result.ok(value);\n    }\n    catch (error) {\n        return Result.error(error);\n    }\n}\nfunction fromThrowing(fn) {\n    try {\n        return Result.ok(fn());\n    }\n    catch (error) {\n        return Result.error(error);\n    }\n}\nfunction mapResult(result, fn) {\n    if (result.status === \"error\")\n        return {\n            status: \"error\",\n            error: result.error,\n        };\n    if (result.status === \"pending\")\n        return {\n            status: \"pending\",\n            ...\"progress\" in result ? { progress: result.progress } : {},\n        };\n    return Result.ok(fn(result.data));\n}\nclass RetryError extends Error {\n    errors;\n    constructor(errors) {\n        super(`Error after retrying ${errors.length} times.`, { cause: errors[errors.length - 1] });\n        this.errors = errors;\n        this.name = \"RetryError\";\n    }\n    get retries() {\n        return this.errors.length;\n    }\n}\nasync function retry(fn, retries, { exponentialDelayBase = 2000 }) {\n    const errors = [];\n    for (let i = 0; i < retries; i++) {\n        const res = await fn();\n        if (res.status === \"ok\") {\n            return Result.ok(res.data);\n        }\n        else {\n            errors.push(res.error);\n            if (i < retries - 1) {\n                await wait(Math.random() * exponentialDelayBase * 2 ** i);\n            }\n        }\n    }\n    return Result.error(new RetryError(errors));\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,SAAS;IAClB;IACA,aAAa;IACb,IAAG,IAAI;QACH,OAAO;YACH,QAAQ;YACR;QACJ;IACJ;IACA,OAAM,KAAK;QACP,OAAO;YACH,QAAQ;YACR;QACJ;IACJ;IACA,KAAK;IACL,IAAI,CAAC,QAAQ;QACT,OAAO,OAAO,MAAM,KAAK,OAAO,OAAO,IAAI,GAAG;IAClD;IACA,SAAS,CAAC;QACN,IAAI,OAAO,MAAM,KAAK,SAClB,MAAM,OAAO,KAAK;QACtB,OAAO,OAAO,IAAI;IACtB;IACA,cAAc,OAAO;QACjB,OAAO,OAAO,OAAO,CAAC,MAAM;IAChC;IACA;AACJ;AACO,MAAM,cAAc;IACvB;IACA,aAAa;IACb,IAAI,OAAO,EAAE;IACb,OAAO,OAAO,KAAK;IACnB;IACA,KAAK;IACL,IAAI,CAAC,QAAQ;QACT,IAAI,OAAO,MAAM,KAAK,WAClB,OAAO;QACX,OAAO,OAAO,EAAE,CAAC,QAAQ;IAC7B;IACA,SAAS,CAAC;QACN,IAAI,OAAO,MAAM,KAAK,WAClB,MAAM,IAAI,MAAM;QACpB,OAAO,OAAO,OAAO,CAAC;IAC1B;IACA;AACJ;AACA,SAAS,QAAQ,QAAQ;IACrB,OAAO;QACH,QAAQ;QACR,UAAU;IACd;AACJ;AACA,eAAe,gBAAgB,OAAO;IAClC,IAAI;QACA,MAAM,QAAQ,MAAM;QACpB,OAAO,OAAO,EAAE,CAAC;IACrB,EACA,OAAO,OAAO;QACV,OAAO,OAAO,KAAK,CAAC;IACxB;AACJ;AACA,SAAS,aAAa,EAAE;IACpB,IAAI;QACA,OAAO,OAAO,EAAE,CAAC;IACrB,EACA,OAAO,OAAO;QACV,OAAO,OAAO,KAAK,CAAC;IACxB;AACJ;AACA,SAAS,UAAU,MAAM,EAAE,EAAE;IACzB,IAAI,OAAO,MAAM,KAAK,SAClB,OAAO;QACH,QAAQ;QACR,OAAO,OAAO,KAAK;IACvB;IACJ,IAAI,OAAO,MAAM,KAAK,WAClB,OAAO;QACH,QAAQ;QACR,GAAG,cAAc,SAAS;YAAE,UAAU,OAAO,QAAQ;QAAC,IAAI,CAAC,CAAC;IAChE;IACJ,OAAO,OAAO,EAAE,CAAC,GAAG,OAAO,IAAI;AACnC;AACA,MAAM,mBAAmB;IACrB,OAAO;IACP,YAAY,MAAM,CAAE;QAChB,KAAK,CAAC,CAAC,qBAAqB,EAAE,OAAO,MAAM,CAAC,OAAO,CAAC,EAAE;YAAE,OAAO,MAAM,CAAC,OAAO,MAAM,GAAG,EAAE;QAAC;QACzF,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,IAAI,GAAG;IAChB;IACA,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM;IAC7B;AACJ;AACA,eAAe,MAAM,EAAE,EAAE,OAAO,EAAE,EAAE,uBAAuB,IAAI,EAAE;IAC7D,MAAM,SAAS,EAAE;IACjB,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,IAAK;QAC9B,MAAM,MAAM,MAAM;QAClB,IAAI,IAAI,MAAM,KAAK,MAAM;YACrB,OAAO,OAAO,EAAE,CAAC,IAAI,IAAI;QAC7B,OACK;YACD,OAAO,IAAI,CAAC,IAAI,KAAK;YACrB,IAAI,IAAI,UAAU,GAAG;gBACjB,MAAM,IAAA,kQAAI,EAAC,KAAK,MAAM,KAAK,uBAAuB,KAAK;YAC3D;QACJ;IACJ;IACA,OAAO,OAAO,KAAK,CAAC,IAAI,WAAW;AACvC","ignoreList":[0]}},
    {"offset": {"line": 2938, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/stores.js"],"sourcesContent":["import { AsyncResult, Result } from \"./results\";\nimport { generateUuid } from \"./uuids\";\nimport { pending, rejected, resolved } from \"./promises\";\nexport class AsyncStore {\n    _isAvailable;\n    _value = undefined;\n    _isRejected = false;\n    _rejectionError;\n    _waitingRejectFunctions = new Map();\n    _callbacks = new Map();\n    _updateCounter = 0;\n    _lastSuccessfulUpdate = -1;\n    constructor(...args) {\n        if (args.length === 0) {\n            this._isAvailable = false;\n        }\n        else {\n            this._isAvailable = true;\n            this._value = args[0];\n        }\n    }\n    isAvailable() {\n        return this._isAvailable;\n    }\n    isRejected() {\n        return this._isRejected;\n    }\n    get() {\n        if (this.isRejected()) {\n            return AsyncResult.error(this._rejectionError);\n        }\n        else if (this.isAvailable()) {\n            return AsyncResult.ok(this._value);\n        }\n        else {\n            return AsyncResult.pending();\n        }\n    }\n    getOrWait() {\n        const uuid = generateUuid();\n        if (this.isRejected()) {\n            return rejected(this._rejectionError);\n        }\n        else if (this.isAvailable()) {\n            return resolved(this._value);\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.onceChange((value) => {\n                resolve(value);\n            });\n            this._waitingRejectFunctions.set(uuid, reject);\n        });\n        const withFinally = promise.finally(() => {\n            this._waitingRejectFunctions.delete(uuid);\n        });\n        return pending(withFinally);\n    }\n    _setIfLatest(result, curCounter) {\n        if (curCounter > this._lastSuccessfulUpdate) {\n            switch (result.status) {\n                case \"ok\": {\n                    if (!this._isAvailable || this._isRejected || this._value !== result.data) {\n                        const oldValue = this._value;\n                        this._lastSuccessfulUpdate = curCounter;\n                        this._isAvailable = true;\n                        this._isRejected = false;\n                        this._value = result.data;\n                        this._rejectionError = undefined;\n                        this._callbacks.forEach((callback) => callback(result.data, oldValue));\n                        return true;\n                    }\n                    return false;\n                }\n                case \"error\": {\n                    this._lastSuccessfulUpdate = curCounter;\n                    this._isAvailable = false;\n                    this._isRejected = true;\n                    this._value = undefined;\n                    this._rejectionError = result.error;\n                    this._waitingRejectFunctions.forEach((reject) => reject(result.error));\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    set(value) {\n        this._setIfLatest(Result.ok(value), ++this._updateCounter);\n    }\n    update(updater) {\n        const value = updater(this._value);\n        this.set(value);\n        return value;\n    }\n    async setAsync(promise) {\n        const curCounter = ++this._updateCounter;\n        const result = await Result.fromPromise(promise);\n        return this._setIfLatest(result, curCounter);\n    }\n    setUnavailable() {\n        this._lastSuccessfulUpdate = ++this._updateCounter;\n        this._isAvailable = false;\n        this._isRejected = false;\n        this._value = undefined;\n        this._rejectionError = undefined;\n    }\n    setRejected(error) {\n        this._setIfLatest(Result.error(error), ++this._updateCounter);\n    }\n    map(mapper) {\n        const store = new AsyncStore();\n        this.onChange((value) => {\n            store.set(mapper(value));\n        });\n        return store;\n    }\n    onChange(callback) {\n        const uuid = generateUuid();\n        this._callbacks.set(uuid, callback);\n        return {\n            unsubscribe: () => {\n                this._callbacks.delete(uuid);\n            },\n        };\n    }\n    onceChange(callback) {\n        const { unsubscribe } = this.onChange((...args) => {\n            unsubscribe();\n            callback(...args);\n        });\n        return { unsubscribe };\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3082, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/functions.js"],"sourcesContent":["export function identity(t) {\n    return t;\n}\nexport function identityArgs(...args) {\n    return args;\n}\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,SAAS,CAAC;IACtB,OAAO;AACX;AACO,SAAS,aAAa,GAAG,IAAI;IAChC,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 3098, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/strings.js"],"sourcesContent":["export function typedToLowercase(s) {\n    return s.toLowerCase();\n}\nexport function typedToUppercase(s) {\n    return s.toUpperCase();\n}\nexport function typedCapitalize(s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n}\n/**\n * Returns all whitespace character at the start of the string.\n *\n * Uses the same definition for whitespace as `String.prototype.trim()`.\n */\nexport function getWhitespacePrefix(s) {\n    return s.substring(0, s.length - s.trimStart().length);\n}\n/**\n * Returns all whitespace character at the end of the string.\n *\n * Uses the same definition for whitespace as `String.prototype.trim()`.\n */\nexport function getWhitespaceSuffix(s) {\n    return s.substring(s.trimEnd().length);\n}\n/**\n * Returns a string with all empty or whitespace-only lines at the start removed.\n *\n * Uses the same definition for whitespace as `String.prototype.trim()`.\n */\nexport function trimEmptyLinesStart(s) {\n    const lines = s.split(\"\\n\");\n    const firstNonEmptyLineIndex = lines.findIndex((line) => line.trim() !== \"\");\n    return lines.slice(firstNonEmptyLineIndex).join(\"\\n\");\n}\n/**\n * Returns a string with all empty or whitespace-only lines at the end removed.\n *\n * Uses the same definition for whitespace as `String.prototype.trim()`.\n */\nexport function trimEmptyLinesEnd(s) {\n    const lines = s.split(\"\\n\");\n    const lastNonEmptyLineIndex = lines.findLastIndex((line) => line.trim() !== \"\");\n    return lines.slice(0, lastNonEmptyLineIndex + 1).join(\"\\n\");\n}\n/**\n * Returns a string with all empty or whitespace-only lines trimmed at the start and end.\n *\n * Uses the same definition for whitespace as `String.prototype.trim()`.\n */\nexport function trimLines(s) {\n    return trimEmptyLinesEnd(trimEmptyLinesStart(s));\n}\n/**\n * A template literal tag that returns the same string as the template literal without a tag.\n *\n * Useful for implementing your own template literal tags.\n */\nexport function templateIdentity(strings, ...values) {\n    if (strings.length === 0)\n        return \"\";\n    if (values.length !== strings.length - 1)\n        throw new Error(\"Invalid number of values; must be one less than strings\");\n    return strings.slice(1).reduce((result, string, i) => `${result}${values[i] ?? \"n/a\"}${string}`, strings[0]);\n}\nexport function deindent(strings, ...values) {\n    if (typeof strings === \"string\")\n        return deindent([strings]);\n    if (strings.length === 0)\n        return \"\";\n    if (values.length !== strings.length - 1)\n        throw new Error(\"Invalid number of values; must be one less than strings\");\n    const trimmedStrings = [...strings];\n    trimmedStrings[0] = trimEmptyLinesStart(trimmedStrings[0]);\n    trimmedStrings[trimmedStrings.length - 1] = trimEmptyLinesEnd(trimmedStrings[trimmedStrings.length - 1]);\n    const indentation = trimmedStrings\n        .join(\"${SOME_VALUE}\")\n        .split(\"\\n\")\n        .filter((line) => line.trim() !== \"\")\n        .map((line) => getWhitespacePrefix(line).length)\n        .reduce((min, current) => Math.min(min, current), Infinity);\n    const deindentedStrings = trimmedStrings\n        .map((string, stringIndex) => {\n        return string\n            .split(\"\\n\")\n            .map((line, lineIndex) => stringIndex !== 0 && lineIndex === 0 ? line : line.substring(indentation))\n            .join(\"\\n\");\n    });\n    const indentedValues = values.map((value, i) => {\n        const firstLineIndentation = getWhitespacePrefix(deindentedStrings[i].split(\"\\n\").at(-1));\n        return `${value}`.replaceAll(\"\\n\", `\\n${firstLineIndentation}`);\n    });\n    return templateIdentity(deindentedStrings, ...indentedValues);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAO,SAAS,iBAAiB,CAAC;IAC9B,OAAO,EAAE,WAAW;AACxB;AACO,SAAS,iBAAiB,CAAC;IAC9B,OAAO,EAAE,WAAW;AACxB;AACO,SAAS,gBAAgB,CAAC;IAC7B,OAAO,EAAE,MAAM,CAAC,GAAG,WAAW,KAAK,EAAE,KAAK,CAAC;AAC/C;AAMO,SAAS,oBAAoB,CAAC;IACjC,OAAO,EAAE,SAAS,CAAC,GAAG,EAAE,MAAM,GAAG,EAAE,SAAS,GAAG,MAAM;AACzD;AAMO,SAAS,oBAAoB,CAAC;IACjC,OAAO,EAAE,SAAS,CAAC,EAAE,OAAO,GAAG,MAAM;AACzC;AAMO,SAAS,oBAAoB,CAAC;IACjC,MAAM,QAAQ,EAAE,KAAK,CAAC;IACtB,MAAM,yBAAyB,MAAM,SAAS,CAAC,CAAC,OAAS,KAAK,IAAI,OAAO;IACzE,OAAO,MAAM,KAAK,CAAC,wBAAwB,IAAI,CAAC;AACpD;AAMO,SAAS,kBAAkB,CAAC;IAC/B,MAAM,QAAQ,EAAE,KAAK,CAAC;IACtB,MAAM,wBAAwB,MAAM,aAAa,CAAC,CAAC,OAAS,KAAK,IAAI,OAAO;IAC5E,OAAO,MAAM,KAAK,CAAC,GAAG,wBAAwB,GAAG,IAAI,CAAC;AAC1D;AAMO,SAAS,UAAU,CAAC;IACvB,OAAO,kBAAkB,oBAAoB;AACjD;AAMO,SAAS,iBAAiB,OAAO,EAAE,GAAG,MAAM;IAC/C,IAAI,QAAQ,MAAM,KAAK,GACnB,OAAO;IACX,IAAI,OAAO,MAAM,KAAK,QAAQ,MAAM,GAAG,GACnC,MAAM,IAAI,MAAM;IACpB,OAAO,QAAQ,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC,QAAQ,QAAQ,IAAM,GAAG,SAAS,MAAM,CAAC,EAAE,IAAI,QAAQ,QAAQ,EAAE,OAAO,CAAC,EAAE;AAC/G;AACO,SAAS,SAAS,OAAO,EAAE,GAAG,MAAM;IACvC,IAAI,OAAO,YAAY,UACnB,OAAO,SAAS;QAAC;KAAQ;IAC7B,IAAI,QAAQ,MAAM,KAAK,GACnB,OAAO;IACX,IAAI,OAAO,MAAM,KAAK,QAAQ,MAAM,GAAG,GACnC,MAAM,IAAI,MAAM;IACpB,MAAM,iBAAiB;WAAI;KAAQ;IACnC,cAAc,CAAC,EAAE,GAAG,oBAAoB,cAAc,CAAC,EAAE;IACzD,cAAc,CAAC,eAAe,MAAM,GAAG,EAAE,GAAG,kBAAkB,cAAc,CAAC,eAAe,MAAM,GAAG,EAAE;IACvG,MAAM,cAAc,eACf,IAAI,CAAC,iBACL,KAAK,CAAC,MACN,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,OAAO,IACjC,GAAG,CAAC,CAAC,OAAS,oBAAoB,MAAM,MAAM,EAC9C,MAAM,CAAC,CAAC,KAAK,UAAY,KAAK,GAAG,CAAC,KAAK,UAAU;IACtD,MAAM,oBAAoB,eACrB,GAAG,CAAC,CAAC,QAAQ;QACd,OAAO,OACF,KAAK,CAAC,MACN,GAAG,CAAC,CAAC,MAAM,YAAc,gBAAgB,KAAK,cAAc,IAAI,OAAO,KAAK,SAAS,CAAC,cACtF,IAAI,CAAC;IACd;IACA,MAAM,iBAAiB,OAAO,GAAG,CAAC,CAAC,OAAO;QACtC,MAAM,uBAAuB,oBAAoB,iBAAiB,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;QACtF,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,EAAE,sBAAsB;IAClE;IACA,OAAO,iBAAiB,sBAAsB;AAClD","ignoreList":[0]}},
    {"offset": {"line": 3178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/known-errors.js"],"sourcesContent":["import { StatusError, throwErr, throwStackErr } from \"./utils/errors\";\nimport { identityArgs } from \"./utils/functions\";\nimport { deindent } from \"./utils/strings\";\nexport class KnownError extends StatusError {\n    statusCode;\n    humanReadableMessage;\n    details;\n    name = \"KnownError\";\n    constructor(statusCode, humanReadableMessage, details) {\n        super(statusCode, humanReadableMessage);\n        this.statusCode = statusCode;\n        this.humanReadableMessage = humanReadableMessage;\n        this.details = details;\n    }\n    getBody() {\n        return new TextEncoder().encode(JSON.stringify({\n            code: this.errorCode,\n            message: this.humanReadableMessage,\n            details: this.details,\n        }, undefined, 2));\n    }\n    getHeaders() {\n        return {\n            \"Content-Type\": [\"application/json; charset=utf-8\"],\n            \"X-Stack-Known-Error\": [this.errorCode],\n        };\n    }\n    get errorCode() {\n        return this.constructor.errorCode ?? throwStackErr(`Can't find error code for this KnownError. Is its constructor a KnownErrorConstructor? ${this}`);\n    }\n    static constructorArgsFromJson(json) {\n        return [\n            400,\n            json.message,\n            json.details,\n        ];\n    }\n    static fromJson(json) {\n        for (const [_, KnownErrorType] of Object.entries(KnownErrors)) {\n            if (json.code === KnownErrorType.prototype.errorCode) {\n                return new KnownErrorType(\n                // @ts-expect-error\n                ...KnownErrorType.constructorArgsFromJson(json));\n            }\n        }\n        throw new Error(`Unknown KnownError code: ${json.code}`);\n    }\n}\nconst knownErrorConstructorErrorCodeSentinel = Symbol(\"knownErrorConstructorErrorCodeSentinel\");\nfunction createKnownErrorConstructor(SuperClass, errorCode, create, constructorArgsFromJson) {\n    const createFn = create === \"inherit\" ? identityArgs : create;\n    const constructorArgsFromJsonFn = constructorArgsFromJson === \"inherit\" ? SuperClass.constructorArgsFromJson : constructorArgsFromJson;\n    // @ts-expect-error this is not a mixin, but TS detects it as one\n    class KnownErrorImpl extends SuperClass {\n        static errorCode = errorCode;\n        name = `KnownError<${errorCode}>`;\n        constructor(...args) {\n            // @ts-expect-error\n            super(...createFn(...args));\n        }\n        static constructorArgsFromJson(json) {\n            return constructorArgsFromJsonFn(json);\n        }\n    }\n    ;\n    // @ts-expect-error\n    return KnownErrorImpl;\n}\nconst UnsupportedError = createKnownErrorConstructor(KnownError, \"UNSUPPORTED_ERROR\", (originalErrorCode) => [\n    500,\n    `An error occured that is not currently supported (possibly because it was added in a version of Stack that is newer than this client). The original unsupported error code was: ${originalErrorCode}`,\n    {\n        originalErrorCode,\n    },\n], (json) => [\n    json.details?.originalErrorCode ?? throwErr(\"originalErrorCode not found in UnsupportedError details\"),\n]);\nconst BodyParsingError = createKnownErrorConstructor(KnownError, \"BODY_PARSING_ERROR\", (message) => [\n    400,\n    message,\n], (json) => [json.message]);\nconst SchemaError = createKnownErrorConstructor(KnownError, \"SCHEMA_ERROR\", (message) => [\n    400,\n    message,\n], (json) => [json.message]);\nconst AllOverloadsFailed = createKnownErrorConstructor(KnownError, \"ALL_OVERLOADS_FAILED\", (overloadErrors) => [\n    400,\n    deindent `\n      This endpoint has multiple overloads, but they all failed to process the request.\n\n        ${overloadErrors.map((e, i) => deindent `\n          Overload ${i + 1}: ${JSON.stringify(e, undefined, 2)}\n        `).join(\"\\n\\n\")}\n    `,\n    {\n        overloadErrors,\n    },\n], (json) => [\n    json.details?.overloadErrors ?? throwErr(\"overloadErrors not found in AllOverloadsFailed details\"),\n]);\nconst ProjectAuthenticationError = createKnownErrorConstructor(KnownError, \"PROJECT_AUTHENTICATION_ERROR\", \"inherit\", \"inherit\");\nconst InvalidProjectAuthentication = createKnownErrorConstructor(ProjectAuthenticationError, \"INVALID_PROJECT_AUTHENTICATION\", \"inherit\", \"inherit\");\nconst ProjectKeyWithoutRequestType = createKnownErrorConstructor(InvalidProjectAuthentication, \"PROJECT_KEY_WITHOUT_REQUEST_TYPE\", () => [\n    400,\n    \"Either an API key or an admin access token was provided, but the x-stack-request-type header is missing. Set it to 'client', 'server', or 'admin' as appropriate.\",\n], () => []);\nconst InvalidRequestType = createKnownErrorConstructor(InvalidProjectAuthentication, \"INVALID_REQUEST_TYPE\", (requestType) => [\n    400,\n    `The x-stack-request-type header must be 'client', 'server', or 'admin', but was '${requestType}'.`,\n], (json) => [\n    json.details?.requestType ?? throwErr(\"requestType not found in InvalidRequestType details\"),\n]);\nconst RequestTypeWithoutProjectId = createKnownErrorConstructor(InvalidProjectAuthentication, \"REQUEST_TYPE_WITHOUT_PROJECT_ID\", (requestType) => [\n    400,\n    `The x-stack-request-type header was '${requestType}', but the x-stack-project-id header was not provided.`,\n    {\n        requestType,\n    },\n], (json) => [json.requestType]);\nconst InvalidPublishableClientKey = createKnownErrorConstructor(InvalidProjectAuthentication, \"INVALID_PUBLISHABLE_CLIENT_KEY\", () => [\n    401,\n    \"The publishable key is not valid for the given project. Does the project and/or the key exist?\",\n], () => []);\nconst InvalidSecretServerKey = createKnownErrorConstructor(InvalidProjectAuthentication, \"INVALID_SECRET_SERVER_KEY\", () => [\n    401,\n    \"The secret server key is not valid for the given project. Does the project and/or the key exist?\",\n], () => []);\nconst InvalidSuperSecretAdminKey = createKnownErrorConstructor(InvalidProjectAuthentication, \"INVALID_SUPER_SECRET_ADMIN_KEY\", () => [\n    401,\n    \"The super secret admin key is not valid for the given project. Does the project and/or the key exist?\",\n], () => []);\nconst InvalidAdminAccessToken = createKnownErrorConstructor(InvalidProjectAuthentication, \"INVALID_ADMIN_ACCESS_TOKEN\", \"inherit\", \"inherit\");\nconst UnparsableAdminAccessToken = createKnownErrorConstructor(InvalidAdminAccessToken, \"UNPARSABLE_ADMIN_ACCESS_TOKEN\", () => [\n    401,\n    \"Admin access token is not parsable.\",\n], () => []);\nconst AdminAccessTokenExpired = createKnownErrorConstructor(InvalidAdminAccessToken, \"ADMIN_ACCESS_TOKEN_EXPIRED\", () => [\n    401,\n    \"Admin access token has expired. Please refresh it and try again.\",\n], () => []);\nconst InvalidProjectForAdminAccessToken = createKnownErrorConstructor(InvalidAdminAccessToken, \"INVALID_PROJECT_FOR_ADMIN_ACCESS_TOKEN\", () => [\n    401,\n    \"Admin access token not valid for this project.\",\n], () => []);\nconst AdminAccessTokenIsNotAdmin = createKnownErrorConstructor(InvalidAdminAccessToken, \"ADMIN_ACCESS_TOKEN_IS_NOT_ADMIN\", () => [\n    401,\n    \"Admin access token does not have the required permissions to access this project.\",\n], () => []);\nconst ProjectAuthenticationRequired = createKnownErrorConstructor(ProjectAuthenticationError, \"PROJECT_AUTHENTICATION_REQUIRED\", \"inherit\", \"inherit\");\nconst ClientAuthenticationRequired = createKnownErrorConstructor(ProjectAuthenticationRequired, \"CLIENT_AUTHENTICATION_REQUIRED\", () => [\n    401,\n    \"The publishable client key must be provided.\",\n], () => []);\nconst ServerAuthenticationRequired = createKnownErrorConstructor(ProjectAuthenticationRequired, \"SERVER_AUTHENTICATION_REQUIRED\", () => [\n    401,\n    \"The secret server key must be provided.\",\n], () => []);\nconst ClientOrServerAuthenticationRequired = createKnownErrorConstructor(ProjectAuthenticationRequired, \"CLIENT_OR_SERVER_AUTHENTICATION_REQUIRED\", () => [\n    401,\n    \"Either the publishable client key or the secret server key must be provided.\",\n], () => []);\nconst ClientOrAdminAuthenticationRequired = createKnownErrorConstructor(ProjectAuthenticationRequired, \"CLIENT_OR_ADMIN_AUTHENTICATION_REQUIRED\", () => [\n    401,\n    \"Either the publishable client key or the super secret admin key must be provided.\",\n], () => []);\nconst ClientOrServerOrAdminAuthenticationRequired = createKnownErrorConstructor(ProjectAuthenticationRequired, \"CLIENT_OR_SERVER_OR_ADMIN_AUTHENTICATION_REQUIRED\", () => [\n    401,\n    \"Either the publishable client key, the secret server key, or the super secret admin key must be provided.\",\n], () => []);\nconst AdminAuthenticationRequired = createKnownErrorConstructor(ProjectAuthenticationRequired, \"ADMIN_AUTHENTICATION_REQUIRED\", () => [\n    401,\n    \"The super secret admin key must be provided.\",\n], () => []);\nconst ExpectedInternalProject = createKnownErrorConstructor(ProjectAuthenticationError, \"EXPECTED_INTERNAL_PROJECT\", () => [\n    401,\n    \"The project ID is expected to be internal.\",\n], () => []);\nconst SessionAuthenticationError = createKnownErrorConstructor(KnownError, \"SESSION_AUTHENTICATION_ERROR\", \"inherit\", \"inherit\");\nconst InvalidSessionAuthentication = createKnownErrorConstructor(SessionAuthenticationError, \"INVALID_SESSION_AUTHENTICATION\", \"inherit\", \"inherit\");\nconst InvalidAccessToken = createKnownErrorConstructor(InvalidSessionAuthentication, \"INVALID_ACCESS_TOKEN\", \"inherit\", \"inherit\");\nconst UnparsableAccessToken = createKnownErrorConstructor(InvalidAccessToken, \"UNPARSABLE_ACCESS_TOKEN\", () => [\n    401,\n    \"Access token is not parsable.\",\n], () => []);\nconst AccessTokenExpired = createKnownErrorConstructor(InvalidAccessToken, \"ACCESS_TOKEN_EXPIRED\", () => [\n    401,\n    \"Access token has expired. Please refresh it and try again.\",\n], () => []);\nconst InvalidProjectForAccessToken = createKnownErrorConstructor(InvalidAccessToken, \"INVALID_PROJECT_FOR_ACCESS_TOKEN\", () => [\n    401,\n    \"Access token not valid for this project.\",\n], () => []);\nconst SessionUserEmailNotVerified = createKnownErrorConstructor(InvalidSessionAuthentication, \"SESSION_USER_EMAIL_NOT_VERIFIED\", () => [\n    401,\n    \"User e-mail not verified, but is required by the project.\",\n], () => []);\nconst SessionAuthenticationRequired = createKnownErrorConstructor(SessionAuthenticationError, \"SESSION_AUTHENTICATION_REQUIRED\", () => [\n    401,\n    \"Session required for this request.\",\n], () => []);\nconst RefreshTokenError = createKnownErrorConstructor(KnownError, \"INVALID_REFRESH_TOKEN\", \"inherit\", \"inherit\");\nconst ProviderRejected = createKnownErrorConstructor(RefreshTokenError, \"PROVIDER_REJECTED\", () => [\n    401,\n    \"The provider refused to refresh their token.\",\n], () => []);\nconst InvalidRefreshToken = createKnownErrorConstructor(RefreshTokenError, \"REFRESH_TOKEN_EXPIRED\", () => [\n    401,\n    \"Refresh token has expired. A new refresh token requires reauthentication.\",\n], () => []);\nconst UserEmailAlreadyExists = createKnownErrorConstructor(KnownError, \"USER_EMAIL_ALREADY_EXISTS\", () => [\n    400,\n    \"User already exists.\",\n], () => []);\nconst UserNotFound = createKnownErrorConstructor(KnownError, \"USER_NOT_FOUND\", () => [\n    404,\n    \"User not found.\",\n], () => []);\nconst ApiKeyNotFound = createKnownErrorConstructor(KnownError, \"API_KEY_NOT_FOUND\", () => [\n    404,\n    \"API key not found.\",\n], () => []);\nconst ProjectNotFound = createKnownErrorConstructor(KnownError, \"PROJECT_NOT_FOUND\", () => [\n    404,\n    \"Project not found or is not accessible with the current user.\",\n], () => []);\nconst EmailPasswordMismatch = createKnownErrorConstructor(KnownError, \"EMAIL_PASSWORD_MISMATCH\", () => [\n    400,\n    \"Wrong e-mail or password.\",\n], () => []);\nconst RedirectUrlNotWhitelisted = createKnownErrorConstructor(KnownError, \"REDIRECT_URL_NOT_WHITELISTED\", () => [\n    400,\n    \"Redirect URL not whitelisted.\",\n], () => []);\nconst PasswordRequirementsNotMet = createKnownErrorConstructor(KnownError, \"PASSWORD_REQUIREMENTS_NOT_MET\", \"inherit\", \"inherit\");\nconst PasswordTooShort = createKnownErrorConstructor(PasswordRequirementsNotMet, \"PASSWORD_TOO_SHORT\", (minLength) => [\n    400,\n    `Password too short. Minimum length is ${minLength}.`,\n    {\n        minLength,\n    },\n], (json) => [\n    json.details?.minLength ?? throwErr(\"minLength not found in PasswordTooShort details\"),\n]);\nconst PasswordTooLong = createKnownErrorConstructor(PasswordRequirementsNotMet, \"PASSWORD_TOO_LONG\", (maxLength) => [\n    400,\n    `Password too long. Maximum length is ${maxLength}.`,\n    {\n        maxLength,\n    },\n], (json) => [\n    json.details?.maxLength ?? throwErr(\"maxLength not found in PasswordTooLong details\"),\n]);\nconst EmailVerificationError = createKnownErrorConstructor(KnownError, \"EMAIL_VERIFICATION_ERROR\", \"inherit\", \"inherit\");\nconst EmailVerificationCodeError = createKnownErrorConstructor(EmailVerificationError, \"EMAIL_VERIFICATION_CODE_ERROR\", \"inherit\", \"inherit\");\nconst EmailVerificationCodeNotFound = createKnownErrorConstructor(EmailVerificationCodeError, \"EMAIL_VERIFICATION_CODE_NOT_FOUND\", () => [\n    404,\n    \"The e-mail verification code does not exist for this project.\",\n], () => []);\nconst EmailVerificationCodeExpired = createKnownErrorConstructor(EmailVerificationCodeError, \"EMAIL_VERIFICATION_CODE_EXPIRED\", () => [\n    400,\n    \"The e-mail verification code has expired.\",\n], () => []);\nconst EmailVerificationCodeAlreadyUsed = createKnownErrorConstructor(EmailVerificationCodeError, \"EMAIL_VERIFICATION_CODE_ALREADY_USED\", () => [\n    400,\n    \"The e-mail verification link has already been used.\",\n], () => []);\nconst MagicLinkError = createKnownErrorConstructor(KnownError, \"MAGIC_LINK_ERROR\", \"inherit\", \"inherit\");\nconst MagicLinkCodeError = createKnownErrorConstructor(MagicLinkError, \"MAGIC_LINK_CODE_ERROR\", \"inherit\", \"inherit\");\nconst MagicLinkCodeNotFound = createKnownErrorConstructor(MagicLinkCodeError, \"MAGIC_LINK_CODE_NOT_FOUND\", () => [\n    404,\n    \"The e-mail verification code does not exist for this project.\",\n], () => []);\nconst MagicLinkCodeExpired = createKnownErrorConstructor(MagicLinkCodeError, \"MAGIC_LINK_CODE_EXPIRED\", () => [\n    400,\n    \"The e-mail verification code has expired.\",\n], () => []);\nconst MagicLinkCodeAlreadyUsed = createKnownErrorConstructor(MagicLinkCodeError, \"MAGIC_LINK_CODE_ALREADY_USED\", () => [\n    400,\n    \"The e-mail verification link has already been used.\",\n], () => []);\nconst PasswordMismatch = createKnownErrorConstructor(KnownError, \"PASSWORD_MISMATCH\", () => [\n    400,\n    \"Passwords do not match.\",\n], () => []);\nconst PasswordResetError = createKnownErrorConstructor(KnownError, \"PASSWORD_RESET_ERROR\", \"inherit\", \"inherit\");\nconst PasswordResetCodeError = createKnownErrorConstructor(PasswordResetError, \"PASSWORD_RESET_CODE_ERROR\", \"inherit\", \"inherit\");\nconst PasswordResetCodeNotFound = createKnownErrorConstructor(PasswordResetCodeError, \"PASSWORD_RESET_CODE_NOT_FOUND\", () => [\n    404,\n    \"The password reset code does not exist for this project.\",\n], () => []);\nconst PasswordResetCodeExpired = createKnownErrorConstructor(PasswordResetCodeError, \"PASSWORD_RESET_CODE_EXPIRED\", () => [\n    400,\n    \"The password reset code has expired.\",\n], () => []);\nconst PasswordResetCodeAlreadyUsed = createKnownErrorConstructor(PasswordResetCodeError, \"PASSWORD_RESET_CODE_ALREADY_USED\", () => [\n    400,\n    \"The password reset code has already been used.\",\n], () => []);\nconst EmailAlreadyVerified = createKnownErrorConstructor(KnownError, \"EMAIL_ALREADY_VERIFIED\", () => [\n    400,\n    \"The e-mail is already verified.\",\n], () => []);\nconst PermissionNotFound = createKnownErrorConstructor(KnownError, \"PERMISSION_NOT_FOUND\", (permissionId) => [\n    404,\n    `Permission ${permissionId} not found. Make sure you created it on the dashboard.`,\n    {\n        permissionId,\n    },\n], (json) => [json.details.permissionId]);\nconst PermissionScopeMismatch = createKnownErrorConstructor(KnownError, \"PERMISSION_SCOPE_MISMATCH\", (permissionId, permissionScope, testScope) => {\n    return [\n        400,\n        `The scope of the permission with ID ${permissionId} is \\`${permissionScope.type}\\` but you tested against permissions of scope \\`${testScope.type}\\`. ${{\n            \"global\": `Please don't specify any teams when using global permissions. For example: \\`user.hasPermission(${JSON.stringify(permissionId)})\\`.`,\n            \"any-team\": `Please specify the team. For example: \\`user.hasPermission(team, ${JSON.stringify(permissionId)})\\`.`,\n            \"specific-team\": `Please specify the team. For example: \\`user.hasPermission(team, ${JSON.stringify(permissionId)})\\`.`,\n        }[permissionScope.type]}`,\n        {\n            permissionId,\n            permissionScope,\n            testScope,\n        },\n    ];\n}, (json) => [json.details.permissionId, json.details.permissionScope, json.details.testScope]);\nconst UserNotInTeam = createKnownErrorConstructor(KnownError, \"USER_NOT_IN_TEAM\", (userId, teamId) => [\n    400,\n    `User ${userId} is not in team ${teamId}.`,\n    {\n        userId,\n        teamId,\n    },\n], (json) => [json.details.userId, json.details.teamId]);\nconst TeamNotFound = createKnownErrorConstructor(KnownError, \"TEAM_NOT_FOUND\", (teamId) => [\n    404,\n    `Team ${teamId} not found.`,\n    {\n        teamId,\n    },\n], (json) => [json.details.teamId]);\nexport const KnownErrors = {\n    UnsupportedError,\n    BodyParsingError,\n    SchemaError,\n    AllOverloadsFailed,\n    ProjectAuthenticationError,\n    InvalidProjectAuthentication,\n    ProjectKeyWithoutRequestType,\n    InvalidRequestType,\n    RequestTypeWithoutProjectId,\n    InvalidPublishableClientKey,\n    InvalidSecretServerKey,\n    InvalidSuperSecretAdminKey,\n    InvalidAdminAccessToken,\n    UnparsableAdminAccessToken,\n    AdminAccessTokenExpired,\n    InvalidProjectForAdminAccessToken,\n    AdminAccessTokenIsNotAdmin,\n    ProjectAuthenticationRequired,\n    ClientAuthenticationRequired,\n    ServerAuthenticationRequired,\n    ClientOrServerAuthenticationRequired,\n    ClientOrAdminAuthenticationRequired,\n    ClientOrServerOrAdminAuthenticationRequired,\n    AdminAuthenticationRequired,\n    ExpectedInternalProject,\n    SessionAuthenticationError,\n    InvalidSessionAuthentication,\n    InvalidAccessToken,\n    UnparsableAccessToken,\n    AccessTokenExpired,\n    InvalidProjectForAccessToken,\n    SessionUserEmailNotVerified,\n    SessionAuthenticationRequired,\n    RefreshTokenError,\n    ProviderRejected,\n    InvalidRefreshToken,\n    UserEmailAlreadyExists,\n    UserNotFound,\n    ApiKeyNotFound,\n    ProjectNotFound,\n    EmailPasswordMismatch,\n    RedirectUrlNotWhitelisted,\n    PasswordRequirementsNotMet,\n    PasswordTooShort,\n    PasswordTooLong,\n    EmailVerificationError,\n    EmailVerificationCodeError,\n    EmailVerificationCodeNotFound,\n    EmailVerificationCodeExpired,\n    EmailVerificationCodeAlreadyUsed,\n    MagicLinkError,\n    MagicLinkCodeError,\n    MagicLinkCodeNotFound,\n    MagicLinkCodeExpired,\n    MagicLinkCodeAlreadyUsed,\n    PasswordResetError,\n    PasswordResetCodeError,\n    PasswordResetCodeNotFound,\n    PasswordResetCodeExpired,\n    PasswordResetCodeAlreadyUsed,\n    PasswordMismatch,\n    EmailAlreadyVerified,\n    PermissionNotFound,\n    PermissionScopeMismatch,\n    TeamNotFound,\n};\n// ensure that all known error codes are unique\nconst knownErrorCodes = new Set();\nfor (const [_, KnownError] of Object.entries(KnownErrors)) {\n    if (knownErrorCodes.has(KnownError.errorCode)) {\n        throw new Error(`Duplicate known error code: ${KnownError.errorCode}`);\n    }\n    knownErrorCodes.add(KnownError.errorCode);\n}\n"],"names":[],"mappings":"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AAC,KAAK,OAAO,CAAC,MAAM;KAAC;AAC3B,MAAM,cAAc;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACJ;AACA,+CAA+C;AAC/C,MAAM,kBAAkB,IAAI;AAC5B,KAAK,MAAM,CAAC,GAAG,WAAW,IAAI,OAAO,OAAO,CAAC,aAAc;IACvD,IAAI,gBAAgB,GAAG,CAAC,WAAW,SAAS,GAAG;QAC3C,MAAM,IAAI,MAAM,CAAC,4BAA4B,EAAE,WAAW,SAAS,EAAE;IACzE;IACA,gBAAgB,GAAG,CAAC,WAAW,SAAS;AAC5C","ignoreList":[0]}},
    {"offset": {"line": 3625, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/web/spec-extension/cookies.ts"],"sourcesContent":["export {\n  RequestCookies,\n  ResponseCookies,\n  stringifyCookie,\n} from 'next/dist/compiled/@edge-runtime/cookies'\n"],"names":["RequestCookies","ResponseCookies","stringifyCookie"],"mappings":";;;;;;;;;;;;;;;IACEA,cAAc,EAAA;eAAdA,SAAAA,cAAc;;IACdC,eAAe,EAAA;eAAfA,SAAAA,eAAe;;IACfC,eAAe,EAAA;eAAfA,SAAAA,eAAe;;;yBACV","ignoreList":[0]}},
    {"offset": {"line": 3655, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/web/spec-extension/adapters/reflect.ts"],"sourcesContent":["export class ReflectAdapter {\n  static get<T extends object>(\n    target: T,\n    prop: string | symbol,\n    receiver: unknown\n  ): any {\n    const value = Reflect.get(target, prop, receiver)\n    if (typeof value === 'function') {\n      return value.bind(target)\n    }\n\n    return value\n  }\n\n  static set<T extends object>(\n    target: T,\n    prop: string | symbol,\n    value: any,\n    receiver: any\n  ): boolean {\n    return Reflect.set(target, prop, value, receiver)\n  }\n\n  static has<T extends object>(target: T, prop: string | symbol): boolean {\n    return Reflect.has(target, prop)\n  }\n\n  static deleteProperty<T extends object>(\n    target: T,\n    prop: string | symbol\n  ): boolean {\n    return Reflect.deleteProperty(target, prop)\n  }\n}\n"],"names":["ReflectAdapter","get","target","prop","receiver","value","Reflect","bind","set","has","deleteProperty"],"mappings":";;;+BAAaA,kBAAAA;;;eAAAA;;;AAAN,MAAMA;IACX,OAAOC,IACLC,MAAS,EACTC,IAAqB,EACrBC,QAAiB,EACZ;QACL,MAAMC,QAAQC,QAAQL,GAAG,CAACC,QAAQC,MAAMC;QACxC,IAAI,OAAOC,UAAU,YAAY;YAC/B,OAAOA,MAAME,IAAI,CAACL;QACpB;QAEA,OAAOG;IACT;IAEA,OAAOG,IACLN,MAAS,EACTC,IAAqB,EACrBE,KAAU,EACVD,QAAa,EACJ;QACT,OAAOE,QAAQE,GAAG,CAACN,QAAQC,MAAME,OAAOD;IAC1C;IAEA,OAAOK,IAAsBP,MAAS,EAAEC,IAAqB,EAAW;QACtE,OAAOG,QAAQG,GAAG,CAACP,QAAQC;IAC7B;IAEA,OAAOO,eACLR,MAAS,EACTC,IAAqB,EACZ;QACT,OAAOG,QAAQI,cAAc,CAACR,QAAQC;IACxC;AACF","ignoreList":[0]}},
    {"offset": {"line": 3686, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/web/spec-extension/adapters/request-cookies.ts"],"sourcesContent":["import { RequestCookies } from '../cookies'\n\nimport { ResponseCookies } from '../cookies'\nimport { ReflectAdapter } from './reflect'\nimport { workAsyncStorage } from '../../../app-render/work-async-storage.external'\nimport type { RequestStore } from '../../../app-render/work-unit-async-storage.external'\n\n/**\n * @internal\n */\nexport class ReadonlyRequestCookiesError extends Error {\n  constructor() {\n    super(\n      'Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\n// We use this to type some APIs but we don't construct instances directly\nexport type { ResponseCookies }\n\n// The `cookies()` API is a mix of request and response cookies. For `.get()` methods,\n// we want to return the request cookie if it exists. For mutative methods like `.set()`,\n// we want to return the response cookie.\nexport type ReadonlyRequestCookies = Omit<\n  RequestCookies,\n  'set' | 'clear' | 'delete'\n> &\n  Pick<ResponseCookies, 'set' | 'delete'>\n\nexport class RequestCookiesAdapter {\n  public static seal(cookies: RequestCookies): ReadonlyRequestCookies {\n    return new Proxy(cookies as any, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'clear':\n          case 'delete':\n          case 'set':\n            return ReadonlyRequestCookiesError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n}\n\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies')\n\nexport function getModifiedCookieValues(\n  cookies: ResponseCookies\n): ResponseCookie[] {\n  const modified: ResponseCookie[] | undefined = (cookies as unknown as any)[\n    SYMBOL_MODIFY_COOKIE_VALUES\n  ]\n  if (!modified || !Array.isArray(modified) || modified.length === 0) {\n    return []\n  }\n\n  return modified\n}\n\ntype SetCookieArgs =\n  | [key: string, value: string, cookie?: Partial<ResponseCookie>]\n  | [options: ResponseCookie]\n\nexport function appendMutableCookies(\n  headers: Headers,\n  mutableCookies: ResponseCookies\n): boolean {\n  const modifiedCookieValues = getModifiedCookieValues(mutableCookies)\n  if (modifiedCookieValues.length === 0) {\n    return false\n  }\n\n  // Return a new response that extends the response with\n  // the modified cookies as fallbacks. `res` cookies\n  // will still take precedence.\n  const resCookies = new ResponseCookies(headers)\n  const returnedCookies = resCookies.getAll()\n\n  // Set the modified cookies as fallbacks.\n  for (const cookie of modifiedCookieValues) {\n    resCookies.set(cookie)\n  }\n\n  // Set the original cookies as the final values.\n  for (const cookie of returnedCookies) {\n    resCookies.set(cookie)\n  }\n\n  return true\n}\n\ntype ResponseCookie = NonNullable<\n  ReturnType<InstanceType<typeof ResponseCookies>['get']>\n>\n\nexport class MutableRequestCookiesAdapter {\n  public static wrap(\n    cookies: RequestCookies,\n    onUpdateCookies?: (cookies: string[]) => void\n  ): ResponseCookies {\n    const responseCookies = new ResponseCookies(new Headers())\n    for (const cookie of cookies.getAll()) {\n      responseCookies.set(cookie)\n    }\n\n    let modifiedValues: ResponseCookie[] = []\n    const modifiedCookies = new Set<string>()\n    const updateResponseCookies = () => {\n      // TODO-APP: change method of getting workStore\n      const workStore = workAsyncStorage.getStore()\n      if (workStore) {\n        workStore.pathWasRevalidated = true\n      }\n\n      const allCookies = responseCookies.getAll()\n      modifiedValues = allCookies.filter((c) => modifiedCookies.has(c.name))\n      if (onUpdateCookies) {\n        const serializedCookies: string[] = []\n        for (const cookie of modifiedValues) {\n          const tempCookies = new ResponseCookies(new Headers())\n          tempCookies.set(cookie)\n          serializedCookies.push(tempCookies.toString())\n        }\n\n        onUpdateCookies(serializedCookies)\n      }\n    }\n\n    const wrappedCookies = new Proxy(responseCookies, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          // A special symbol to get the modified cookie values\n          case SYMBOL_MODIFY_COOKIE_VALUES:\n            return modifiedValues\n\n          // TODO: Throw error if trying to set a cookie after the response\n          // headers have been set.\n          case 'delete':\n            return function (...args: [string] | [ResponseCookie]) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.delete(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n          case 'set':\n            return function (...args: SetCookieArgs) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.set(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n\n    return wrappedCookies\n  }\n}\n\nexport function createCookiesWithMutableAccessCheck(\n  requestStore: RequestStore\n): ResponseCookies {\n  const wrappedCookies = new Proxy(requestStore.mutableCookies, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'delete':\n          return function (...args: [string] | [ResponseCookie]) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().delete')\n            target.delete(...args)\n            return wrappedCookies\n          }\n        case 'set':\n          return function (...args: SetCookieArgs) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().set')\n            target.set(...args)\n            return wrappedCookies\n          }\n\n        default:\n          return ReflectAdapter.get(target, prop, receiver)\n      }\n    },\n  })\n  return wrappedCookies\n}\n\nexport function areCookiesMutableInCurrentPhase(requestStore: RequestStore) {\n  return requestStore.phase === 'action'\n}\n\n/** Ensure that cookies() starts throwing on mutation\n * if we changed phases and can no longer mutate.\n *\n * This can happen when going:\n *   'render' -> 'after'\n *   'action' -> 'render'\n * */\nfunction ensureCookiesAreStillMutable(\n  requestStore: RequestStore,\n  _callingExpression: string\n) {\n  if (!areCookiesMutableInCurrentPhase(requestStore)) {\n    // TODO: maybe we can give a more precise error message based on callingExpression?\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\nexport function responseCookiesToRequestCookies(\n  responseCookies: ResponseCookies\n): RequestCookies {\n  const requestCookies = new RequestCookies(new Headers())\n  for (const cookie of responseCookies.getAll()) {\n    requestCookies.set(cookie)\n  }\n  return requestCookies\n}\n"],"names":["MutableRequestCookiesAdapter","ReadonlyRequestCookiesError","RequestCookiesAdapter","appendMutableCookies","areCookiesMutableInCurrentPhase","createCookiesWithMutableAccessCheck","getModifiedCookieValues","responseCookiesToRequestCookies","Error","constructor","callable","seal","cookies","Proxy","get","target","prop","receiver","ReflectAdapter","SYMBOL_MODIFY_COOKIE_VALUES","Symbol","for","modified","Array","isArray","length","headers","mutableCookies","modifiedCookieValues","resCookies","ResponseCookies","returnedCookies","getAll","cookie","set","wrap","onUpdateCookies","responseCookies","Headers","modifiedValues","modifiedCookies","Set","updateResponseCookies","workStore","workAsyncStorage","getStore","pathWasRevalidated","allCookies","filter","c","has","name","serializedCookies","tempCookies","push","toString","wrappedCookies","args","add","delete","requestStore","ensureCookiesAreStillMutable","phase","_callingExpression","requestCookies","RequestCookies"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3897, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/hooks-server-context.ts"],"sourcesContent":["const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n"],"names":["DynamicServerError","isDynamicServerError","DYNAMIC_ERROR_CODE","Error","constructor","description","digest","err"],"mappings":";;;;;;;;;;;;;;IAEaA,kBAAkB,EAAA;eAAlBA;;IAQGC,oBAAoB,EAAA;eAApBA;;;AAVhB,MAAMC,qBAAqB;AAEpB,MAAMF,2BAA2BG;IAGtCC,YAA4BC,WAAmB,CAAE;QAC/C,KAAK,CAAC,CAAC,sBAAsB,EAAEA,aAAa,GAAA,IAAA,CADlBA,WAAAA,GAAAA,aAAAA,IAAAA,CAF5BC,MAAAA,GAAoCJ;IAIpC;AACF;AAEO,SAASD,qBAAqBM,GAAY;IAC/C,IACE,OAAOA,QAAQ,YACfA,QAAQ,QACR,CAAE,CAAA,YAAYA,GAAE,KAChB,OAAOA,IAAID,MAAM,KAAK,UACtB;QACA,OAAO;IACT;IAEA,OAAOC,IAAID,MAAM,KAAKJ;AACxB","ignoreList":[0]}},
    {"offset": {"line": 3941, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/static-generation-bailout.ts"],"sourcesContent":["const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n"],"names":["StaticGenBailoutError","isStaticGenBailoutError","NEXT_STATIC_GEN_BAILOUT","Error","code","error"],"mappings":";;;;;;;;;;;;;;IAEaA,qBAAqB,EAAA;eAArBA;;IAIGC,uBAAuB,EAAA;eAAvBA;;;AANhB,MAAMC,0BAA0B;AAEzB,MAAMF,8BAA8BG;;QAApC,KAAA,IAAA,OAAA,IAAA,CACWC,IAAAA,GAAOF;;AACzB;AAEO,SAASD,wBACdI,KAAc;IAEd,IAAI,OAAOA,UAAU,YAAYA,UAAU,QAAQ,CAAE,CAAA,UAAUA,KAAI,GAAI;QACrE,OAAO;IACT;IAEA,OAAOA,MAAMD,IAAI,KAAKF;AACxB","ignoreList":[0]}},
    {"offset": {"line": 3985, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/dynamic-rendering-utils.ts"],"sourcesContent":["import type { NonStaticRenderStage } from './app-render/staged-rendering'\nimport type { RequestStore } from './app-render/work-unit-async-storage.external'\n\nexport function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(\n    public readonly route: string,\n    public readonly expression: string\n  ) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  route: string,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(route, expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(route, expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n\nexport function makeDevtoolsIOAwarePromise<T>(\n  underlying: T,\n  requestStore: RequestStore,\n  stage: NonStaticRenderStage\n): Promise<T> {\n  if (requestStore.stagedRendering) {\n    // We resolve each stage in a timeout, so React DevTools will pick this up as IO.\n    return requestStore.stagedRendering.delayUntilStage(\n      stage,\n      undefined,\n      underlying\n    )\n  }\n  // in React DevTools if we resolve in a setTimeout we will observe\n  // the promise resolution as something that can suspend a boundary or root.\n  return new Promise<T>((resolve) => {\n    // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n    setTimeout(() => {\n      resolve(underlying)\n    }, 0)\n  })\n}\n"],"names":["isHangingPromiseRejectionError","makeDevtoolsIOAwarePromise","makeHangingPromise","err","digest","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","Error","constructor","route","expression","abortListenersBySignal","WeakMap","signal","aborted","Promise","reject","hangingPromise","_","boundRejection","bind","currentListeners","get","push","listeners","set","addEventListener","i","length","once","catch","ignoreReject","underlying","requestStore","stage","stagedRendering","delayUntilStage","undefined","resolve","setTimeout"],"mappings":";;;;;;;;;;;;;;;IAGgBA,8BAA8B,EAAA;eAA9BA;;IA2EAC,0BAA0B,EAAA;eAA1BA;;IAxCAC,kBAAkB,EAAA;eAAlBA;;;AAnCT,SAASF,+BACdG,GAAY;IAEZ,IAAI,OAAOA,QAAQ,YAAYA,QAAQ,QAAQ,CAAE,CAAA,YAAYA,GAAE,GAAI;QACjE,OAAO;IACT;IAEA,OAAOA,IAAIC,MAAM,KAAKC;AACxB;AAEA,MAAMA,4BAA4B;AAElC,MAAMC,qCAAqCC;IAGzCC,YACkBC,KAAa,EACbC,UAAkB,CAClC;QACA,KAAK,CACH,CAAC,qBAAqB,EAAEA,WAAW,qGAAqG,EAAEA,WAAW,8KAA8K,EAAED,MAAM,EAAE,CAAC,GAAA,IAAA,CAJhUA,KAAAA,GAAAA,OAAAA,IAAAA,CACAC,UAAAA,GAAAA,YAAAA,IAAAA,CAJFN,MAAAA,GAASC;IASzB;AACF;AAGA,MAAMM,yBAAyB,IAAIC;AAS5B,SAASV,mBACdW,MAAmB,EACnBJ,KAAa,EACbC,UAAkB;IAElB,IAAIG,OAAOC,OAAO,EAAE;QAClB,OAAOC,QAAQC,MAAM,CAAC,IAAIV,6BAA6BG,OAAOC;IAChE,OAAO;QACL,MAAMO,iBAAiB,IAAIF,QAAW,CAACG,GAAGF;YACxC,MAAMG,iBAAiBH,OAAOI,IAAI,CAChC,MACA,IAAId,6BAA6BG,OAAOC;YAE1C,IAAIW,mBAAmBV,uBAAuBW,GAAG,CAACT;YAClD,IAAIQ,kBAAkB;gBACpBA,iBAAiBE,IAAI,CAACJ;YACxB,OAAO;gBACL,MAAMK,YAAY;oBAACL;iBAAe;gBAClCR,uBAAuBc,GAAG,CAACZ,QAAQW;gBACnCX,OAAOa,gBAAgB,CACrB,SACA;oBACE,IAAK,IAAIC,IAAI,GAAGA,IAAIH,UAAUI,MAAM,EAAED,IAAK;wBACzCH,SAAS,CAACG,EAAE;oBACd;gBACF,GACA;oBAAEE,MAAM;gBAAK;YAEjB;QACF;QACA,2GAA2G;QAC3G,6GAA6G;QAC7G,yFAAyF;QACzFZ,eAAea,KAAK,CAACC;QACrB,OAAOd;IACT;AACF;AAEA,SAASc,gBAAgB;AAElB,SAAS9B,2BACd+B,UAAa,EACbC,YAA0B,EAC1BC,KAA2B;IAE3B,IAAID,aAAaE,eAAe,EAAE;QAChC,iFAAiF;QACjF,OAAOF,aAAaE,eAAe,CAACC,eAAe,CACjDF,OACAG,WACAL;IAEJ;IACA,kEAAkE;IAClE,2EAA2E;IAC3E,OAAO,IAAIjB,QAAW,CAACuB;QACrB,sFAAsF;QACtFC,WAAW;YACTD,QAAQN;QACV,GAAG;IACL;AACF","ignoreList":[0]}},
    {"offset": {"line": 4072, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/lib/framework/boundary-constants.tsx"],"sourcesContent":["export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\nexport const ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__'\n"],"names":["METADATA_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","ROOT_LAYOUT_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME"],"mappings":";;;;;;;;;;;;;;;;IAAaA,sBAAsB,EAAA;eAAtBA;;IAEAC,oBAAoB,EAAA;eAApBA;;IACAC,yBAAyB,EAAA;eAAzBA;;IAFAC,sBAAsB,EAAA;eAAtBA;;;AADN,MAAMH,yBAAyB;AAC/B,MAAMG,yBAAyB;AAC/B,MAAMF,uBAAuB;AAC7B,MAAMC,4BAA4B","ignoreList":[0]}},
    {"offset": {"line": 4109, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/lib/scheduler.ts"],"sourcesContent":["export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n"],"names":["atLeastOneTask","scheduleImmediate","scheduleOnNextTick","waitAtLeastOneReactRenderTask","cb","Promise","resolve","then","process","env","NEXT_RUNTIME","setTimeout","nextTick","setImmediate","r"],"mappings":";;;;;;;;;;;;;;;;IA4CgBA,cAAc,EAAA;eAAdA;;IAbHC,iBAAiB,EAAA;eAAjBA;;IAtBAC,kBAAkB,EAAA;eAAlBA;;IAgDGC,6BAA6B,EAAA;eAA7BA;;;AAhDT,MAAMD,qBAAqB,CAACE;IACjC,6EAA6E;IAC7E,4EAA4E;IAC5E,uCAAuC;IACvC,EAAE;IACF,kLAAkL;IAClL,EAAE;IACFC,QAAQC,OAAO,GAAGC,IAAI,CAAC;QACrB,IAAIC,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;aAElC;YACLF,QAAQI,QAAQ,CAACR;QACnB;IACF;AACF;AAQO,MAAMH,oBAAoB,CAACG;IAChC,IAAII,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;SAElC;QACLG,aAAaT;IACf;AACF;AAOO,SAASJ;IACd,OAAO,IAAIK,QAAc,CAACC,UAAYL,kBAAkBK;AAC1D;AAWO,SAASH;IACd,IAAIK,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;SAElC;QACL,OAAO,IAAIL,QAAQ,CAACS,IAAMD,aAAaC;IACzC;AACF","ignoreList":[0]}},
    {"offset": {"line": 4174, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts"],"sourcesContent":["// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n"],"names":["BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","Error","constructor","reason","digest","err"],"mappings":"AAAA,+GAA+G;;;;;;;;;;;;;;;IAIlGA,iBAAiB,EAAA;eAAjBA;;IASGC,mBAAmB,EAAA;eAAnBA;;;AAZhB,MAAMC,iBAAiB;AAGhB,MAAMF,0BAA0BG;IAGrCC,YAA4BC,MAAc,CAAE;QAC1C,KAAK,CAAC,CAAC,mCAAmC,EAAEA,QAAQ,GAAA,IAAA,CAD1BA,MAAAA,GAAAA,QAAAA,IAAAA,CAFZC,MAAAA,GAASJ;IAIzB;AACF;AAGO,SAASD,oBAAoBM,GAAY;IAC9C,IAAI,OAAOA,QAAQ,YAAYA,QAAQ,QAAQ,CAAE,CAAA,YAAYA,GAAE,GAAI;QACjE,OAAO;IACT;IAEA,OAAOA,IAAID,MAAM,KAAKJ;AACxB","ignoreList":[0]}},
    {"offset": {"line": 4212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/shared/lib/promise-with-resolvers.ts"],"sourcesContent":["export function createPromiseWithResolvers<T>(): PromiseWithResolvers<T> {\n  // Shim of Stage 4 Promise.withResolvers proposal\n  let resolve: (value: T | PromiseLike<T>) => void\n  let reject: (reason: any) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return { resolve: resolve!, reject: reject!, promise }\n}\n"],"names":["createPromiseWithResolvers","resolve","reject","promise","Promise","res","rej"],"mappings":";;;+BAAgBA,8BAAAA;;;eAAAA;;;AAAT,SAASA;IACd,iDAAiD;IACjD,IAAIC;IACJ,IAAIC;IACJ,MAAMC,UAAU,IAAIC,QAAW,CAACC,KAAKC;QACnCL,UAAUI;QACVH,SAASI;IACX;IACA,OAAO;QAAEL,SAASA;QAAUC,QAAQA;QAASC;IAAQ;AACvD","ignoreList":[0]}},
    {"offset": {"line": 4239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/app-render/staged-rendering.ts"],"sourcesContent":["import { InvariantError } from '../../shared/lib/invariant-error'\nimport { createPromiseWithResolvers } from '../../shared/lib/promise-with-resolvers'\n\nexport enum RenderStage {\n  Static = 1,\n  Runtime = 2,\n  Dynamic = 3,\n}\n\nexport type NonStaticRenderStage = RenderStage.Runtime | RenderStage.Dynamic\n\nexport class StagedRenderingController {\n  currentStage: RenderStage = RenderStage.Static\n\n  private runtimeStagePromise = createPromiseWithResolvers<void>()\n  private dynamicStagePromise = createPromiseWithResolvers<void>()\n\n  constructor(private abortSignal: AbortSignal | null = null) {\n    if (abortSignal) {\n      abortSignal.addEventListener(\n        'abort',\n        () => {\n          const { reason } = abortSignal\n          if (this.currentStage < RenderStage.Runtime) {\n            this.runtimeStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.runtimeStagePromise.reject(reason)\n          }\n          if (this.currentStage < RenderStage.Dynamic) {\n            this.dynamicStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.dynamicStagePromise.reject(reason)\n          }\n        },\n        { once: true }\n      )\n    }\n  }\n\n  advanceStage(stage: NonStaticRenderStage) {\n    // If we're already at the target stage or beyond, do nothing.\n    // (this can happen e.g. if sync IO advanced us to the dynamic stage)\n    if (this.currentStage >= stage) {\n      return\n    }\n    this.currentStage = stage\n    // Note that we might be going directly from Static to Dynamic,\n    // so we need to resolve the runtime stage as well.\n    if (stage >= RenderStage.Runtime) {\n      this.runtimeStagePromise.resolve()\n    }\n    if (stage >= RenderStage.Dynamic) {\n      this.dynamicStagePromise.resolve()\n    }\n  }\n\n  private getStagePromise(stage: NonStaticRenderStage): Promise<void> {\n    switch (stage) {\n      case RenderStage.Runtime: {\n        return this.runtimeStagePromise.promise\n      }\n      case RenderStage.Dynamic: {\n        return this.dynamicStagePromise.promise\n      }\n      default: {\n        stage satisfies never\n        throw new InvariantError(`Invalid render stage: ${stage}`)\n      }\n    }\n  }\n\n  waitForStage(stage: NonStaticRenderStage) {\n    return this.getStagePromise(stage)\n  }\n\n  delayUntilStage<T>(\n    stage: NonStaticRenderStage,\n    displayName: string | undefined,\n    resolvedValue: T\n  ) {\n    const ioTriggerPromise = this.getStagePromise(stage)\n\n    const promise = makeDevtoolsIOPromiseFromIOTrigger(\n      ioTriggerPromise,\n      displayName,\n      resolvedValue\n    )\n\n    // Analogously to `makeHangingPromise`, we might reject this promise if the signal is invoked.\n    // (e.g. in the case where we don't want want the render to proceed to the dynamic stage and abort it).\n    // We shouldn't consider this an unhandled rejection, so we attach a noop catch handler here to suppress this warning.\n    if (this.abortSignal) {\n      promise.catch(ignoreReject)\n    }\n    return promise\n  }\n}\n\nfunction ignoreReject() {}\n\n// TODO(restart-on-cache-miss): the layering of `delayUntilStage`,\n// `makeDevtoolsIOPromiseFromIOTrigger` and and `makeDevtoolsIOAwarePromise`\n// is confusing, we should clean it up.\nfunction makeDevtoolsIOPromiseFromIOTrigger<T>(\n  ioTrigger: Promise<any>,\n  displayName: string | undefined,\n  resolvedValue: T\n): Promise<T> {\n  // If we create a `new Promise` and give it a displayName\n  // (with no userspace code above us in the stack)\n  // React Devtools will use it as the IO cause when determining \"suspended by\".\n  // In particular, it should shadow any inner IO that resolved/rejected the promise\n  // (in case of staged rendering, this will be the `setTimeout` that triggers the relevant stage)\n  const promise = new Promise<T>((resolve, reject) => {\n    ioTrigger.then(resolve.bind(null, resolvedValue), reject)\n  })\n  if (displayName !== undefined) {\n    // @ts-expect-error\n    promise.displayName = displayName\n  }\n  return promise\n}\n"],"names":["RenderStage","StagedRenderingController","constructor","abortSignal","currentStage","runtimeStagePromise","createPromiseWithResolvers","dynamicStagePromise","addEventListener","reason","promise","catch","ignoreReject","reject","once","advanceStage","stage","resolve","getStagePromise","InvariantError","waitForStage","delayUntilStage","displayName","resolvedValue","ioTriggerPromise","makeDevtoolsIOPromiseFromIOTrigger","ioTrigger","Promise","then","bind","undefined"],"mappings":";;;;;;;;;;;;;;IAGYA,WAAW,EAAA;eAAXA;;IAQCC,yBAAyB,EAAA;eAAzBA;;;gCAXkB;sCACY;AAEpC,IAAKD,cAAAA,WAAAA,GAAAA,SAAAA,WAAAA;;;;WAAAA;;AAQL,MAAMC;IAMXC,YAAoBC,cAAkC,IAAI,CAAE;aAAxCA,WAAAA,GAAAA;aALpBC,YAAAA,GAAAA;aAEQC,mBAAAA,GAAsBC,CAAAA,GAAAA,sBAAAA,0BAA0B;aAChDC,mBAAAA,GAAsBD,CAAAA,GAAAA,sBAAAA,0BAA0B;QAGtD,IAAIH,aAAa;YACfA,YAAYK,gBAAgB,CAC1B,SACA;gBACE,MAAM,EAAEC,MAAM,EAAE,GAAGN;gBACnB,IAAI,IAAI,CAACC,YAAY,GAAA,GAAwB;oBAC3C,IAAI,CAACC,mBAAmB,CAACK,OAAO,CAACC,KAAK,CAACC,cAAc,6BAA6B;;oBAClF,IAAI,CAACP,mBAAmB,CAACQ,MAAM,CAACJ;gBAClC;gBACA,IAAI,IAAI,CAACL,YAAY,GAAA,GAAwB;oBAC3C,IAAI,CAACG,mBAAmB,CAACG,OAAO,CAACC,KAAK,CAACC,cAAc,6BAA6B;;oBAClF,IAAI,CAACL,mBAAmB,CAACM,MAAM,CAACJ;gBAClC;YACF,GACA;gBAAEK,MAAM;YAAK;QAEjB;IACF;IAEAC,aAAaC,KAA2B,EAAE;QACxC,8DAA8D;QAC9D,qEAAqE;QACrE,IAAI,IAAI,CAACZ,YAAY,IAAIY,OAAO;YAC9B;QACF;QACA,IAAI,CAACZ,YAAY,GAAGY;QACpB,+DAA+D;QAC/D,mDAAmD;QACnD,IAAIA,SAAAA,GAA8B;YAChC,IAAI,CAACX,mBAAmB,CAACY,OAAO;QAClC;QACA,IAAID,SAAAA,GAA8B;YAChC,IAAI,CAACT,mBAAmB,CAACU,OAAO;QAClC;IACF;IAEQC,gBAAgBF,KAA2B,EAAiB;QAClE,OAAQA;YACN,KAAA;gBAA0B;oBACxB,OAAO,IAAI,CAACX,mBAAmB,CAACK,OAAO;gBACzC;YACA,KAAA;gBAA0B;oBACxB,OAAO,IAAI,CAACH,mBAAmB,CAACG,OAAO;gBACzC;YACA;gBAAS;oBACPM;oBACA,MAAM,OAAA,cAAoD,CAApD,IAAIG,gBAAAA,cAAc,CAAC,CAAC,sBAAsB,EAAEH,OAAO,GAAnD,qBAAA;+BAAA;oCAAA;sCAAA;oBAAmD;gBAC3D;QACF;IACF;IAEAI,aAAaJ,KAA2B,EAAE;QACxC,OAAO,IAAI,CAACE,eAAe,CAACF;IAC9B;IAEAK,gBACEL,KAA2B,EAC3BM,WAA+B,EAC/BC,aAAgB,EAChB;QACA,MAAMC,mBAAmB,IAAI,CAACN,eAAe,CAACF;QAE9C,MAAMN,UAAUe,mCACdD,kBACAF,aACAC;QAGF,8FAA8F;QAC9F,uGAAuG;QACvG,sHAAsH;QACtH,IAAI,IAAI,CAACpB,WAAW,EAAE;YACpBO,QAAQC,KAAK,CAACC;QAChB;QACA,OAAOF;IACT;AACF;AAEA,SAASE,gBAAgB;AAEzB,kEAAkE;AAClE,4EAA4E;AAC5E,uCAAuC;AACvC,SAASa,mCACPC,SAAuB,EACvBJ,WAA+B,EAC/BC,aAAgB;IAEhB,yDAAyD;IACzD,iDAAiD;IACjD,8EAA8E;IAC9E,kFAAkF;IAClF,gGAAgG;IAChG,MAAMb,UAAU,IAAIiB,QAAW,CAACV,SAASJ;QACvCa,UAAUE,IAAI,CAACX,QAAQY,IAAI,CAAC,MAAMN,gBAAgBV;IACpD;IACA,IAAIS,gBAAgBQ,WAAW;QAC7B,mBAAmB;QACnBpB,QAAQY,WAAW,GAAGA;IACxB;IACA,OAAOZ;AACT","ignoreList":[0]}},
    {"offset": {"line": 4367, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/app-render/dynamic-rendering.ts"],"sourcesContent":["/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  RequestStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n  PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  getRuntimeStagePromise,\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n  ROOT_LAYOUT_BOUNDARY_NAME,\n} from '../../lib/framework/boundary-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from './staged-rendering'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'cache':\n      case 'unstable-cache':\n        // Inside cache scopes, marking a scope as dynamic has no effect,\n        // because the outer cache scope creates a cache boundary. This is\n        // subtly different from reading a dynamic data source, which is\n        // forbidden inside a cache scope.\n        return\n      case 'private-cache':\n        // A private cache scope is already dynamic by definition.\n        return\n      case 'prerender-legacy':\n      case 'prerender-ppr':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-ppr':\n        return postponeWithTracking(\n          store.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      case 'prerender-legacy':\n        workUnitStore.revalidate = 0\n\n        // We aren't prerendering, but we are generating a static page. We need\n        // to bail out of static generation.\n        const err = new DynamicServerError(\n          `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n        )\n        store.dynamicUsageDescription = expression\n        store.dynamicUsageStack = err.stack\n\n        throw err\n      case 'request':\n        if (process.env.NODE_ENV !== 'production') {\n          workUnitStore.usedDynamic = true\n        }\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(workUnitStore: WorkUnitStore) {\n  switch (workUnitStore.type) {\n    case 'cache':\n    case 'unstable-cache':\n      // Inside cache scopes, marking a scope as dynamic has no effect,\n      // because the outer cache scope creates a cache boundary. This is\n      // subtly different from reading a dynamic data source, which is\n      // forbidden inside a cache scope.\n      return\n    case 'private-cache':\n      // A private cache scope is already dynamic by definition.\n      return\n    case 'prerender':\n    case 'prerender-runtime':\n    case 'prerender-legacy':\n    case 'prerender-ppr':\n    case 'prerender-client':\n      break\n    case 'request':\n      if (process.env.NODE_ENV !== 'production') {\n        workUnitStore.usedDynamic = true\n      }\n      break\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\nexport function trackSynchronousPlatformIOAccessInDev(\n  requestStore: RequestStore\n): void {\n  // We don't actually have a controller to abort but we do the semantic equivalent by\n  // advancing the request store out of the prerender stage\n  if (requestStore.stagedRendering) {\n    // TODO: error for sync IO in the runtime stage\n    // (which is not currently covered by the validation render in `spawnDynamicValidationInDev`)\n    requestStore.stagedRendering.advanceStage(RenderStage.Dynamic)\n  }\n}\n\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createRenderInBrowserAbortSignal(): AbortSignal {\n  const controller = new AbortController()\n  controller.abort(new BailoutToCSRError('Render in Browser'))\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: WorkUnitStore\n): AbortSignal | undefined {\n  switch (workUnitStore.type) {\n    case 'prerender':\n    case 'prerender-runtime':\n      const controller = new AbortController()\n\n      if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If\n        // the input we're waiting on is coming from another cache, we do want\n        // to wait for it so that we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(() => {\n          controller.abort()\n        })\n      } else {\n        // Otherwise we're in the final render and we should already have all\n        // our caches filled.\n        // If the prerender uses stages, we have wait until the runtime stage,\n        // at which point all runtime inputs will be resolved.\n        // (otherwise, a runtime prerender might consider `cookies()` hanging\n        //  even though they'd resolve in the next task.)\n        //\n        // We might still be waiting on some microtasks so we\n        // wait one tick before giving up. When we give up, we still want to\n        // render the content of this cache as deeply as we can so that we can\n        // suspend as deeply as possible in the tree or not at all if we don't\n        // end up waiting for the input.\n        const runtimeStagePromise = getRuntimeStagePromise(workUnitStore)\n        if (runtimeStagePromise) {\n          runtimeStagePromise.then(() =>\n            scheduleOnNextTick(() => controller.abort())\n          )\n        } else {\n          scheduleOnNextTick(() => controller.abort())\n        }\n      }\n\n      return controller.signal\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n    case 'request':\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      return undefined\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workStore && workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-client':\n      case 'prerender': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n\n        if (fallbackParams && fallbackParams.size > 0) {\n          // We are in a prerender with cacheComponents semantics. We are going to\n          // hang here and never resolve. This will cause the currently\n          // rendering component to effectively be a dynamic hole.\n          React.use(\n            makeHangingPromise(\n              workUnitStore.renderSignal,\n              workStore.route,\n              expression\n            )\n          )\n        }\n        break\n      }\n      case 'prerender-ppr': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        }\n        break\n      }\n      case 'prerender-runtime':\n        throw new InvariantError(\n          `\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'cache':\n      case 'private-cache':\n        throw new InvariantError(\n          `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'prerender-legacy':\n      case 'request':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nexport function useDynamicSearchParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore) {\n    // We assume pages router context and just return\n    return\n  }\n\n  if (!workUnitStore) {\n    throwForMissingRequestStore(expression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-client': {\n      React.use(\n        makeHangingPromise(\n          workUnitStore.renderSignal,\n          workStore.route,\n          expression\n        )\n      )\n      break\n    }\n    case 'prerender-legacy':\n    case 'prerender-ppr': {\n      if (workStore.forceStatic) {\n        return\n      }\n      throw new BailoutToCSRError(expression)\n    }\n    case 'prerender':\n    case 'prerender-runtime':\n      throw new InvariantError(\n        `\\`${expression}\\` was called from a Server Component. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'cache':\n    case 'unstable-cache':\n    case 'private-cache':\n      throw new InvariantError(\n        `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'request':\n      return\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\n\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags =\n  'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6'\n\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(\n  `\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`\n)\n\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message =\n      `Route \"${workStore.route}\": Uncached data was accessed outside of ` +\n      '<Suspense>. This delays the entire page from rendering, resulting in a ' +\n      'slow user experience. Learn more: ' +\n      'https://nextjs.org/docs/messages/blocking-route'\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */\nfunction createErrorWithComponentOrOwnerStack(\n  message: string,\n  componentStack: string\n) {\n  const ownerStack =\n    process.env.NODE_ENV !== 'production' && React.captureOwnerStack\n      ? React.captureOwnerStack()\n      : null\n\n  const error = new Error(message)\n  error.stack = error.name + ': ' + message + (ownerStack ?? componentStack)\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function logDisallowedDynamicError(\n  workStore: WorkStore,\n  error: Error\n): void {\n  console.error(error)\n\n  if (!workStore.dev) {\n    if (workStore.hasReadableErrorStacks) {\n      console.error(\n        `To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`\n      )\n    } else {\n      console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`)\n    }\n  }\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (serverDynamic.syncDynamicErrorWithStack) {\n    logDisallowedDynamicError(\n      workStore,\n      serverDynamic.syncDynamicErrorWithStack\n    )\n    throw new StaticGenBailoutError()\n  }\n\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        logDisallowedDynamicError(workStore, dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n\nexport function delayUntilRuntimeStage<T>(\n  prerenderStore: PrerenderStoreModernRuntime,\n  result: Promise<T>\n): Promise<T> {\n  if (prerenderStore.runtimeStagePromise) {\n    return prerenderStore.runtimeStagePromise.then(() => result)\n  }\n  return result\n}\n"],"names":["Postpone","PreludeState","abortAndThrowOnSynchronousRequestDataAccess","abortOnSynchronousPlatformIOAccess","accessedDynamicData","annotateDynamicAccess","consumeDynamicAccess","createDynamicTrackingState","createDynamicValidationState","createHangingInputAbortSignal","createRenderInBrowserAbortSignal","delayUntilRuntimeStage","formatDynamicAPIAccesses","getFirstDynamicReason","isDynamicPostpone","isPrerenderInterruptedError","logDisallowedDynamicError","markCurrentScopeAsDynamic","postponeWithTracking","throwIfDisallowedDynamic","throwToInterruptStaticGeneration","trackAllowedDynamicAccess","trackDynamicDataInDynamicRender","trackSynchronousPlatformIOAccessInDev","useDynamicRouteParams","useDynamicSearchParams","hasPostpone","React","unstable_postpone","isDebugDynamicAccesses","dynamicAccesses","syncDynamicErrorWithStack","hasSuspenseAboveBody","hasDynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","trackingState","expression","store","workUnitStore","type","forceDynamic","forceStatic","dynamicShouldError","StaticGenBailoutError","route","dynamicTracking","revalidate","err","DynamicServerError","dynamicUsageDescription","dynamicUsageStack","stack","process","env","NODE_ENV","usedDynamic","prerenderStore","abortOnSynchronousDynamicDataAccess","reason","error","createPrerenderInterruptedError","controller","abort","push","Error","undefined","errorWithStack","requestStore","stagedRendering","advanceStage","RenderStage","Dynamic","prerenderSignal","signal","aborted","workUnitAsyncStorage","getStore","assertPostpone","createPostponeReason","message","isDynamicPostponeReason","includes","NEXT_PRERENDER_INTERRUPTED","digest","length","serverDynamic","clientDynamic","filter","access","map","split","slice","line","join","AbortController","BailoutToCSRError","cacheSignal","inputReady","then","runtimeStagePromise","getRuntimeStagePromise","scheduleOnNextTick","workStore","workAsyncStorage","fallbackParams","fallbackRouteParams","size","use","makeHangingPromise","renderSignal","InvariantError","throwForMissingRequestStore","hasSuspenseRegex","bodyAndImplicitTags","hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex","RegExp","ROOT_LAYOUT_BOUNDARY_NAME","hasMetadataRegex","METADATA_BOUNDARY_NAME","hasViewportRegex","VIEWPORT_BOUNDARY_NAME","hasOutletRegex","OUTLET_BOUNDARY_NAME","componentStack","dynamicValidation","test","createErrorWithComponentOrOwnerStack","ownerStack","captureOwnerStack","name","console","dev","hasReadableErrorStacks","prelude","i","result"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5083, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/create-deduped-by-callsite-server-error-logger.ts"],"sourcesContent":["import * as React from 'react'\n\nconst errorRef: { current: null | Error } = { current: null }\n\n// React.cache is currently only available in canary/experimental React channels.\nconst cache =\n  typeof React.cache === 'function'\n    ? React.cache\n    : (fn: (key: unknown) => void) => fn\n\n// When Cache Components is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn = process.env.__NEXT_CACHE_COMPONENTS\n  ? console.error\n  : console.warn\n\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n  (key: unknown) => {\n    try {\n      logErrorOrWarn(errorRef.current)\n    } finally {\n      errorRef.current = null\n    }\n  }\n)\n\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */\nexport function createDedupedByCallsiteServerErrorLoggerDev<Args extends any[]>(\n  getMessage: (...args: Args) => Error\n) {\n  return function logDedupedError(...args: Args) {\n    const message = getMessage(...args)\n\n    if (process.env.NODE_ENV !== 'production') {\n      const callStackFrames = new Error().stack?.split('\\n')\n      if (callStackFrames === undefined || callStackFrames.length < 4) {\n        logErrorOrWarn(message)\n      } else {\n        // Error:\n        //   logDedupedError\n        //   asyncApiBeingAccessedSynchronously\n        //   <userland callsite>\n        // TODO: This breaks if sourcemaps with ignore lists are enabled.\n        const key = callStackFrames[4]\n        errorRef.current = message\n        flushCurrentErrorIfNew(key)\n      }\n    } else {\n      logErrorOrWarn(message)\n    }\n  }\n}\n"],"names":["createDedupedByCallsiteServerErrorLoggerDev","errorRef","current","cache","React","fn","logErrorOrWarn","process","env","__NEXT_CACHE_COMPONENTS","console","error","warn","flushCurrentErrorIfNew","key","getMessage","logDedupedError","args","message","NODE_ENV","callStackFrames","Error","stack","split","undefined","length"],"mappings":";;;+BAyCgBA,+CAAAA;;;eAAAA;;;+DAzCO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEvB,MAAMC,WAAsC;IAAEC,SAAS;AAAK;AAE5D,iFAAiF;AACjF,MAAMC,QACJ,OAAOC,OAAMD,KAAK,KAAK,aACnBC,OAAMD,KAAK,GACX,CAACE,KAA+BA;AAEtC,2EAA2E;AAC3E,qEAAqE;AACrE,gBAAgB;AAChB,MAAMC,iBAAiBC,QAAQC,GAAG,CAACC,uBAAuB,GACtDC,QAAQC,KAAK,aACbD,QAAQE,IAAI;AAEhB,2CAA2C;AAC3C,wGAAwG;AACxG,MAAMC,yBAAyBV,MAC7B,AACA,CAACW,yEADyE;IAExE,IAAI;QACFR,eAAeL,SAASC,OAAO;IACjC,SAAU;QACRD,SAASC,OAAO,GAAG;IACrB;AACF;AAcK,SAASF,4CACde,UAAoC;IAEpC,OAAO,SAASC,gBAAgB,GAAGC,IAAU;QAC3C,MAAMC,UAAUH,cAAcE;QAE9B,IAAIV,QAAQC,GAAG,CAACW,QAAQ,KAAK,WAAc;gBACjB;YAAxB,MAAMC,kBAAAA,CAAkB,SAAA,IAAIC,QAAQC,KAAK,KAAA,OAAA,KAAA,IAAjB,OAAmBC,KAAK,CAAC;YACjD,IAAIH,oBAAoBI,aAAaJ,gBAAgBK,MAAM,GAAG,GAAG;gBAC/DnB,eAAeY;YACjB,OAAO;gBACL,SAAS;gBACT,oBAAoB;gBACpB,uCAAuC;gBACvC,wBAAwB;gBACxB,iEAAiE;gBACjE,MAAMJ,MAAMM,eAAe,CAAC,EAAE;gBAC9BnB,SAASC,OAAO,GAAGgB;gBACnBL,uBAAuBC;YACzB;QACF,OAAO;;IAGT;AACF","ignoreList":[0]}},
    {"offset": {"line": 5178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/request/utils.ts"],"sourcesContent":["import { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { afterTaskAsyncStorage } from '../app-render/after-task-async-storage.external'\nimport type { WorkStore } from '../app-render/work-async-storage.external'\n\nexport function throwWithStaticGenerationBailoutErrorWithDynamicError(\n  route: string,\n  expression: string\n): never {\n  throw new StaticGenBailoutError(\n    `Route ${route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n  )\n}\n\nexport function throwForSearchParamsAccessInUseCache(\n  workStore: WorkStore,\n  constructorOpt: Function\n): never {\n  const error = new Error(\n    `Route ${workStore.route} used \\`searchParams\\` inside \"use cache\". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \\`searchParams\\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n  )\n\n  Error.captureStackTrace(error, constructorOpt)\n  workStore.invalidDynamicUsageError ??= error\n\n  throw error\n}\n\nexport function isRequestAPICallableInsideAfter() {\n  const afterTaskStore = afterTaskAsyncStorage.getStore()\n  return afterTaskStore?.rootTaskSpawnPhase === 'action'\n}\n"],"names":["isRequestAPICallableInsideAfter","throwForSearchParamsAccessInUseCache","throwWithStaticGenerationBailoutErrorWithDynamicError","route","expression","StaticGenBailoutError","workStore","constructorOpt","error","Error","captureStackTrace","invalidDynamicUsageError","afterTaskStore","afterTaskAsyncStorage","getStore","rootTaskSpawnPhase"],"mappings":";;;;;;;;;;;;;;;IA2BgBA,+BAA+B,EAAA;eAA/BA;;IAdAC,oCAAoC,EAAA;eAApCA;;IATAC,qDAAqD,EAAA;eAArDA;;;yCAJsB;+CACA;AAG/B,SAASA,sDACdC,KAAa,EACbC,UAAkB;IAElB,MAAM,OAAA,cAEL,CAFK,IAAIC,yBAAAA,qBAAqB,CAC7B,CAAC,MAAM,EAAEF,MAAM,4EAA4E,EAAEC,WAAW,0HAA0H,CAAC,GAD/N,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF;AAEO,SAASH,qCACdK,SAAoB,EACpBC,cAAwB;IAExB,MAAMC,QAAQ,OAAA,cAEb,CAFa,IAAIC,MAChB,CAAC,MAAM,EAAEH,UAAUH,KAAK,CAAC,2XAA2X,CAAC,GADzY,qBAAA;eAAA;oBAAA;sBAAA;IAEd;IAEAM,MAAMC,iBAAiB,CAACF,OAAOD;IAC/BD,UAAUK,wBAAwB,KAAKH;IAEvC,MAAMA;AACR;AAEO,SAASR;IACd,MAAMY,iBAAiBC,+BAAAA,qBAAqB,CAACC,QAAQ;IACrD,OAAOF,CAAAA,kBAAAA,OAAAA,KAAAA,IAAAA,eAAgBG,kBAAkB,MAAK;AAChD","ignoreList":[0]}},
    {"offset": {"line": 5230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/request/cookies.ts"],"sourcesContent":["import {\n  type ReadonlyRequestCookies,\n  areCookiesMutableInCurrentPhase,\n  RequestCookiesAdapter,\n} from '../web/spec-extension/adapters/request-cookies'\nimport { RequestCookies } from '../web/spec-extension/cookies'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\nexport function cookies(): Promise<ReadonlyRequestCookies> {\n  const callingExpression = 'cookies'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        // TODO(after): clarify that this only applies to pages?\n        `Route ${workStore.route} used \\`cookies()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`cookies()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // cookies object without tracking\n      const underlyingCookies = createEmptyCookies()\n      return makeUntrackedCookies(underlyingCookies)\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n          const error = new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, cookies)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n          return makeHangingCookies(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`cookies`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // We need track dynamic access here eagerly to keep continuity with\n          // how cookies has worked in PPR without cacheComponents.\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // We track dynamic access here so we don't need to wrap the cookies\n          // in individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedCookies(workUnitStore.cookies)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedCookies(workUnitStore.cookies)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          let underlyingCookies: ReadonlyRequestCookies\n\n          if (areCookiesMutableInCurrentPhase(workUnitStore)) {\n            // We can't conditionally return different types here based on the context.\n            // To avoid confusion, we always return the readonly type here.\n            underlyingCookies =\n              workUnitStore.userspaceMutableCookies as unknown as ReadonlyRequestCookies\n          } else {\n            underlyingCookies = workUnitStore.cookies\n          }\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedCookiesWithDevWarnings(\n              workUnitStore,\n              underlyingCookies,\n              workStore?.route\n            )\n          } else {\n            return makeUntrackedCookies(underlyingCookies)\n          }\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\nfunction createEmptyCookies(): ReadonlyRequestCookies {\n  return RequestCookiesAdapter.seal(new RequestCookies(new Headers({})))\n}\n\ninterface CacheLifetime {}\nconst CachedCookies = new WeakMap<\n  CacheLifetime,\n  Promise<ReadonlyRequestCookies>\n>()\n\nfunction makeHangingCookies(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyRequestCookies> {\n  const cachedPromise = CachedCookies.get(prerenderStore)\n  if (cachedPromise) {\n    return cachedPromise\n  }\n\n  const promise = makeHangingPromise<ReadonlyRequestCookies>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`cookies()`'\n  )\n  CachedCookies.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookies(\n  underlyingCookies: ReadonlyRequestCookies\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = Promise.resolve(underlyingCookies)\n  CachedCookies.set(underlyingCookies, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookiesWithDevWarnings(\n  requestStore: RequestStore,\n  underlyingCookies: ReadonlyRequestCookies,\n  route?: string\n): Promise<ReadonlyRequestCookies> {\n  if (requestStore.asyncApiPromises) {\n    let promise: Promise<ReadonlyRequestCookies>\n    if (underlyingCookies === requestStore.mutableCookies) {\n      promise = requestStore.asyncApiPromises.mutableCookies\n    } else if (underlyingCookies === requestStore.cookies) {\n      promise = requestStore.asyncApiPromises.cookies\n    } else {\n      throw new InvariantError(\n        'Received an underlying cookies object that does not match either `cookies` or `mutableCookies`'\n      )\n    }\n    return instrumentCookiesPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingCookies,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentCookiesPromiseWithDevWarnings(promise, route)\n\n  CachedCookies.set(underlyingCookies, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createCookiesAccessError\n)\n\nfunction instrumentCookiesPromiseWithDevWarnings(\n  promise: Promise<ReadonlyRequestCookies>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    size: replaceableWarningDescriptor(promise, 'size', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    getAll: replaceableWarningDescriptor(promise, 'getAll', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    clear: replaceableWarningDescriptor(promise, 'clear', route),\n    toString: replaceableWarningDescriptor(promise, 'toString', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`cookies().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...cookies()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createCookiesAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`cookies()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n"],"names":["cookies","callingExpression","workStore","workAsyncStorage","getStore","workUnitStore","workUnitAsyncStorage","phase","isRequestAPICallableInsideAfter","Error","route","forceStatic","underlyingCookies","createEmptyCookies","makeUntrackedCookies","dynamicShouldError","StaticGenBailoutError","type","error","captureStackTrace","invalidDynamicUsageError","makeHangingCookies","exportName","InvariantError","postponeWithTracking","dynamicTracking","throwToInterruptStaticGeneration","delayUntilRuntimeStage","trackDynamicDataInDynamicRender","areCookiesMutableInCurrentPhase","userspaceMutableCookies","process","env","NODE_ENV","makeUntrackedCookiesWithDevWarnings","throwForMissingRequestStore","RequestCookiesAdapter","seal","RequestCookies","Headers","CachedCookies","WeakMap","prerenderStore","cachedPromise","get","promise","makeHangingPromise","renderSignal","set","cachedCookies","Promise","resolve","requestStore","asyncApiPromises","mutableCookies","instrumentCookiesPromiseWithDevWarnings","makeDevtoolsIOAwarePromise","RenderStage","Runtime","proxiedPromise","warnForSyncAccess","createDedupedByCallsiteServerErrorLoggerDev","createCookiesAccessError","Object","defineProperties","Symbol","iterator","replaceableWarningDescriptorForSymbolIterator","size","replaceableWarningDescriptor","getAll","has","delete","clear","toString","target","prop","enumerable","undefined","value","defineProperty","writable","configurable","expression","prefix"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5449, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/web/spec-extension/adapters/headers.ts"],"sourcesContent":["import type { IncomingHttpHeaders } from 'http'\n\nimport { ReflectAdapter } from './reflect'\n\n/**\n * @internal\n */\nexport class ReadonlyHeadersError extends Error {\n  constructor() {\n    super(\n      'Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyHeadersError()\n  }\n}\n\nexport type ReadonlyHeaders = Headers & {\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  append(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  set(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  delete(...args: any[]): void\n}\nexport class HeadersAdapter extends Headers {\n  private readonly headers: IncomingHttpHeaders\n\n  constructor(headers: IncomingHttpHeaders) {\n    // We've already overridden the methods that would be called, so we're just\n    // calling the super constructor to ensure that the instanceof check works.\n    super()\n\n    this.headers = new Proxy(headers, {\n      get(target, prop, receiver) {\n        // Because this is just an object, we expect that all \"get\" operations\n        // are for properties. If it's a \"get\" for a symbol, we'll just return\n        // the symbol.\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return undefined.\n        if (typeof original === 'undefined') return\n\n        // If the original casing exists, return the value.\n        return ReflectAdapter.get(target, original, receiver)\n      },\n      set(target, prop, value, receiver) {\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.set(target, prop, value, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, use the prop as the key.\n        return ReflectAdapter.set(target, original ?? prop, value, receiver)\n      },\n      has(target, prop) {\n        if (typeof prop === 'symbol') return ReflectAdapter.has(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return false.\n        if (typeof original === 'undefined') return false\n\n        // If the original casing exists, return true.\n        return ReflectAdapter.has(target, original)\n      },\n      deleteProperty(target, prop) {\n        if (typeof prop === 'symbol')\n          return ReflectAdapter.deleteProperty(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return true.\n        if (typeof original === 'undefined') return true\n\n        // If the original casing exists, delete the property.\n        return ReflectAdapter.deleteProperty(target, original)\n      },\n    })\n  }\n\n  /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */\n  public static seal(headers: Headers): ReadonlyHeaders {\n    return new Proxy<ReadonlyHeaders>(headers, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'append':\n          case 'delete':\n          case 'set':\n            return ReadonlyHeadersError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n\n  /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */\n  private merge(value: string | string[]): string {\n    if (Array.isArray(value)) return value.join(', ')\n\n    return value\n  }\n\n  /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */\n  public static from(headers: IncomingHttpHeaders | Headers): Headers {\n    if (headers instanceof Headers) return headers\n\n    return new HeadersAdapter(headers)\n  }\n\n  public append(name: string, value: string): void {\n    const existing = this.headers[name]\n    if (typeof existing === 'string') {\n      this.headers[name] = [existing, value]\n    } else if (Array.isArray(existing)) {\n      existing.push(value)\n    } else {\n      this.headers[name] = value\n    }\n  }\n\n  public delete(name: string): void {\n    delete this.headers[name]\n  }\n\n  public get(name: string): string | null {\n    const value = this.headers[name]\n    if (typeof value !== 'undefined') return this.merge(value)\n\n    return null\n  }\n\n  public has(name: string): boolean {\n    return typeof this.headers[name] !== 'undefined'\n  }\n\n  public set(name: string, value: string): void {\n    this.headers[name] = value\n  }\n\n  public forEach(\n    callbackfn: (value: string, name: string, parent: Headers) => void,\n    thisArg?: any\n  ): void {\n    for (const [name, value] of this.entries()) {\n      callbackfn.call(thisArg, value, name, this)\n    }\n  }\n\n  public *entries(): HeadersIterator<[string, string]> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(name) as string\n\n      yield [name, value] as [string, string]\n    }\n  }\n\n  public *keys(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      yield name\n    }\n  }\n\n  public *values(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(key) as string\n\n      yield value\n    }\n  }\n\n  public [Symbol.iterator](): HeadersIterator<[string, string]> {\n    return this.entries()\n  }\n}\n"],"names":["HeadersAdapter","ReadonlyHeadersError","Error","constructor","callable","Headers","headers","Proxy","get","target","prop","receiver","ReflectAdapter","lowercased","toLowerCase","original","Object","keys","find","o","set","value","has","deleteProperty","seal","merge","Array","isArray","join","from","append","name","existing","push","delete","forEach","callbackfn","thisArg","entries","call","key","values","Symbol","iterator"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5642, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/request/headers.ts"],"sourcesContent":["import {\n  HeadersAdapter,\n  type ReadonlyHeaders,\n} from '../web/spec-extension/adapters/headers'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\n/**\n * This function allows you to read the HTTP incoming request headers in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) and\n * [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware).\n *\n * Read more: [Next.js Docs: `headers`](https://nextjs.org/docs/app/api-reference/functions/headers)\n */\nexport function headers(): Promise<ReadonlyHeaders> {\n  const callingExpression = 'headers'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        `Route ${workStore.route} used \\`headers()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`headers()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // headers object without tracking\n      const underlyingHeaders = HeadersAdapter.seal(new Headers({}))\n      return makeUntrackedHeaders(underlyingHeaders)\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, headers)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n        case 'prerender-client':\n        case 'private-cache':\n        case 'prerender-runtime':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`headers()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'prerender':\n          return makeHangingHeaders(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`headers`'\n          throw new InvariantError(\n            `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // PPR Prerender (no cacheComponents)\n          // We are prerendering with PPR. We need track dynamic access here eagerly\n          // to keep continuity with how headers has worked in PPR without cacheComponents.\n          // TODO consider switching the semantic to throw on property access instead\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // Legacy Prerender\n          // We are in a legacy static generation mode while prerendering\n          // We track dynamic access here so we don't need to wrap the headers in\n          // individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedHeaders(workUnitStore.headers)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedHeaders(workUnitStore.headers)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedHeadersWithDevWarnings(\n              workUnitStore.headers,\n              workStore?.route,\n              workUnitStore\n            )\n          } else {\n            return makeUntrackedHeaders(workUnitStore.headers)\n          }\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\ninterface CacheLifetime {}\nconst CachedHeaders = new WeakMap<CacheLifetime, Promise<ReadonlyHeaders>>()\n\nfunction makeHangingHeaders(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(prerenderStore)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeHangingPromise<ReadonlyHeaders>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`headers()`'\n  )\n  CachedHeaders.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeaders(\n  underlyingHeaders: ReadonlyHeaders\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = Promise.resolve(underlyingHeaders)\n  CachedHeaders.set(underlyingHeaders, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeadersWithDevWarnings(\n  underlyingHeaders: ReadonlyHeaders,\n  route: string | undefined,\n  requestStore: RequestStore\n): Promise<ReadonlyHeaders> {\n  if (requestStore.asyncApiPromises) {\n    const promise = requestStore.asyncApiPromises.headers\n    return instrumentHeadersPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingHeaders,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentHeadersPromiseWithDevWarnings(promise, route)\n\n  CachedHeaders.set(underlyingHeaders, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createHeadersAccessError\n)\n\nfunction instrumentHeadersPromiseWithDevWarnings(\n  promise: Promise<ReadonlyHeaders>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    append: replaceableWarningDescriptor(promise, 'append', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    getSetCookie: replaceableWarningDescriptor(promise, 'getSetCookie', route),\n    forEach: replaceableWarningDescriptor(promise, 'forEach', route),\n    keys: replaceableWarningDescriptor(promise, 'keys', route),\n    values: replaceableWarningDescriptor(promise, 'values', route),\n    entries: replaceableWarningDescriptor(promise, 'entries', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`headers().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...headers()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createHeadersAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`headers()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n"],"names":["headers","callingExpression","workStore","workAsyncStorage","getStore","workUnitStore","workUnitAsyncStorage","phase","isRequestAPICallableInsideAfter","Error","route","forceStatic","underlyingHeaders","HeadersAdapter","seal","Headers","makeUntrackedHeaders","type","error","captureStackTrace","invalidDynamicUsageError","dynamicShouldError","StaticGenBailoutError","makeHangingHeaders","exportName","InvariantError","postponeWithTracking","dynamicTracking","throwToInterruptStaticGeneration","delayUntilRuntimeStage","trackDynamicDataInDynamicRender","process","env","NODE_ENV","makeUntrackedHeadersWithDevWarnings","throwForMissingRequestStore","CachedHeaders","WeakMap","prerenderStore","cachedHeaders","get","promise","makeHangingPromise","renderSignal","set","Promise","resolve","requestStore","asyncApiPromises","instrumentHeadersPromiseWithDevWarnings","makeDevtoolsIOAwarePromise","RenderStage","Runtime","proxiedPromise","warnForSyncAccess","createDedupedByCallsiteServerErrorLoggerDev","createHeadersAccessError","Object","defineProperties","Symbol","iterator","replaceableWarningDescriptorForSymbolIterator","append","replaceableWarningDescriptor","delete","has","getSetCookie","forEach","keys","values","entries","target","prop","enumerable","undefined","value","defineProperty","writable","configurable","expression","prefix"],"mappings":";;;+BAuCgBA,WAAAA;;;eAAAA;;;yBApCT;0CAIA;8CAMA;kCAMA;yCAC+B;uCAI/B;0DACqD;uBACZ;gCACjB;iCACH;AAWrB,SAASA;IACd,MAAMC,oBAAoB;IAC1B,MAAMC,YAAYC,0BAAAA,gBAAgB,CAACC,QAAQ;IAC3C,MAAMC,gBAAgBC,8BAAAA,oBAAoB,CAACF,QAAQ;IAEnD,IAAIF,WAAW;QACb,IACEG,iBACAA,cAAcE,KAAK,KAAK,WACxB,CAACC,CAAAA,GAAAA,OAAAA,+BAA+B,KAChC;YACA,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,MAAM,EAAEP,UAAUQ,KAAK,CAAC,oPAAoP,CAAC,GAD1Q,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEA,IAAIR,UAAUS,WAAW,EAAE;YACzB,qFAAqF;YACrF,kCAAkC;YAClC,MAAMC,oBAAoBC,SAAAA,cAAc,CAACC,IAAI,CAAC,IAAIC,QAAQ,CAAC;YAC3D,OAAOC,qBAAqBJ;QAC9B;QAEA,IAAIP,eAAe;YACjB,OAAQA,cAAcY,IAAI;gBACxB,KAAK;oBAAS;wBACZ,MAAMC,QAAQ,OAAA,cAEb,CAFa,IAAIT,MAChB,CAAC,MAAM,EAAEP,UAAUQ,KAAK,CAAC,kVAAkV,CAAC,GADhW,qBAAA;mCAAA;wCAAA;0CAAA;wBAEd;wBACAD,MAAMU,iBAAiB,CAACD,OAAOlB;wBAC/BE,UAAUkB,wBAAwB,KAAKF;wBACvC,MAAMA;oBACR;gBACA,KAAK;oBACH,MAAM,OAAA,cAEL,CAFK,IAAIT,MACR,CAAC,MAAM,EAAEP,UAAUQ,KAAK,CAAC,0XAA0X,CAAC,GADhZ,qBAAA;+BAAA;oCAAA;sCAAA;oBAEN;gBACF,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH;gBACF;oBACEL;YACJ;QACF;QAEA,IAAIH,UAAUmB,kBAAkB,EAAE;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,yBAAAA,qBAAqB,CAC7B,CAAC,MAAM,EAAEpB,UAAUQ,KAAK,CAAC,mNAAmN,CAAC,GADzO,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEA,IAAIL,eAAe;YACjB,OAAQA,cAAcY,IAAI;gBACxB,KAAK;oBACH,OAAOM,mBAAmBrB,WAAWG;gBACvC,KAAK;oBACH,MAAMmB,aAAa;oBACnB,MAAM,OAAA,cAEL,CAFK,IAAIC,gBAAAA,cAAc,CACtB,GAAGD,WAAW,0EAA0E,EAAEA,WAAW,+EAA+E,CAAC,GADjL,qBAAA;+BAAA;oCAAA;sCAAA;oBAEN;gBACF,KAAK;oBACH,qCAAqC;oBACrC,0EAA0E;oBAC1E,iFAAiF;oBACjF,2EAA2E;oBAC3E,OAAOE,CAAAA,GAAAA,kBAAAA,oBAAoB,EACzBxB,UAAUQ,KAAK,EACfT,mBACAI,cAAcsB,eAAe;gBAEjC,KAAK;oBACH,mBAAmB;oBACnB,+DAA+D;oBAC/D,uEAAuE;oBACvE,uCAAuC;oBACvC,OAAOC,CAAAA,GAAAA,kBAAAA,gCAAgC,EACrC3B,mBACAC,WACAG;gBAEJ,KAAK;oBACH,OAAOwB,CAAAA,GAAAA,kBAAAA,sBAAsB,EAC3BxB,eACAW,qBAAqBX,cAAcL,OAAO;gBAE9C,KAAK;oBACH,2EAA2E;oBAC3E,6CAA6C;oBAC7C,OAAOgB,qBAAqBX,cAAcL,OAAO;gBACnD,KAAK;oBACH8B,CAAAA,GAAAA,kBAAAA,+BAA+B,EAACzB;oBAEhC,IAAI0B,QAAQC,GAAG,CAACC,QAAQ,KAAK,WAAe;wBAC1C,wEAAwE;wBACxE,8EAA8E;wBAC9E,4EAA4E;wBAC5E,OAAOC,oCACL7B,cAAcL,OAAO,EACrBE,aAAAA,OAAAA,KAAAA,IAAAA,UAAWQ,KAAK,EAChBL;oBAEJ,OAAO;;;;gBAIT;oBACEA;YACJ;QACF;IACF;IAEA,yEAAyE;IACzE8B,CAAAA,GAAAA,8BAAAA,2BAA2B,EAAClC;AAC9B;AAGA,MAAMmC,gBAAgB,IAAIC;AAE1B,SAASd,mBACPrB,SAAoB,EACpBoC,cAAoC;IAEpC,MAAMC,gBAAgBH,cAAcI,GAAG,CAACF;IACxC,IAAIC,eAAe;QACjB,OAAOA;IACT;IAEA,MAAME,UAAUC,CAAAA,GAAAA,uBAAAA,kBAAkB,EAChCJ,eAAeK,YAAY,EAC3BzC,UAAUQ,KAAK,EACf;IAEF0B,cAAcQ,GAAG,CAACN,gBAAgBG;IAElC,OAAOA;AACT;AAEA,SAASzB,qBACPJ,iBAAkC;IAElC,MAAM2B,gBAAgBH,cAAcI,GAAG,CAAC5B;IACxC,IAAI2B,eAAe;QACjB,OAAOA;IACT;IAEA,MAAME,UAAUI,QAAQC,OAAO,CAAClC;IAChCwB,cAAcQ,GAAG,CAAChC,mBAAmB6B;IAErC,OAAOA;AACT;AAEA,SAASP,oCACPtB,iBAAkC,EAClCF,KAAyB,EACzBqC,YAA0B;IAE1B,IAAIA,aAAaC,gBAAgB,EAAE;QACjC,MAAMP,UAAUM,aAAaC,gBAAgB,CAAChD,OAAO;QACrD,OAAOiD,wCAAwCR,SAAS/B;IAC1D;IAEA,MAAM6B,gBAAgBH,cAAcI,GAAG,CAAC5B;IACxC,IAAI2B,eAAe;QACjB,OAAOA;IACT;IAEA,MAAME,UAAUS,CAAAA,GAAAA,uBAAAA,0BAA0B,EACxCtC,mBACAmC,cACAI,iBAAAA,WAAW,CAACC,OAAO;IAGrB,MAAMC,iBAAiBJ,wCAAwCR,SAAS/B;IAExE0B,cAAcQ,GAAG,CAAChC,mBAAmByC;IAErC,OAAOA;AACT;AAEA,MAAMC,oBAAoBC,CAAAA,GAAAA,0CAAAA,2CAA2C,EACnEC;AAGF,SAASP,wCACPR,OAAiC,EACjC/B,KAAyB;IAEzB+C,OAAOC,gBAAgB,CAACjB,SAAS;QAC/B,CAACkB,OAAOC,QAAQ,CAAC,EAAEC,8CACjBpB,SACA/B;QAEFoD,QAAQC,6BAA6BtB,SAAS,UAAU/B;QACxDsD,QAAQD,6BAA6BtB,SAAS,UAAU/B;QACxD8B,KAAKuB,6BAA6BtB,SAAS,OAAO/B;QAClDuD,KAAKF,6BAA6BtB,SAAS,OAAO/B;QAClDkC,KAAKmB,6BAA6BtB,SAAS,OAAO/B;QAClDwD,cAAcH,6BAA6BtB,SAAS,gBAAgB/B;QACpEyD,SAASJ,6BAA6BtB,SAAS,WAAW/B;QAC1D0D,MAAML,6BAA6BtB,SAAS,QAAQ/B;QACpD2D,QAAQN,6BAA6BtB,SAAS,UAAU/B;QACxD4D,SAASP,6BAA6BtB,SAAS,WAAW/B;IAC5D;IACA,OAAO+B;AACT;AAEA,SAASsB,6BACPQ,MAAe,EACfC,IAAY,EACZ9D,KAAyB;IAEzB,OAAO;QACL+D,YAAY;QACZjC;YACEc,kBAAkB5C,OAAO,CAAC,YAAY,EAAE8D,KAAK,EAAE,CAAC;YAChD,OAAOE;QACT;QACA9B,KAAI+B,KAAc;YAChBlB,OAAOmB,cAAc,CAACL,QAAQC,MAAM;gBAClCG;gBACAE,UAAU;gBACVC,cAAc;YAChB;QACF;QACAA,cAAc;IAChB;AACF;AAEA,SAASjB,8CACPU,MAAe,EACf7D,KAAyB;IAEzB,OAAO;QACL+D,YAAY;QACZjC;YACEc,kBAAkB5C,OAAO;YACzB,OAAOgE;QACT;QACA9B,KAAI+B,KAAc;YAChBlB,OAAOmB,cAAc,CAACL,QAAQZ,OAAOC,QAAQ,EAAE;gBAC7Ce;gBACAE,UAAU;gBACVJ,YAAY;gBACZK,cAAc;YAChB;QACF;QACAA,cAAc;IAChB;AACF;AAEA,SAAStB,yBACP9C,KAAyB,EACzBqE,UAAkB;IAElB,MAAMC,SAAStE,QAAQ,CAAC,OAAO,EAAEA,MAAM,EAAE,CAAC,GAAG;IAC7C,OAAO,OAAA,cAIN,CAJM,IAAID,MACT,GAAGuE,OAAO,KAAK,EAAED,WAAW,EAAE,CAAC,GAC7B,CAAC,yHAAyH,CAAC,GAC3H,CAAC,8DAA8D,CAAC,GAH7D,qBAAA;eAAA;oBAAA;sBAAA;IAIP;AACF","ignoreList":[0]}},
    {"offset": {"line": 5862, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/request/draft-mode.ts"],"sourcesContent":["import {\n  getDraftModeProviderForCacheScope,\n  throwForMissingRequestStore,\n} from '../app-render/work-unit-async-storage.external'\n\nimport type { DraftModeProvider } from '../async-storage/draft-mode-provider'\n\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport { workUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\nimport {\n  abortAndThrowOnSynchronousRequestDataAccess,\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\n\nexport function draftMode(): Promise<DraftMode> {\n  const callingExpression = 'draftMode'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore || !workUnitStore) {\n    throwForMissingRequestStore(callingExpression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-runtime':\n      // TODO(runtime-ppr): does it make sense to delay this? normally it's always microtasky\n      return delayUntilRuntimeStage(\n        workUnitStore,\n        createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n      )\n    case 'request':\n      return createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      // Inside of `\"use cache\"` or `unstable_cache`, draft mode is available if\n      // the outmost work unit store is a request store (or a runtime prerender),\n      // and if draft mode is enabled.\n      const draftModeProvider = getDraftModeProviderForCacheScope(\n        workStore,\n        workUnitStore\n      )\n\n      if (draftModeProvider) {\n        return createOrGetCachedDraftMode(draftModeProvider, workStore)\n      }\n\n    // Otherwise, we fall through to providing an empty draft mode.\n    // eslint-disable-next-line no-fallthrough\n    case 'prerender':\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n      // Return empty draft mode\n      return createOrGetCachedDraftMode(null, workStore)\n\n    default:\n      return workUnitStore satisfies never\n  }\n}\n\nfunction createOrGetCachedDraftMode(\n  draftModeProvider: DraftModeProvider | null,\n  workStore: WorkStore | undefined\n): Promise<DraftMode> {\n  const cacheKey = draftModeProvider ?? NullDraftMode\n  const cachedDraftMode = CachedDraftModes.get(cacheKey)\n\n  if (cachedDraftMode) {\n    return cachedDraftMode\n  }\n\n  if (process.env.NODE_ENV === 'development' && !workStore?.isPrefetchRequest) {\n    const route = workStore?.route\n    return createDraftModeWithDevWarnings(draftModeProvider, route)\n  } else {\n    return Promise.resolve(new DraftMode(draftModeProvider))\n  }\n}\n\ninterface CacheLifetime {}\nconst NullDraftMode = {}\nconst CachedDraftModes = new WeakMap<CacheLifetime, Promise<DraftMode>>()\n\nfunction createDraftModeWithDevWarnings(\n  underlyingProvider: null | DraftModeProvider,\n  route: undefined | string\n): Promise<DraftMode> {\n  const instance = new DraftMode(underlyingProvider)\n  const promise = Promise.resolve(instance)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'isEnabled':\n          warnForSyncAccess(route, `\\`draftMode().${prop}\\``)\n          break\n        case 'enable':\n        case 'disable': {\n          warnForSyncAccess(route, `\\`draftMode().${prop}()\\``)\n          break\n        }\n        default: {\n          // We only warn for well-defined properties of the draftMode object.\n        }\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n  })\n\n  return proxiedPromise\n}\n\nclass DraftMode {\n  /**\n   * @internal - this declaration is stripped via `tsc --stripInternal`\n   */\n  private readonly _provider: null | DraftModeProvider\n\n  constructor(provider: null | DraftModeProvider) {\n    this._provider = provider\n  }\n  get isEnabled() {\n    if (this._provider !== null) {\n      return this._provider.isEnabled\n    }\n    return false\n  }\n  public enable() {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    trackDynamicDraftMode('draftMode().enable()', this.enable)\n    if (this._provider !== null) {\n      this._provider.enable()\n    }\n  }\n  public disable() {\n    trackDynamicDraftMode('draftMode().disable()', this.disable)\n    if (this._provider !== null) {\n      this._provider.disable()\n    }\n  }\n}\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createDraftModeAccessError\n)\n\nfunction createDraftModeAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`draftMode()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction trackDynamicDraftMode(expression: string, constructorOpt: Function) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    if (workUnitStore?.phase === 'after') {\n      throw new Error(\n        `Route ${workStore.route} used \"${expression}\" inside \\`after()\\`. The enabled status of \\`draftMode()\\` can be read inside \\`after()\\` but you cannot enable or disable \\`draftMode()\\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n        case 'private-cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \"${expression}\" inside \"use cache\". The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, constructorOpt)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \"${expression}\" inside a function cached with \\`unstable_cache()\\`. The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n\n        case 'prerender':\n        case 'prerender-runtime': {\n          const error = new Error(\n            `Route ${workStore.route} used ${expression} without first calling \\`await connection()\\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`\n          )\n          return abortAndThrowOnSynchronousRequestDataAccess(\n            workStore.route,\n            expression,\n            error,\n            workUnitStore\n          )\n        }\n        case 'prerender-client':\n          const exportName = '`draftMode`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          workUnitStore.revalidate = 0\n\n          const err = new DynamicServerError(\n            `Route ${workStore.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n          )\n          workStore.dynamicUsageDescription = expression\n          workStore.dynamicUsageStack = err.stack\n\n          throw err\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n}\n"],"names":["draftMode","callingExpression","workStore","workAsyncStorage","getStore","workUnitStore","workUnitAsyncStorage","throwForMissingRequestStore","type","delayUntilRuntimeStage","createOrGetCachedDraftMode","draftModeProvider","getDraftModeProviderForCacheScope","cacheKey","NullDraftMode","cachedDraftMode","CachedDraftModes","get","process","env","NODE_ENV","isPrefetchRequest","route","createDraftModeWithDevWarnings","Promise","resolve","DraftMode","WeakMap","underlyingProvider","instance","promise","proxiedPromise","Proxy","target","prop","receiver","warnForSyncAccess","ReflectAdapter","constructor","provider","_provider","isEnabled","enable","trackDynamicDraftMode","disable","createDedupedByCallsiteServerErrorLoggerDev","createDraftModeAccessError","expression","prefix","Error","constructorOpt","phase","dynamicShouldError","StaticGenBailoutError","error","captureStackTrace","invalidDynamicUsageError","abortAndThrowOnSynchronousRequestDataAccess","exportName","InvariantError","postponeWithTracking","dynamicTracking","revalidate","err","DynamicServerError","dynamicUsageDescription","dynamicUsageStack","stack","trackDynamicDataInDynamicRender"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6069, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/headers.js"],"sourcesContent":["module.exports.cookies = require('./dist/server/request/cookies').cookies\nmodule.exports.headers = require('./dist/server/request/headers').headers\nmodule.exports.draftMode = require('./dist/server/request/draft-mode').draftMode\n"],"names":[],"mappings":"AAAA,OAAO,OAAO,CAAC,OAAO,GAAG,sIAAyC,OAAO;AACzE,OAAO,OAAO,CAAC,OAAO,GAAG,sIAAyC,OAAO;AACzE,OAAO,OAAO,CAAC,SAAS,GAAG,yIAA4C,SAAS","ignoreList":[0]}},
    {"offset": {"line": 6076, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-sc/dist/index.server.js"],"sourcesContent":["export { cookies } from 'next/headers';\n"],"names":[],"mappings":";AAAA","ignoreList":[0]}},
    {"offset": {"line": 6083, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/bytes.js"],"sourcesContent":["const crockfordAlphabet = \"0123456789ABCDEFGHJKMNPQRSTVWXYZ\";\nconst crockfordReplacements = new Map([\n    [\"o\", \"0\"],\n    [\"i\", \"1\"],\n    [\"l\", \"1\"],\n]);\nexport function encodeBase32(input) {\n    let bits = 0;\n    let value = 0;\n    let output = \"\";\n    for (let i = 0; i < input.length; i++) {\n        value = (value << 8) | input[i];\n        bits += 8;\n        while (bits >= 5) {\n            output += crockfordAlphabet[(value >>> (bits - 5)) & 31];\n            bits -= 5;\n        }\n    }\n    if (bits > 0) {\n        output += crockfordAlphabet[(value << (5 - bits)) & 31];\n    }\n    return output;\n}\nexport function decodeBase32(input) {\n    const output = new Uint8Array((input.length * 5 / 8) | 0);\n    let bits = 0;\n    let value = 0;\n    let outputIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n        let char = input[i].toLowerCase();\n        if (char === \" \")\n            continue;\n        if (crockfordReplacements.has(char)) {\n            char = crockfordReplacements.get(char);\n        }\n        const index = crockfordAlphabet.indexOf(char);\n        if (index === -1) {\n            throw new Error(`Invalid character: ${char}`);\n        }\n        value = (value << 5) | index;\n        bits += 5;\n        if (bits >= 8) {\n            output[outputIndex++] = (value >>> (bits - 8)) & 255;\n            bits -= 8;\n        }\n    }\n    return output;\n}\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,oBAAoB;AAC1B,MAAM,wBAAwB,IAAI,IAAI;IAClC;QAAC;QAAK;KAAI;IACV;QAAC;QAAK;KAAI;IACV;QAAC;QAAK;KAAI;CACb;AACM,SAAS,aAAa,KAAK;IAC9B,IAAI,OAAO;IACX,IAAI,QAAQ;IACZ,IAAI,SAAS;IACb,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACnC,QAAQ,AAAC,SAAS,IAAK,KAAK,CAAC,EAAE;QAC/B,QAAQ;QACR,MAAO,QAAQ,EAAG;YACd,UAAU,iBAAiB,CAAC,AAAC,UAAW,OAAO,IAAM,GAAG;YACxD,QAAQ;QACZ;IACJ;IACA,IAAI,OAAO,GAAG;QACV,UAAU,iBAAiB,CAAC,AAAC,SAAU,IAAI,OAAS,GAAG;IAC3D;IACA,OAAO;AACX;AACO,SAAS,aAAa,KAAK;IAC9B,MAAM,SAAS,IAAI,WAAW,AAAC,MAAM,MAAM,GAAG,IAAI,IAAK;IACvD,IAAI,OAAO;IACX,IAAI,QAAQ;IACZ,IAAI,cAAc;IAClB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACnC,IAAI,OAAO,KAAK,CAAC,EAAE,CAAC,WAAW;QAC/B,IAAI,SAAS,KACT;QACJ,IAAI,sBAAsB,GAAG,CAAC,OAAO;YACjC,OAAO,sBAAsB,GAAG,CAAC;QACrC;QACA,MAAM,QAAQ,kBAAkB,OAAO,CAAC;QACxC,IAAI,UAAU,CAAC,GAAG;YACd,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,MAAM;QAChD;QACA,QAAQ,AAAC,SAAS,IAAK;QACvB,QAAQ;QACR,IAAI,QAAQ,GAAG;YACX,MAAM,CAAC,cAAc,GAAG,AAAC,UAAW,OAAO,IAAM;YACjD,QAAQ;QACZ;IACJ;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 6149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/crypto.js"],"sourcesContent":["import { encodeBase32 } from \"./bytes\";\n/**\n * Generates a secure alphanumeric string using the system's cryptographically secure\n * random number generator.\n */\nexport function generateSecureRandomString(minBitsOfEntropy = 224) {\n    const base32CharactersCount = Math.ceil(minBitsOfEntropy / 5);\n    const bytesCount = Math.ceil(base32CharactersCount * 5 / 8);\n    const randomBytes = globalThis.crypto.getRandomValues(new Uint8Array(bytesCount));\n    const str = encodeBase32(randomBytes);\n    return str.slice(str.length - base32CharactersCount).toLowerCase();\n}\n"],"names":[],"mappings":";;;;AAAA;;AAKO,SAAS,2BAA2B,mBAAmB,GAAG;IAC7D,MAAM,wBAAwB,KAAK,IAAI,CAAC,mBAAmB;IAC3D,MAAM,aAAa,KAAK,IAAI,CAAC,wBAAwB,IAAI;IACzD,MAAM,cAAc,WAAW,MAAM,CAAC,eAAe,CAAC,IAAI,WAAW;IACrE,MAAM,MAAM,IAAA,uQAAY,EAAC;IACzB,OAAO,IAAI,KAAK,CAAC,IAAI,MAAM,GAAG,uBAAuB,WAAW;AACpE","ignoreList":[0]}},
    {"offset": {"line": 6166, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/interface/clientInterface.js"],"sourcesContent":["import * as oauth from 'oauth4webapi';\nimport { Result } from \"../utils/results\";\nimport { AsyncStore } from '../utils/stores';\nimport { KnownError, KnownErrors } from '../known-errors';\nimport { StackAssertionError } from '../utils/errors';\nimport { cookies } from '@stackframe/stack-sc';\nimport { generateSecureRandomString } from '../utils/crypto';\nexport const sharedProviders = [\n    \"shared-github\",\n    \"shared-google\",\n    \"shared-facebook\",\n    \"shared-microsoft\",\n];\nexport const standardProviders = [\n    \"github\",\n    \"facebook\",\n    \"google\",\n    \"microsoft\",\n];\nexport function toStandardProvider(provider) {\n    return provider.replace(\"shared-\", \"\");\n}\nexport function toSharedProvider(provider) {\n    return \"shared-\" + provider;\n}\nexport class StackClientInterface {\n    options;\n    constructor(options) {\n        this.options = options;\n        // nothing here\n    }\n    get projectId() {\n        return this.options.projectId;\n    }\n    getApiUrl() {\n        return this.options.baseUrl + \"/api/v1\";\n    }\n    async refreshAccessToken(tokenStore) {\n        if (!('publishableClientKey' in this.options)) {\n            // TODO fix\n            throw new Error(\"Admin session token is currently not supported for fetching new access token\");\n        }\n        const refreshToken = (await tokenStore.getOrWait()).refreshToken;\n        if (!refreshToken) {\n            tokenStore.set({\n                accessToken: null,\n                refreshToken: null,\n            });\n            return;\n        }\n        const as = {\n            issuer: this.options.baseUrl,\n            algorithm: 'oauth2',\n            token_endpoint: this.getApiUrl() + '/auth/token',\n        };\n        const client = {\n            client_id: this.projectId,\n            client_secret: this.options.publishableClientKey,\n            token_endpoint_auth_method: 'client_secret_basic',\n        };\n        const rawResponse = await oauth.refreshTokenGrantRequest(as, client, refreshToken);\n        const response = await this._processResponse(rawResponse);\n        if (response.status === \"error\") {\n            const error = response.error;\n            if (error instanceof KnownErrors.RefreshTokenError) {\n                return tokenStore.set({\n                    accessToken: null,\n                    refreshToken: null,\n                });\n            }\n            throw error;\n        }\n        if (!response.data.ok) {\n            const body = await response.data.text();\n            throw new Error(`Failed to send refresh token request: ${response.status} ${body}`);\n        }\n        let challenges;\n        if ((challenges = oauth.parseWwwAuthenticateChallenges(response.data))) {\n            // TODO Handle WWW-Authenticate Challenges as needed\n            throw new StackAssertionError(\"OAuth WWW-Authenticate challenge not implemented\", { challenges });\n        }\n        const result = await oauth.processRefreshTokenResponse(as, client, response.data);\n        if (oauth.isOAuth2Error(result)) {\n            // TODO Handle OAuth 2.0 response body error\n            throw new StackAssertionError(\"OAuth error\", { result });\n        }\n        tokenStore.update(old => ({\n            accessToken: result.access_token ?? null,\n            refreshToken: result.refresh_token ?? old?.refreshToken ?? null,\n        }));\n    }\n    async sendClientRequest(path, requestOptions, tokenStoreOrNull, requestType = \"client\") {\n        const tokenStore = tokenStoreOrNull ?? new AsyncStore({\n            accessToken: null,\n            refreshToken: null,\n        });\n        return await Result.orThrowAsync(Result.retry(() => this.sendClientRequestInner(path, requestOptions, tokenStore, requestType), 5, { exponentialDelayBase: 1000 }));\n    }\n    async sendClientRequestAndCatchKnownError(path, requestOptions, tokenStoreOrNull, errorsToCatch) {\n        try {\n            return Result.ok(await this.sendClientRequest(path, requestOptions, tokenStoreOrNull));\n        }\n        catch (e) {\n            for (const errorType of errorsToCatch) {\n                if (e instanceof errorType) {\n                    return Result.error(e);\n                }\n            }\n            throw e;\n        }\n    }\n    async sendClientRequestInner(path, options, \n    /**\n     * This object will be modified for future retries, so it should be passed by reference.\n     */\n    tokenStore, requestType) {\n        let tokenObj = await tokenStore.getOrWait();\n        if (!tokenObj.accessToken && tokenObj.refreshToken) {\n            await this.refreshAccessToken(tokenStore);\n            tokenObj = await tokenStore.getOrWait();\n        }\n        // all requests should be dynamic to prevent Next.js caching\n        cookies?.();\n        const url = this.getApiUrl() + path;\n        const params = {\n            /**\n             * This fetch maybe cross-origin, in which case we don't want to send cookies of the\n             * original origin (this is the default behaviour of `credentials`).\n             *\n             * To help debugging, also omit cookies on same-origin, so we don't accidentally\n             * implement reliance on cookies anywhere.\n             */\n            credentials: \"omit\",\n            ...options,\n            headers: {\n                \"X-Stack-Override-Error-Status\": \"true\",\n                \"X-Stack-Project-Id\": this.projectId,\n                \"X-Stack-Request-Type\": requestType,\n                \"X-Stack-Client-Version\": this.options.clientVersion,\n                ...tokenObj.accessToken ? {\n                    \"Authorization\": \"StackSession \" + tokenObj.accessToken,\n                    \"X-Stack-Access-Token\": tokenObj.accessToken,\n                } : {},\n                ...tokenObj.refreshToken ? {\n                    \"X-Stack-Refresh-Token\": tokenObj.refreshToken,\n                } : {},\n                ...'publishableClientKey' in this.options ? {\n                    \"X-Stack-Publishable-Client-Key\": this.options.publishableClientKey,\n                } : {},\n                ...'projectOwnerTokens' in this.options ? {\n                    \"X-Stack-Admin-Access-Token\": (await this.options.projectOwnerTokens?.getOrWait())?.accessToken ?? \"\",\n                } : {},\n                \"X-Stack-Random-Nonce\": generateSecureRandomString(),\n                ...options.headers,\n            },\n            cache: \"no-store\",\n        };\n        const rawRes = await fetch(url, params);\n        const processedRes = await this._processResponse(rawRes);\n        if (processedRes.status === \"error\") {\n            // If the access token is expired, reset it and retry\n            if (processedRes.error instanceof KnownErrors.InvalidAccessToken) {\n                tokenStore.set({\n                    accessToken: null,\n                    refreshToken: tokenObj.refreshToken,\n                });\n                return Result.error(new Error(\"Access token expired\"));\n            }\n            // Known errors are client side errors, and should hence not be retried (except for access token expired above).\n            // Hence, throw instead of returning an error\n            throw processedRes.error;\n        }\n        const res = Object.assign(processedRes.data, {\n            usedTokens: tokenObj,\n        });\n        if (res.ok) {\n            return Result.ok(res);\n        }\n        else {\n            const error = await res.text();\n            // Do not retry, throw error instead of returning one\n            throw new Error(`Failed to send request to ${url}: ${res.status} ${error}`);\n        }\n    }\n    async _processResponse(rawRes) {\n        let res = rawRes;\n        if (rawRes.headers.has(\"x-stack-actual-status\")) {\n            const actualStatus = Number(rawRes.headers.get(\"x-stack-actual-status\"));\n            res = new Response(rawRes.body, {\n                status: actualStatus,\n                statusText: rawRes.statusText,\n                headers: rawRes.headers,\n            });\n        }\n        // Handle known errors\n        if (res.headers.has(\"x-stack-known-error\")) {\n            const errorJson = await res.json();\n            if (res.headers.get(\"x-stack-known-error\") !== errorJson.code) {\n                throw new Error(\"Mismatch between x-stack-known-error header and error code in body; the server's response is invalid\");\n            }\n            const error = KnownError.fromJson(errorJson);\n            return Result.error(error);\n        }\n        return Result.ok(res);\n    }\n    async sendForgotPasswordEmail(email, redirectUrl) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/forgot-password\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email,\n                redirectUrl,\n            }),\n        }, null, [KnownErrors.UserNotFound]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n    }\n    async sendVerificationEmail(emailVerificationRedirectUrl, tokenStore) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/send-verification-email\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                emailVerificationRedirectUrl,\n            }),\n        }, tokenStore, [KnownErrors.EmailAlreadyVerified]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n    }\n    async sendMagicLinkEmail(email, redirectUrl) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/send-magic-link\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email,\n                redirectUrl,\n            }),\n        }, null, [KnownErrors.RedirectUrlNotWhitelisted]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n    }\n    async resetPassword(options) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/password-reset\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(options),\n        }, null, [KnownErrors.PasswordResetError]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n    }\n    async updatePassword(options, tokenStore) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/update-password\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(options),\n        }, tokenStore, [KnownErrors.PasswordMismatch, KnownErrors.PasswordRequirementsNotMet]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n    }\n    async verifyPasswordResetCode(code) {\n        const res = await this.resetPassword({ code, onlyVerifyCode: true });\n        if (res && !(res instanceof KnownErrors.PasswordResetCodeError)) {\n            throw res;\n        }\n        return res;\n    }\n    async verifyEmail(code) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/email-verification\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                code,\n            }),\n        }, null, [KnownErrors.EmailVerificationError]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n    }\n    async signInWithCredential(email, password, tokenStore) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/signin\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email,\n                password,\n            }),\n        }, tokenStore, [KnownErrors.EmailPasswordMismatch]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n        const result = await res.data.json();\n        tokenStore.set({\n            accessToken: result.accessToken,\n            refreshToken: result.refreshToken,\n        });\n    }\n    async signUpWithCredential(email, password, emailVerificationRedirectUrl, tokenStore) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/signup\", {\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            method: \"POST\",\n            body: JSON.stringify({\n                email,\n                password,\n                emailVerificationRedirectUrl,\n            }),\n        }, tokenStore, [KnownErrors.UserEmailAlreadyExists, KnownErrors.PasswordRequirementsNotMet]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n        const result = await res.data.json();\n        tokenStore.set({\n            accessToken: result.accessToken,\n            refreshToken: result.refreshToken,\n        });\n    }\n    async signInWithMagicLink(code, tokenStore) {\n        const res = await this.sendClientRequestAndCatchKnownError(\"/auth/magic-link-verification\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                code,\n            }),\n        }, null, [KnownErrors.MagicLinkError]);\n        if (res.status === \"error\") {\n            return res.error;\n        }\n        const result = await res.data.json();\n        tokenStore.set({\n            accessToken: result.accessToken,\n            refreshToken: result.refreshToken,\n        });\n        return { newUser: result.newUser };\n    }\n    async getOAuthUrl(provider, redirectUrl, codeChallenge, state) {\n        const updatedRedirectUrl = new URL(redirectUrl);\n        for (const key of [\"code\", \"state\"]) {\n            if (updatedRedirectUrl.searchParams.has(key)) {\n                console.warn(\"Redirect URL already contains \" + key + \" parameter, removing it as it will be overwritten by the OAuth callback\");\n            }\n            updatedRedirectUrl.searchParams.delete(key);\n        }\n        if (!('publishableClientKey' in this.options)) {\n            // TODO fix\n            throw new Error(\"Admin session token is currently not supported for OAuth\");\n        }\n        const url = new URL(this.getApiUrl() + \"/auth/authorize/\" + provider.toLowerCase());\n        url.searchParams.set(\"client_id\", this.projectId);\n        url.searchParams.set(\"client_secret\", this.options.publishableClientKey);\n        url.searchParams.set(\"redirect_uri\", updatedRedirectUrl.toString());\n        url.searchParams.set(\"scope\", \"openid\");\n        url.searchParams.set(\"state\", state);\n        url.searchParams.set(\"grant_type\", \"authorization_code\");\n        url.searchParams.set(\"code_challenge\", codeChallenge);\n        url.searchParams.set(\"code_challenge_method\", \"S256\");\n        url.searchParams.set(\"response_type\", \"code\");\n        return url.toString();\n    }\n    async callOAuthCallback(oauthParams, redirectUri, codeVerifier, state, tokenStore) {\n        if (!('publishableClientKey' in this.options)) {\n            // TODO fix\n            throw new Error(\"Admin session token is currently not supported for OAuth\");\n        }\n        const as = {\n            issuer: this.options.baseUrl,\n            algorithm: 'oauth2',\n            token_endpoint: this.getApiUrl() + '/auth/token',\n        };\n        const client = {\n            client_id: this.projectId,\n            client_secret: this.options.publishableClientKey,\n            token_endpoint_auth_method: 'client_secret_basic',\n        };\n        const params = oauth.validateAuthResponse(as, client, oauthParams, state);\n        if (oauth.isOAuth2Error(params)) {\n            throw new StackAssertionError(\"Error validating OAuth response\", { params }); // Handle OAuth 2.0 redirect error\n        }\n        const response = await oauth.authorizationCodeGrantRequest(as, client, params, redirectUri, codeVerifier);\n        let challenges;\n        if ((challenges = oauth.parseWwwAuthenticateChallenges(response))) {\n            // TODO Handle WWW-Authenticate Challenges as needed\n            throw new StackAssertionError(\"OAuth WWW-Authenticate challenge not implemented\", { challenges });\n        }\n        const result = await oauth.processAuthorizationCodeOAuth2Response(as, client, response);\n        if (oauth.isOAuth2Error(result)) {\n            // TODO Handle OAuth 2.0 response body error\n            throw new StackAssertionError(\"OAuth error\", { result });\n        }\n        tokenStore.update(old => ({\n            accessToken: result.access_token ?? null,\n            refreshToken: result.refresh_token ?? old?.refreshToken ?? null,\n        }));\n        return result;\n    }\n    async signOut(tokenStore) {\n        const tokenObj = await tokenStore.getOrWait();\n        const res = await this.sendClientRequest(\"/auth/signout\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                refreshToken: tokenObj.refreshToken ?? \"\",\n            }),\n        }, tokenStore);\n        await res.json();\n        tokenStore.set({\n            accessToken: null,\n            refreshToken: null,\n        });\n    }\n    async getClientUserByToken(tokenStore) {\n        const response = await this.sendClientRequest(\"/current-user\", {}, tokenStore);\n        const user = await response.json();\n        if (!user)\n            return Result.error(new Error(\"Failed to get user\"));\n        return Result.ok(user);\n    }\n    async listClientUserTeamPermissions(options, tokenStore) {\n        const response = await this.sendClientRequest(`/current-user/teams/${options.teamId}/permissions?type=${options.type}&direct=${options.direct}`, {}, tokenStore);\n        const permissions = await response.json();\n        return permissions;\n    }\n    async listClientUserTeams(tokenStore) {\n        const response = await this.sendClientRequest(\"/current-user/teams\", {}, tokenStore);\n        const teams = await response.json();\n        return teams;\n    }\n    async getClientProject() {\n        const response = await this.sendClientRequest(\"/projects/\" + this.options.projectId, {}, null);\n        const project = await response.json();\n        if (!project)\n            return Result.error(new Error(\"Failed to get project\"));\n        return Result.ok(project);\n    }\n    async setClientUserCustomizableData(update, tokenStore) {\n        await this.sendClientRequest(\"/current-user\", {\n            method: \"PUT\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(update),\n        }, tokenStore);\n    }\n    async listProjects(tokenStore) {\n        const response = await this.sendClientRequest(\"/projects\", {}, tokenStore);\n        if (!response.ok) {\n            throw new Error(\"Failed to list projects: \" + response.status + \" \" + (await response.text()));\n        }\n        const json = await response.json();\n        return json;\n    }\n    async createProject(project, tokenStore) {\n        const fetchResponse = await this.sendClientRequest(\"/projects\", {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(project),\n        }, tokenStore);\n        if (!fetchResponse.ok) {\n            throw new Error(\"Failed to create project: \" + fetchResponse.status + \" \" + (await fetchResponse.text()));\n        }\n        const json = await fetchResponse.json();\n        return json;\n    }\n}\nexport function getProductionModeErrors(project) {\n    const errors = [];\n    const fixUrlRelative = `/projects/${project.id}/domains`;\n    if (project.evaluatedConfig.allowLocalhost) {\n        errors.push({\n            errorMessage: \"Localhost is not allowed in production mode, turn off 'Allow localhost' in project settings\",\n            fixUrlRelative,\n        });\n    }\n    for (const { domain } of project.evaluatedConfig.domains) {\n        let url;\n        try {\n            url = new URL(domain);\n        }\n        catch (e) {\n            errors.push({\n                errorMessage: \"Domain should be a valid URL: \" + domain,\n                fixUrlRelative,\n            });\n            continue;\n        }\n        if (url.hostname === \"localhost\") {\n            errors.push({\n                errorMessage: \"Domain should not be localhost: \" + domain,\n                fixUrlRelative,\n            });\n        }\n        else if (!url.hostname.includes(\".\") || url.hostname.match(/\\d+(\\.\\d+)*/)) {\n            errors.push({\n                errorMessage: \"Not a valid domain\" + domain,\n                fixUrlRelative,\n            });\n        }\n        else if (url.protocol !== \"https:\") {\n            errors.push({\n                errorMessage: \"Domain should be HTTPS: \" + domain,\n                fixUrlRelative,\n            });\n        }\n    }\n    return errors;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6752, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/interface/serverInterface.js"],"sourcesContent":["import { StackClientInterface, } from \"./clientInterface\";\nimport { Result } from \"../utils/results\";\nexport class StackServerInterface extends StackClientInterface {\n    options;\n    constructor(options) {\n        super(options);\n        this.options = options;\n    }\n    async sendServerRequest(path, options, tokenStore, requestType = \"server\") {\n        return await this.sendClientRequest(path, {\n            ...options,\n            headers: {\n                \"x-stack-secret-server-key\": \"secretServerKey\" in this.options ? this.options.secretServerKey : \"\",\n                ...options.headers,\n            },\n        }, tokenStore, requestType);\n    }\n    async getServerUserByToken(tokenStore) {\n        const response = await this.sendServerRequest(\"/current-user?server=true\", {}, tokenStore);\n        const user = await response.json();\n        if (!user)\n            return Result.error(new Error(\"Failed to get user\"));\n        return Result.ok(user);\n    }\n    async getServerUserById(userId) {\n        const response = await this.sendServerRequest(`/users/${userId}?server=true`, {}, null);\n        const user = await response.json();\n        if (!user)\n            return Result.error(new Error(\"Failed to get user\"));\n        return Result.ok(user);\n    }\n    async listServerUserTeamPermissions(options, tokenStore) {\n        const response = await this.sendServerRequest(`/current-user/teams/${options.teamId}/permissions?type=${options.type}&direct=${options.direct}&server=true`, {}, tokenStore);\n        const permissions = await response.json();\n        return permissions;\n    }\n    async listServerUserTeams(tokenStore) {\n        const response = await this.sendServerRequest(\"/current-user/teams?server=true\", {}, tokenStore);\n        const teams = await response.json();\n        return teams;\n    }\n    async listPermissionDefinitions() {\n        const response = await this.sendServerRequest(`/permission-definitions?server=true`, {}, null);\n        return await response.json();\n    }\n    async createPermissionDefinition(data) {\n        const response = await this.sendServerRequest(\"/permission-definitions?server=true\", {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                ...data,\n                scope: {\n                    type: \"any-team\",\n                }\n            }),\n        }, null);\n        return await response.json();\n    }\n    async updatePermissionDefinition(permissionId, data) {\n        await this.sendServerRequest(`/permission-definitions/${permissionId}?server=true`, {\n            method: \"PUT\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        }, null);\n    }\n    async deletePermissionDefinition(permissionId) {\n        await this.sendServerRequest(`/permission-definitions/${permissionId}?server=true`, { method: \"DELETE\" }, null);\n    }\n    async listUsers() {\n        const response = await this.sendServerRequest(\"/users?server=true\", {}, null);\n        return await response.json();\n    }\n    async listTeams() {\n        const response = await this.sendServerRequest(\"/teams?server=true\", {}, null);\n        const json = await response.json();\n        return json;\n    }\n    async listTeamMembers(teamId) {\n        const response = await this.sendServerRequest(`/teams/${teamId}/users?server=true`, {}, null);\n        return await response.json();\n    }\n    async createTeam(data) {\n        const response = await this.sendServerRequest(\"/teams?server=true\", {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        }, null);\n        return await response.json();\n    }\n    async updateTeam(teamId, data) {\n        await this.sendServerRequest(`/teams/${teamId}?server=true`, {\n            method: \"PUT\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        }, null);\n    }\n    async deleteTeam(teamId) {\n        await this.sendServerRequest(`/teams/${teamId}?server=true`, { method: \"DELETE\" }, null);\n    }\n    async addUserToTeam(options) {\n        await this.sendServerRequest(`/teams/${options.teamId}/users/${options.userId}?server=true`, {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify({}),\n        }, null);\n    }\n    async removeUserFromTeam(options) {\n        await this.sendServerRequest(`/teams/${options.teamId}/users/${options.userId}?server=true`, {\n            method: \"DELETE\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify({}),\n        }, null);\n    }\n    async setServerUserCustomizableData(userId, update) {\n        await this.sendServerRequest(`/users/${userId}?server=true`, {\n            method: \"PUT\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(update),\n        }, null);\n    }\n    async listTeamMemberPermissions(options) {\n        const response = await this.sendServerRequest(`/teams/${options.teamId}/users/${options.userId}/permissions?server=true&type=${options.type}&direct=${options.direct}`, {}, null);\n        return await response.json();\n    }\n    async grantTeamUserPermission(teamId, userId, permissionId, type) {\n        await this.sendServerRequest(`/teams/${teamId}/users/${userId}/permissions/${permissionId}?server=true`, {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify({ type }),\n        }, null);\n    }\n    async revokeTeamUserPermission(teamId, userId, permissionId, type) {\n        await this.sendServerRequest(`/teams/${teamId}/users/${userId}/permissions/${permissionId}?server=true`, {\n            method: \"DELETE\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify({ type }),\n        }, null);\n    }\n    async deleteServerUser(userId) {\n        await this.sendServerRequest(`/users/${userId}?server=true`, {\n            method: \"DELETE\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify({}),\n        }, null);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6934, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/interface/adminInterface.js"],"sourcesContent":["import { StackServerInterface } from \"./serverInterface\";\nexport class StackAdminInterface extends StackServerInterface {\n    options;\n    constructor(options) {\n        super(options);\n        this.options = options;\n    }\n    async sendAdminRequest(path, options, tokenStore, requestType = \"admin\") {\n        return await this.sendServerRequest(path, {\n            ...options,\n            headers: {\n                \"x-stack-super-secret-admin-key\": \"superSecretAdminKey\" in this.options ? this.options.superSecretAdminKey : \"\",\n                ...options.headers,\n            },\n        }, tokenStore, requestType);\n    }\n    async getProject(options) {\n        const response = await this.sendAdminRequest(\"/projects/\" + encodeURIComponent(this.projectId), {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(options ?? {}),\n        }, null);\n        return await response.json();\n    }\n    async updateProject(update) {\n        const response = await this.sendAdminRequest(\"/projects/\" + encodeURIComponent(this.projectId), {\n            method: \"PUT\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(update),\n        }, null);\n        return await response.json();\n    }\n    async createApiKeySet(options) {\n        const response = await this.sendServerRequest(\"/api-keys\", {\n            method: \"POST\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify(options),\n        }, null);\n        return await response.json();\n    }\n    async listApiKeySets() {\n        const response = await this.sendAdminRequest(\"/api-keys\", {}, null);\n        const json = await response.json();\n        return json.map((k) => k);\n    }\n    async revokeApiKeySetById(id) {\n        await this.sendAdminRequest(`/api-keys/${id}`, {\n            method: \"PUT\",\n            headers: {\n                \"content-type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                revoke: true,\n            }),\n        }, null);\n    }\n    async getApiKeySet(id, tokenStore) {\n        const response = await this.sendAdminRequest(`/api-keys/${id}`, {}, tokenStore);\n        return await response.json();\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,4BAA4B,6RAAoB;IACzD,QAAQ;IACR,YAAY,OAAO,CAAE;QACjB,KAAK,CAAC;QACN,IAAI,CAAC,OAAO,GAAG;IACnB;IACA,MAAM,iBAAiB,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,cAAc,OAAO,EAAE;QACrE,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM;YACtC,GAAG,OAAO;YACV,SAAS;gBACL,kCAAkC,yBAAyB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,mBAAmB,GAAG;gBAC7G,GAAG,QAAQ,OAAO;YACtB;QACJ,GAAG,YAAY;IACnB;IACA,MAAM,WAAW,OAAO,EAAE;QACtB,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAAC,eAAe,mBAAmB,IAAI,CAAC,SAAS,GAAG;YAC5F,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC,WAAW,CAAC;QACrC,GAAG;QACH,OAAO,MAAM,SAAS,IAAI;IAC9B;IACA,MAAM,cAAc,MAAM,EAAE;QACxB,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAAC,eAAe,mBAAmB,IAAI,CAAC,SAAS,GAAG;YAC5F,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;QACzB,GAAG;QACH,OAAO,MAAM,SAAS,IAAI;IAC9B;IACA,MAAM,gBAAgB,OAAO,EAAE;QAC3B,MAAM,WAAW,MAAM,IAAI,CAAC,iBAAiB,CAAC,aAAa;YACvD,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;QACzB,GAAG;QACH,OAAO,MAAM,SAAS,IAAI;IAC9B;IACA,MAAM,iBAAiB;QACnB,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,GAAG;QAC9D,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM;IAC3B;IACA,MAAM,oBAAoB,EAAE,EAAE;QAC1B,MAAM,IAAI,CAAC,gBAAgB,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE;YAC3C,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBACjB,QAAQ;YACZ;QACJ,GAAG;IACP;IACA,MAAM,aAAa,EAAE,EAAE,UAAU,EAAE;QAC/B,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,GAAG;QACpE,OAAO,MAAM,SAAS,IAAI;IAC9B;AACJ","ignoreList":[0]}},
    {"offset": {"line": 7010, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/index.js"],"sourcesContent":["export { StackClientInterface, getProductionModeErrors, } from \"./interface/clientInterface\";\nexport { StackServerInterface, } from \"./interface/serverInterface\";\nexport { StackAdminInterface, } from \"./interface/adminInterface\";\nexport { KnownError, KnownErrors, } from \"./known-errors\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 7023, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/js-cookie/dist/js.cookie.mjs"],"sourcesContent":["/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/node_modules/.pnpm/oauth4webapi%402.10.3/node_modules/oauth4webapi/build/index.js","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/lib/cookie.ts"],"sourcesContent":["let USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'oauth4webapi';\n    const VERSION = 'v2.10.3';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nfunction looseInstanceOf(input, expected) {\n    if (input == null) {\n        return false;\n    }\n    try {\n        return (input instanceof expected ||\n            Object.getPrototypeOf(input)[Symbol.toStringTag] === expected.prototype[Symbol.toStringTag]);\n    }\n    catch {\n        return false;\n    }\n}\nexport const clockSkew = Symbol();\nexport const clockTolerance = Symbol();\nexport const customFetch = Symbol();\nexport const useMtlsAlias = Symbol();\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nfunction buf(input) {\n    if (typeof input === 'string') {\n        return encoder.encode(input);\n    }\n    return decoder.decode(input);\n}\nconst CHUNK_SIZE = 0x8000;\nfunction encodeBase64Url(input) {\n    if (input instanceof ArrayBuffer) {\n        input = new Uint8Array(input);\n    }\n    const arr = [];\n    for (let i = 0; i < input.byteLength; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join('')).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction decodeBase64Url(input) {\n    try {\n        const binary = atob(input.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, ''));\n        const bytes = new Uint8Array(binary.length);\n        for (let i = 0; i < binary.length; i++) {\n            bytes[i] = binary.charCodeAt(i);\n        }\n        return bytes;\n    }\n    catch (cause) {\n        throw new OPE('The input to be decoded is not correctly encoded.', { cause });\n    }\n}\nfunction b64u(input) {\n    if (typeof input === 'string') {\n        return decodeBase64Url(input);\n    }\n    return encodeBase64Url(input);\n}\nclass LRU {\n    constructor(maxSize) {\n        this.cache = new Map();\n        this._cache = new Map();\n        this.maxSize = maxSize;\n    }\n    get(key) {\n        let v = this.cache.get(key);\n        if (v) {\n            return v;\n        }\n        if ((v = this._cache.get(key))) {\n            this.update(key, v);\n            return v;\n        }\n        return undefined;\n    }\n    has(key) {\n        return this.cache.has(key) || this._cache.has(key);\n    }\n    set(key, value) {\n        if (this.cache.has(key)) {\n            this.cache.set(key, value);\n        }\n        else {\n            this.update(key, value);\n        }\n        return this;\n    }\n    delete(key) {\n        if (this.cache.has(key)) {\n            return this.cache.delete(key);\n        }\n        if (this._cache.has(key)) {\n            return this._cache.delete(key);\n        }\n        return false;\n    }\n    update(key, value) {\n        this.cache.set(key, value);\n        if (this.cache.size >= this.maxSize) {\n            this._cache = this.cache;\n            this.cache = new Map();\n        }\n    }\n}\nexport class UnsupportedOperationError extends Error {\n    constructor(message) {\n        super(message ?? 'operation not supported');\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class OperationProcessingError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nconst OPE = OperationProcessingError;\nconst dpopNonces = new LRU(100);\nfunction isCryptoKey(key) {\n    return key instanceof CryptoKey;\n}\nfunction isPrivateKey(key) {\n    return isCryptoKey(key) && key.type === 'private';\n}\nfunction isPublicKey(key) {\n    return isCryptoKey(key) && key.type === 'public';\n}\nconst SUPPORTED_JWS_ALGS = [\n    'PS256',\n    'ES256',\n    'RS256',\n    'PS384',\n    'ES384',\n    'RS384',\n    'PS512',\n    'ES512',\n    'RS512',\n    'EdDSA',\n];\nfunction processDpopNonce(response) {\n    try {\n        const nonce = response.headers.get('dpop-nonce');\n        if (nonce) {\n            dpopNonces.set(new URL(response.url).origin, nonce);\n        }\n    }\n    catch { }\n    return response;\n}\nfunction normalizeTyp(value) {\n    return value.toLowerCase().replace(/^application\\//, '');\n}\nfunction isJsonObject(input) {\n    if (input === null || typeof input !== 'object' || Array.isArray(input)) {\n        return false;\n    }\n    return true;\n}\nfunction prepareHeaders(input) {\n    if (looseInstanceOf(input, Headers)) {\n        input = Object.fromEntries(input.entries());\n    }\n    const headers = new Headers(input);\n    if (USER_AGENT && !headers.has('user-agent')) {\n        headers.set('user-agent', USER_AGENT);\n    }\n    if (headers.has('authorization')) {\n        throw new TypeError('\"options.headers\" must not include the \"authorization\" header name');\n    }\n    if (headers.has('dpop')) {\n        throw new TypeError('\"options.headers\" must not include the \"dpop\" header name');\n    }\n    return headers;\n}\nfunction signal(value) {\n    if (typeof value === 'function') {\n        value = value();\n    }\n    if (!(value instanceof AbortSignal)) {\n        throw new TypeError('\"options.signal\" must return or be an instance of AbortSignal');\n    }\n    return value;\n}\nexport async function discoveryRequest(issuerIdentifier, options) {\n    if (!(issuerIdentifier instanceof URL)) {\n        throw new TypeError('\"issuerIdentifier\" must be an instance of URL');\n    }\n    if (issuerIdentifier.protocol !== 'https:' && issuerIdentifier.protocol !== 'http:') {\n        throw new TypeError('\"issuer.protocol\" must be \"https:\" or \"http:\"');\n    }\n    const url = new URL(issuerIdentifier.href);\n    switch (options?.algorithm) {\n        case undefined:\n        case 'oidc':\n            url.pathname = `${url.pathname}/.well-known/openid-configuration`.replace('//', '/');\n            break;\n        case 'oauth2':\n            if (url.pathname === '/') {\n                url.pathname = '.well-known/oauth-authorization-server';\n            }\n            else {\n                url.pathname = `.well-known/oauth-authorization-server/${url.pathname}`.replace('//', '/');\n            }\n            break;\n        default:\n            throw new TypeError('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"');\n    }\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nfunction validateString(input) {\n    return typeof input === 'string' && input.length !== 0;\n}\nexport async function processDiscoveryResponse(expectedIssuerIdentifier, response) {\n    if (!(expectedIssuerIdentifier instanceof URL)) {\n        throw new TypeError('\"expectedIssuer\" must be an instance of URL');\n    }\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform Authorization Server Metadata response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.issuer)) {\n        throw new OPE('\"response\" body \"issuer\" property must be a non-empty string');\n    }\n    if (new URL(json.issuer).href !== expectedIssuerIdentifier.href) {\n        throw new OPE('\"response\" body \"issuer\" does not match \"expectedIssuer\"');\n    }\n    return json;\n}\nfunction randomBytes() {\n    return b64u(crypto.getRandomValues(new Uint8Array(32)));\n}\nexport function generateRandomCodeVerifier() {\n    return randomBytes();\n}\nexport function generateRandomState() {\n    return randomBytes();\n}\nexport function generateRandomNonce() {\n    return randomBytes();\n}\nexport async function calculatePKCECodeChallenge(codeVerifier) {\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    return b64u(await crypto.subtle.digest('SHA-256', buf(codeVerifier)));\n}\nfunction getKeyAndKid(input) {\n    if (input instanceof CryptoKey) {\n        return { key: input };\n    }\n    if (!(input?.key instanceof CryptoKey)) {\n        return {};\n    }\n    if (input.kid !== undefined && !validateString(input.kid)) {\n        throw new TypeError('\"kid\" must be a non-empty string');\n    }\n    return { key: input.key, kid: input.kid };\n}\nfunction formUrlEncode(token) {\n    return encodeURIComponent(token).replace(/%20/g, '+');\n}\nfunction clientSecretBasic(clientId, clientSecret) {\n    const username = formUrlEncode(clientId);\n    const password = formUrlEncode(clientSecret);\n    const credentials = btoa(`${username}:${password}`);\n    return `Basic ${credentials}`;\n}\nfunction psAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'PS256';\n        case 'SHA-384':\n            return 'PS384';\n        case 'SHA-512':\n            return 'PS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction rsAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'RS256';\n        case 'SHA-384':\n            return 'RS384';\n        case 'SHA-512':\n            return 'RS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction esAlg(key) {\n    switch (key.algorithm.namedCurve) {\n        case 'P-256':\n            return 'ES256';\n        case 'P-384':\n            return 'ES384';\n        case 'P-521':\n            return 'ES512';\n        default:\n            throw new UnsupportedOperationError('unsupported EcKeyAlgorithm namedCurve');\n    }\n}\nfunction keyToJws(key) {\n    switch (key.algorithm.name) {\n        case 'RSA-PSS':\n            return psAlg(key);\n        case 'RSASSA-PKCS1-v1_5':\n            return rsAlg(key);\n        case 'ECDSA':\n            return esAlg(key);\n        case 'Ed25519':\n        case 'Ed448':\n            return 'EdDSA';\n        default:\n            throw new UnsupportedOperationError('unsupported CryptoKey algorithm name');\n    }\n}\nfunction getClockSkew(client) {\n    const skew = client?.[clockSkew];\n    return typeof skew === 'number' && Number.isFinite(skew) ? skew : 0;\n}\nfunction getClockTolerance(client) {\n    const tolerance = client?.[clockTolerance];\n    return typeof tolerance === 'number' && Number.isFinite(tolerance) && Math.sign(tolerance) !== -1\n        ? tolerance\n        : 30;\n}\nfunction epochTime() {\n    return Math.floor(Date.now() / 1000);\n}\nfunction clientAssertion(as, client) {\n    const now = epochTime() + getClockSkew(client);\n    return {\n        jti: randomBytes(),\n        aud: [as.issuer, as.token_endpoint],\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n        sub: client.client_id,\n    };\n}\nasync function privateKeyJwt(as, client, key, kid) {\n    return jwt({\n        alg: keyToJws(key),\n        kid,\n    }, clientAssertion(as, client), key);\n}\nfunction assertAs(as) {\n    if (typeof as !== 'object' || as === null) {\n        throw new TypeError('\"as\" must be an object');\n    }\n    if (!validateString(as.issuer)) {\n        throw new TypeError('\"as.issuer\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClient(client) {\n    if (typeof client !== 'object' || client === null) {\n        throw new TypeError('\"client\" must be an object');\n    }\n    if (!validateString(client.client_id)) {\n        throw new TypeError('\"client.client_id\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClientSecret(clientSecret) {\n    if (!validateString(clientSecret)) {\n        throw new TypeError('\"client.client_secret\" property must be a non-empty string');\n    }\n    return clientSecret;\n}\nfunction assertNoClientPrivateKey(clientAuthMethod, clientPrivateKey) {\n    if (clientPrivateKey !== undefined) {\n        throw new TypeError(`\"options.clientPrivateKey\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nfunction assertNoClientSecret(clientAuthMethod, clientSecret) {\n    if (clientSecret !== undefined) {\n        throw new TypeError(`\"client.client_secret\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nasync function clientAuthentication(as, client, body, headers, clientPrivateKey) {\n    body.delete('client_secret');\n    body.delete('client_assertion_type');\n    body.delete('client_assertion');\n    switch (client.token_endpoint_auth_method) {\n        case undefined:\n        case 'client_secret_basic': {\n            assertNoClientPrivateKey('client_secret_basic', clientPrivateKey);\n            headers.set('authorization', clientSecretBasic(client.client_id, assertClientSecret(client.client_secret)));\n            break;\n        }\n        case 'client_secret_post': {\n            assertNoClientPrivateKey('client_secret_post', clientPrivateKey);\n            body.set('client_id', client.client_id);\n            body.set('client_secret', assertClientSecret(client.client_secret));\n            break;\n        }\n        case 'private_key_jwt': {\n            assertNoClientSecret('private_key_jwt', client.client_secret);\n            if (clientPrivateKey === undefined) {\n                throw new TypeError('\"options.clientPrivateKey\" must be provided when \"client.token_endpoint_auth_method\" is \"private_key_jwt\"');\n            }\n            const { key, kid } = getKeyAndKid(clientPrivateKey);\n            if (!isPrivateKey(key)) {\n                throw new TypeError('\"options.clientPrivateKey.key\" must be a private CryptoKey');\n            }\n            body.set('client_id', client.client_id);\n            body.set('client_assertion_type', 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer');\n            body.set('client_assertion', await privateKeyJwt(as, client, key, kid));\n            break;\n        }\n        case 'tls_client_auth':\n        case 'self_signed_tls_client_auth':\n        case 'none': {\n            assertNoClientSecret(client.token_endpoint_auth_method, client.client_secret);\n            assertNoClientPrivateKey(client.token_endpoint_auth_method, clientPrivateKey);\n            body.set('client_id', client.client_id);\n            break;\n        }\n        default:\n            throw new UnsupportedOperationError('unsupported client token_endpoint_auth_method');\n    }\n}\nasync function jwt(header, claimsSet, key) {\n    if (!key.usages.includes('sign')) {\n        throw new TypeError('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"');\n    }\n    const input = `${b64u(buf(JSON.stringify(header)))}.${b64u(buf(JSON.stringify(claimsSet)))}`;\n    const signature = b64u(await crypto.subtle.sign(keyToSubtle(key), key, buf(input)));\n    return `${input}.${signature}`;\n}\nexport async function issueRequestObject(as, client, parameters, privateKey) {\n    assertAs(as);\n    assertClient(client);\n    parameters = new URLSearchParams(parameters);\n    const { key, kid } = getKeyAndKid(privateKey);\n    if (!isPrivateKey(key)) {\n        throw new TypeError('\"privateKey.key\" must be a private CryptoKey');\n    }\n    parameters.set('client_id', client.client_id);\n    const now = epochTime() + getClockSkew(client);\n    const claims = {\n        ...Object.fromEntries(parameters.entries()),\n        jti: randomBytes(),\n        aud: as.issuer,\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n    };\n    let resource;\n    if (parameters.has('resource') &&\n        (resource = parameters.getAll('resource')) &&\n        resource.length > 1) {\n        claims.resource = resource;\n    }\n    {\n        let value = parameters.get('max_age');\n        if (value !== null) {\n            claims.max_age = parseInt(value, 10);\n            if (!Number.isFinite(claims.max_age)) {\n                throw new OPE('\"max_age\" parameter must be a number');\n            }\n        }\n    }\n    {\n        let value = parameters.get('claims');\n        if (value !== null) {\n            try {\n                claims.claims = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"claims\" parameter as JSON', { cause });\n            }\n            if (!isJsonObject(claims.claims)) {\n                throw new OPE('\"claims\" parameter must be a JSON with a top level object');\n            }\n        }\n    }\n    {\n        let value = parameters.get('authorization_details');\n        if (value !== null) {\n            try {\n                claims.authorization_details = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"authorization_details\" parameter as JSON', { cause });\n            }\n            if (!Array.isArray(claims.authorization_details)) {\n                throw new OPE('\"authorization_details\" parameter must be a JSON with a top level array');\n            }\n        }\n    }\n    return jwt({\n        alg: keyToJws(key),\n        typ: 'oauth-authz-req+jwt',\n        kid,\n    }, claims, key);\n}\nasync function dpopProofJwt(headers, options, url, htm, clockSkew, accessToken) {\n    const { privateKey, publicKey, nonce = dpopNonces.get(url.origin) } = options;\n    if (!isPrivateKey(privateKey)) {\n        throw new TypeError('\"DPoP.privateKey\" must be a private CryptoKey');\n    }\n    if (!isPublicKey(publicKey)) {\n        throw new TypeError('\"DPoP.publicKey\" must be a public CryptoKey');\n    }\n    if (nonce !== undefined && !validateString(nonce)) {\n        throw new TypeError('\"DPoP.nonce\" must be a non-empty string or undefined');\n    }\n    if (!publicKey.extractable) {\n        throw new TypeError('\"DPoP.publicKey.extractable\" must be true');\n    }\n    const now = epochTime() + clockSkew;\n    const proof = await jwt({\n        alg: keyToJws(privateKey),\n        typ: 'dpop+jwt',\n        jwk: await publicJwk(publicKey),\n    }, {\n        iat: now,\n        jti: randomBytes(),\n        htm,\n        nonce,\n        htu: `${url.origin}${url.pathname}`,\n        ath: accessToken ? b64u(await crypto.subtle.digest('SHA-256', buf(accessToken))) : undefined,\n    }, privateKey);\n    headers.set('dpop', proof);\n}\nlet jwkCache;\nasync function getSetPublicJwkCache(key) {\n    const { kty, e, n, x, y, crv } = await crypto.subtle.exportKey('jwk', key);\n    const jwk = { kty, e, n, x, y, crv };\n    jwkCache.set(key, jwk);\n    return jwk;\n}\nasync function publicJwk(key) {\n    jwkCache || (jwkCache = new WeakMap());\n    return jwkCache.get(key) || getSetPublicJwkCache(key);\n}\nfunction validateEndpoint(value, endpoint, options) {\n    if (typeof value !== 'string') {\n        if (options?.[useMtlsAlias]) {\n            throw new TypeError(`\"as.mtls_endpoint_aliases.${endpoint}\" must be a string`);\n        }\n        throw new TypeError(`\"as.${endpoint}\" must be a string`);\n    }\n    return new URL(value);\n}\nfunction resolveEndpoint(as, endpoint, options) {\n    if (options?.[useMtlsAlias] && as.mtls_endpoint_aliases && endpoint in as.mtls_endpoint_aliases) {\n        return validateEndpoint(as.mtls_endpoint_aliases[endpoint], endpoint, options);\n    }\n    return validateEndpoint(as[endpoint], endpoint);\n}\nexport async function pushedAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'pushed_authorization_request_endpoint', options);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport function isOAuth2Error(input) {\n    const value = input;\n    if (typeof value !== 'object' || Array.isArray(value) || value === null) {\n        return false;\n    }\n    return value.error !== undefined;\n}\nfunction unquote(value) {\n    if (value.length >= 2 && value[0] === '\"' && value[value.length - 1] === '\"') {\n        return value.slice(1, -1);\n    }\n    return value;\n}\nconst SPLIT_REGEXP = /((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/;\nconst SCHEMES_REGEXP = /(?:^|, ?)([0-9a-zA-Z!#$%&'*+\\-.^_`|~]+)(?=$|[ ,])/g;\nfunction wwwAuth(scheme, params) {\n    const arr = params.split(SPLIT_REGEXP).slice(1);\n    if (!arr.length) {\n        return { scheme: scheme.toLowerCase(), parameters: {} };\n    }\n    arr[arr.length - 1] = arr[arr.length - 1].replace(/,$/, '');\n    const parameters = {};\n    for (let i = 1; i < arr.length; i += 2) {\n        const idx = i;\n        if (arr[idx][0] === '\"') {\n            while (arr[idx].slice(-1) !== '\"' && ++i < arr.length) {\n                arr[idx] += arr[i];\n            }\n        }\n        const key = arr[idx - 1].replace(/^(?:, ?)|=$/g, '').toLowerCase();\n        parameters[key] = unquote(arr[idx]);\n    }\n    return {\n        scheme: scheme.toLowerCase(),\n        parameters,\n    };\n}\nexport function parseWwwAuthenticateChallenges(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    const header = response.headers.get('www-authenticate');\n    if (header === null) {\n        return undefined;\n    }\n    const result = [];\n    for (const { 1: scheme, index } of header.matchAll(SCHEMES_REGEXP)) {\n        result.push([scheme, index]);\n    }\n    if (!result.length) {\n        return undefined;\n    }\n    const challenges = result.map(([scheme, indexOf], i, others) => {\n        const next = others[i + 1];\n        let parameters;\n        if (next) {\n            parameters = header.slice(indexOf, next[1]);\n        }\n        else {\n            parameters = header.slice(indexOf);\n        }\n        return wwwAuth(scheme, parameters);\n    });\n    return challenges;\n}\nexport async function processPushedAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 201) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Pushed Authorization Request Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.request_uri)) {\n        throw new OPE('\"response\" body \"request_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    return json;\n}\nexport async function protectedResourceRequest(accessToken, method, url, headers, body, options) {\n    if (!validateString(accessToken)) {\n        throw new TypeError('\"accessToken\" must be a non-empty string');\n    }\n    if (!(url instanceof URL)) {\n        throw new TypeError('\"url\" must be an instance of URL');\n    }\n    headers = prepareHeaders(headers);\n    if (options?.DPoP === undefined) {\n        headers.set('authorization', `Bearer ${accessToken}`);\n    }\n    else {\n        await dpopProofJwt(headers, options.DPoP, url, 'GET', getClockSkew({ [clockSkew]: options?.[clockSkew] }), accessToken);\n        headers.set('authorization', `DPoP ${accessToken}`);\n    }\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nexport async function userInfoRequest(as, client, accessToken, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'userinfo_endpoint', options);\n    const headers = prepareHeaders(options?.headers);\n    if (client.userinfo_signed_response_alg) {\n        headers.set('accept', 'application/jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n        headers.append('accept', 'application/jwt');\n    }\n    return protectedResourceRequest(accessToken, 'GET', url, headers, null, {\n        ...options,\n        [clockSkew]: getClockSkew(client),\n    });\n}\nlet jwksCache;\nasync function getPublicSigKeyFromIssuerJwksUri(as, options, header) {\n    const { alg, kid } = header;\n    checkSupportedJwsAlg(alg);\n    let jwks;\n    let age;\n    jwksCache || (jwksCache = new WeakMap());\n    if (jwksCache.has(as)) {\n        ;\n        ({ jwks, age } = jwksCache.get(as));\n        if (age >= 300) {\n            jwksCache.delete(as);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n    }\n    else {\n        jwks = await jwksRequest(as, options).then(processJwksResponse);\n        age = 0;\n        jwksCache.set(as, {\n            jwks,\n            iat: epochTime(),\n            get age() {\n                return epochTime() - this.iat;\n            },\n        });\n    }\n    let kty;\n    switch (alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            kty = 'RSA';\n            break;\n        case 'ES':\n            kty = 'EC';\n            break;\n        case 'Ed':\n            kty = 'OKP';\n            break;\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const candidates = jwks.keys.filter((jwk) => {\n        if (jwk.kty !== kty) {\n            return false;\n        }\n        if (kid !== undefined && kid !== jwk.kid) {\n            return false;\n        }\n        if (jwk.alg !== undefined && alg !== jwk.alg) {\n            return false;\n        }\n        if (jwk.use !== undefined && jwk.use !== 'sig') {\n            return false;\n        }\n        if (jwk.key_ops?.includes('verify') === false) {\n            return false;\n        }\n        switch (true) {\n            case alg === 'ES256' && jwk.crv !== 'P-256':\n            case alg === 'ES384' && jwk.crv !== 'P-384':\n            case alg === 'ES512' && jwk.crv !== 'P-521':\n            case alg === 'EdDSA' && !(jwk.crv === 'Ed25519' || jwk.crv === 'Ed448'):\n                return false;\n        }\n        return true;\n    });\n    const { 0: jwk, length } = candidates;\n    if (!length) {\n        if (age >= 60) {\n            jwksCache.delete(as);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n        throw new OPE('error when selecting a JWT verification key, no applicable keys found');\n    }\n    if (length !== 1) {\n        throw new OPE('error when selecting a JWT verification key, multiple applicable keys found, a \"kid\" JWT Header Parameter is required');\n    }\n    const key = await importJwk(alg, jwk);\n    if (key.type !== 'public') {\n        throw new OPE('jwks_uri must only contain public keys');\n    }\n    return key;\n}\nexport const skipSubjectCheck = Symbol();\nfunction getContentType(response) {\n    return response.headers.get('content-type')?.split(';')[0];\n}\nexport async function processUserInfoResponse(as, client, expectedSubject, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform UserInfo Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/jwt') {\n        assertReadableResponse(response);\n        const { claims } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.userinfo_signed_response_alg, as.userinfo_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n            .then(validateOptionalAudience.bind(undefined, client.client_id))\n            .then(validateOptionalIssuer.bind(undefined, as.issuer));\n        json = claims;\n    }\n    else {\n        if (client.userinfo_signed_response_alg) {\n            throw new OPE('JWT UserInfo Response expected');\n        }\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.sub)) {\n        throw new OPE('\"response\" body \"sub\" property must be a non-empty string');\n    }\n    switch (expectedSubject) {\n        case skipSubjectCheck:\n            break;\n        default:\n            if (!validateString(expectedSubject)) {\n                throw new OPE('\"expectedSubject\" must be a non-empty string');\n            }\n            if (json.sub !== expectedSubject) {\n                throw new OPE('unexpected \"response\" body \"sub\" value');\n            }\n    }\n    return json;\n}\nasync function authenticatedRequest(as, client, method, url, body, headers, options) {\n    await clientAuthentication(as, client, body, headers, options?.clientPrivateKey);\n    headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function tokenEndpointRequest(as, client, grantType, parameters, options) {\n    const url = resolveEndpoint(as, 'token_endpoint', options);\n    parameters.set('grant_type', grantType);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, parameters, headers, options);\n}\nexport async function refreshTokenGrantRequest(as, client, refreshToken, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(refreshToken)) {\n        throw new TypeError('\"refreshToken\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('refresh_token', refreshToken);\n    return tokenEndpointRequest(as, client, 'refresh_token', parameters, options);\n}\nconst idTokenClaims = new WeakMap();\nexport function getValidatedIdTokenClaims(ref) {\n    if (!ref.id_token) {\n        return undefined;\n    }\n    const claims = idTokenClaims.get(ref);\n    if (!claims) {\n        throw new TypeError('\"ref\" was already garbage collected or did not resolve from the proper sources');\n    }\n    return claims;\n}\nasync function processGenericAccessTokenResponse(as, client, response, ignoreIdToken = false, ignoreRefreshToken = false) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Token Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.access_token)) {\n        throw new OPE('\"response\" body \"access_token\" property must be a non-empty string');\n    }\n    if (!validateString(json.token_type)) {\n        throw new OPE('\"response\" body \"token_type\" property must be a non-empty string');\n    }\n    json.token_type = json.token_type.toLowerCase();\n    if (json.token_type !== 'dpop' && json.token_type !== 'bearer') {\n        throw new UnsupportedOperationError('unsupported `token_type` value');\n    }\n    if (json.expires_in !== undefined &&\n        (typeof json.expires_in !== 'number' || json.expires_in <= 0)) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (!ignoreRefreshToken &&\n        json.refresh_token !== undefined &&\n        !validateString(json.refresh_token)) {\n        throw new OPE('\"response\" body \"refresh_token\" property must be a non-empty string');\n    }\n    if (json.scope !== undefined && typeof json.scope !== 'string') {\n        throw new OPE('\"response\" body \"scope\" property must be a string');\n    }\n    if (!ignoreIdToken) {\n        if (json.id_token !== undefined && !validateString(json.id_token)) {\n            throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n        }\n        if (json.id_token) {\n            const { claims } = await validateJwt(json.id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n                .then(validatePresence.bind(undefined, ['aud', 'exp', 'iat', 'iss', 'sub']))\n                .then(validateIssuer.bind(undefined, as.issuer))\n                .then(validateAudience.bind(undefined, client.client_id));\n            if (Array.isArray(claims.aud) && claims.aud.length !== 1 && claims.azp !== client.client_id) {\n                throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n            }\n            if (client.require_auth_time && typeof claims.auth_time !== 'number') {\n                throw new OPE('unexpected ID Token \"auth_time\" (authentication time) claim value');\n            }\n            idTokenClaims.set(json, claims);\n        }\n    }\n    return json;\n}\nexport async function processRefreshTokenResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nfunction validateOptionalAudience(expected, result) {\n    if (result.claims.aud !== undefined) {\n        return validateAudience(expected, result);\n    }\n    return result;\n}\nfunction validateAudience(expected, result) {\n    if (Array.isArray(result.claims.aud)) {\n        if (!result.claims.aud.includes(expected)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n        }\n    }\n    else if (result.claims.aud !== expected) {\n        throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n    }\n    return result;\n}\nfunction validateOptionalIssuer(expected, result) {\n    if (result.claims.iss !== undefined) {\n        return validateIssuer(expected, result);\n    }\n    return result;\n}\nfunction validateIssuer(expected, result) {\n    if (result.claims.iss !== expected) {\n        throw new OPE('unexpected JWT \"iss\" (issuer) claim value');\n    }\n    return result;\n}\nconst branded = new WeakSet();\nfunction brand(searchParams) {\n    branded.add(searchParams);\n    return searchParams;\n}\nexport async function authorizationCodeGrantRequest(as, client, callbackParameters, redirectUri, codeVerifier, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!branded.has(callbackParameters)) {\n        throw new TypeError('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()');\n    }\n    if (!validateString(redirectUri)) {\n        throw new TypeError('\"redirectUri\" must be a non-empty string');\n    }\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    const code = getURLSearchParameter(callbackParameters, 'code');\n    if (!code) {\n        throw new OPE('no authorization code in \"callbackParameters\"');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('redirect_uri', redirectUri);\n    parameters.set('code_verifier', codeVerifier);\n    parameters.set('code', code);\n    return tokenEndpointRequest(as, client, 'authorization_code', parameters, options);\n}\nconst jwtClaimNames = {\n    aud: 'audience',\n    c_hash: 'code hash',\n    client_id: 'client id',\n    exp: 'expiration time',\n    iat: 'issued at',\n    iss: 'issuer',\n    jti: 'jwt id',\n    nonce: 'nonce',\n    s_hash: 'state hash',\n    sub: 'subject',\n    ath: 'access token hash',\n    htm: 'http method',\n    htu: 'http uri',\n    cnf: 'confirmation',\n};\nfunction validatePresence(required, result) {\n    for (const claim of required) {\n        if (result.claims[claim] === undefined) {\n            throw new OPE(`JWT \"${claim}\" (${jwtClaimNames[claim]}) claim missing`);\n        }\n    }\n    return result;\n}\nexport const expectNoNonce = Symbol();\nexport const skipAuthTimeCheck = Symbol();\nexport async function processAuthorizationCodeOpenIDResponse(as, client, response, expectedNonce, maxAge) {\n    const result = await processGenericAccessTokenResponse(as, client, response);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!validateString(result.id_token)) {\n        throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    const claims = getValidatedIdTokenClaims(result);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"options.max_age\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    switch (expectedNonce) {\n        case undefined:\n        case expectNoNonce:\n            if (claims.nonce !== undefined) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n            break;\n        default:\n            if (!validateString(expectedNonce)) {\n                throw new TypeError('\"expectedNonce\" must be a non-empty string');\n            }\n            if (claims.nonce === undefined) {\n                throw new OPE('ID Token \"nonce\" claim missing');\n            }\n            if (claims.nonce !== expectedNonce) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n    }\n    return result;\n}\nexport async function processAuthorizationCodeOAuth2Response(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (result.id_token !== undefined) {\n        if (typeof result.id_token === 'string' && result.id_token.length) {\n            throw new OPE('Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing');\n        }\n        delete result.id_token;\n    }\n    return result;\n}\nfunction checkJwtType(expected, result) {\n    if (typeof result.header.typ !== 'string' || normalizeTyp(result.header.typ) !== expected) {\n        throw new OPE('unexpected JWT \"typ\" header parameter value');\n    }\n    return result;\n}\nexport async function clientCredentialsGrantRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    return tokenEndpointRequest(as, client, 'client_credentials', new URLSearchParams(parameters), options);\n}\nexport async function processClientCredentialsResponse(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    return result;\n}\nexport async function revocationRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'revocation_endpoint', options);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    headers.delete('accept');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processRevocationResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Revocation Endpoint response');\n    }\n    return undefined;\n}\nfunction assertReadableResponse(response) {\n    if (response.bodyUsed) {\n        throw new TypeError('\"response\" body has been used already');\n    }\n}\nexport async function introspectionRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'introspection_endpoint', options);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    if (options?.requestJwtResponse ?? client.introspection_signed_response_alg) {\n        headers.set('accept', 'application/token-introspection+jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processIntrospectionResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Introspection Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/token-introspection+jwt') {\n        assertReadableResponse(response);\n        const { claims } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.introspection_signed_response_alg, as.introspection_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n            .then(checkJwtType.bind(undefined, 'token-introspection+jwt'))\n            .then(validatePresence.bind(undefined, ['aud', 'iat', 'iss']))\n            .then(validateIssuer.bind(undefined, as.issuer))\n            .then(validateAudience.bind(undefined, client.client_id));\n        json = claims.token_introspection;\n        if (!isJsonObject(json)) {\n            throw new OPE('JWT \"token_introspection\" claim must be a JSON object');\n        }\n    }\n    else {\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n        if (!isJsonObject(json)) {\n            throw new OPE('\"response\" body must be a top level object');\n        }\n    }\n    if (typeof json.active !== 'boolean') {\n        throw new OPE('\"response\" body \"active\" property must be a boolean');\n    }\n    return json;\n}\nasync function jwksRequest(as, options) {\n    assertAs(as);\n    const url = resolveEndpoint(as, 'jwks_uri');\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    headers.append('accept', 'application/jwk-set+json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function processJwksResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform JSON Web Key Set response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!Array.isArray(json.keys)) {\n        throw new OPE('\"response\" body \"keys\" property must be an array');\n    }\n    if (!Array.prototype.every.call(json.keys, isJsonObject)) {\n        throw new OPE('\"response\" body \"keys\" property members must be JWK formatted objects');\n    }\n    return json;\n}\nasync function handleOAuthBodyError(response) {\n    if (response.status > 399 && response.status < 500) {\n        assertReadableResponse(response);\n        try {\n            const json = await response.json();\n            if (isJsonObject(json) && typeof json.error === 'string' && json.error.length) {\n                if (json.error_description !== undefined && typeof json.error_description !== 'string') {\n                    delete json.error_description;\n                }\n                if (json.error_uri !== undefined && typeof json.error_uri !== 'string') {\n                    delete json.error_uri;\n                }\n                if (json.algs !== undefined && typeof json.algs !== 'string') {\n                    delete json.algs;\n                }\n                if (json.scope !== undefined && typeof json.scope !== 'string') {\n                    delete json.scope;\n                }\n                return json;\n            }\n        }\n        catch { }\n    }\n    return undefined;\n}\nfunction checkSupportedJwsAlg(alg) {\n    if (!SUPPORTED_JWS_ALGS.includes(alg)) {\n        throw new UnsupportedOperationError('unsupported JWS \"alg\" identifier');\n    }\n    return alg;\n}\nfunction checkRsaKeyAlgorithm(algorithm) {\n    if (typeof algorithm.modulusLength !== 'number' || algorithm.modulusLength < 2048) {\n        throw new OPE(`${algorithm.name} modulusLength must be at least 2048 bits`);\n    }\n}\nfunction ecdsaHashName(namedCurve) {\n    switch (namedCurve) {\n        case 'P-256':\n            return 'SHA-256';\n        case 'P-384':\n            return 'SHA-384';\n        case 'P-521':\n            return 'SHA-512';\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nfunction keyToSubtle(key) {\n    switch (key.algorithm.name) {\n        case 'ECDSA':\n            return {\n                name: key.algorithm.name,\n                hash: ecdsaHashName(key.algorithm.namedCurve),\n            };\n        case 'RSA-PSS': {\n            checkRsaKeyAlgorithm(key.algorithm);\n            switch (key.algorithm.hash.name) {\n                case 'SHA-256':\n                case 'SHA-384':\n                case 'SHA-512':\n                    return {\n                        name: key.algorithm.name,\n                        saltLength: parseInt(key.algorithm.hash.name.slice(-3), 10) >> 3,\n                    };\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        case 'RSASSA-PKCS1-v1_5':\n            checkRsaKeyAlgorithm(key.algorithm);\n            return key.algorithm.name;\n        case 'Ed448':\n        case 'Ed25519':\n            return key.algorithm.name;\n    }\n    throw new UnsupportedOperationError();\n}\nconst noSignatureCheck = Symbol();\nasync function validateJwt(jws, checkAlg, getKey, clockSkew, clockTolerance) {\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature, length } = jws.split('.');\n    if (length === 5) {\n        throw new UnsupportedOperationError('JWE structure JWTs are not supported');\n    }\n    if (length !== 3) {\n        throw new OPE('Invalid JWT');\n    }\n    let header;\n    try {\n        header = JSON.parse(buf(b64u(protectedHeader)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Header body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(header)) {\n        throw new OPE('JWT Header must be a top level object');\n    }\n    checkAlg(header);\n    if (header.crit !== undefined) {\n        throw new OPE('unexpected JWT \"crit\" header parameter');\n    }\n    const signature = b64u(encodedSignature);\n    let key;\n    if (getKey !== noSignatureCheck) {\n        key = await getKey(header);\n        const input = `${protectedHeader}.${payload}`;\n        const verified = await crypto.subtle.verify(keyToSubtle(key), key, signature, buf(input));\n        if (!verified) {\n            throw new OPE('JWT signature verification failed');\n        }\n    }\n    let claims;\n    try {\n        claims = JSON.parse(buf(b64u(payload)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Payload body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(claims)) {\n        throw new OPE('JWT Payload must be a top level object');\n    }\n    const now = epochTime() + clockSkew;\n    if (claims.exp !== undefined) {\n        if (typeof claims.exp !== 'number') {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim type');\n        }\n        if (claims.exp <= now - clockTolerance) {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim value, timestamp is <= now()');\n        }\n    }\n    if (claims.iat !== undefined) {\n        if (typeof claims.iat !== 'number') {\n            throw new OPE('unexpected JWT \"iat\" (issued at) claim type');\n        }\n    }\n    if (claims.iss !== undefined) {\n        if (typeof claims.iss !== 'string') {\n            throw new OPE('unexpected JWT \"iss\" (issuer) claim type');\n        }\n    }\n    if (claims.nbf !== undefined) {\n        if (typeof claims.nbf !== 'number') {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim type');\n        }\n        if (claims.nbf > now + clockTolerance) {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim value, timestamp is > now()');\n        }\n    }\n    if (claims.aud !== undefined) {\n        if (typeof claims.aud !== 'string' && !Array.isArray(claims.aud)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim type');\n        }\n    }\n    return { header, claims, signature, key };\n}\nexport async function validateJwtAuthResponse(as, client, parameters, expectedState, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    const response = getURLSearchParameter(parameters, 'response');\n    if (!response) {\n        throw new OPE('\"parameters\" does not contain a JARM response');\n    }\n    if (typeof as.jwks_uri !== 'string') {\n        throw new TypeError('\"as.jwks_uri\" must be a string');\n    }\n    const { claims } = await validateJwt(response, checkSigningAlgorithm.bind(undefined, client.authorization_signed_response_alg, as.authorization_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client))\n        .then(validatePresence.bind(undefined, ['aud', 'exp', 'iss']))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const result = new URLSearchParams();\n    for (const [key, value] of Object.entries(claims)) {\n        if (typeof value === 'string' && key !== 'aud') {\n            result.set(key, value);\n        }\n    }\n    return validateAuthResponse(as, client, result, expectedState);\n}\nasync function idTokenHash(alg, data, key) {\n    let algorithm;\n    switch (alg) {\n        case 'RS256':\n        case 'PS256':\n        case 'ES256':\n            algorithm = 'SHA-256';\n            break;\n        case 'RS384':\n        case 'PS384':\n        case 'ES384':\n            algorithm = 'SHA-384';\n            break;\n        case 'RS512':\n        case 'PS512':\n        case 'ES512':\n            algorithm = 'SHA-512';\n            break;\n        case 'EdDSA':\n            if (key.algorithm.name === 'Ed25519') {\n                algorithm = 'SHA-512';\n                break;\n            }\n            throw new UnsupportedOperationError();\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const digest = await crypto.subtle.digest(algorithm, buf(data));\n    return b64u(digest.slice(0, digest.byteLength / 2));\n}\nasync function idTokenHashMatches(data, actual, alg, key) {\n    const expected = await idTokenHash(alg, data, key);\n    return actual === expected;\n}\nexport async function validateDetachedSignatureResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        if (!parameters.hash.length) {\n            throw new TypeError('\"parameters\" as an instance of URL must contain a hash (fragment) with the Authorization Response parameters');\n        }\n        parameters = new URLSearchParams(parameters.hash.slice(1));\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams');\n    }\n    parameters = new URLSearchParams(parameters);\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    parameters.delete('id_token');\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new TypeError('\"expectedState\" must be a non-empty string');\n            }\n    }\n    const result = validateAuthResponse({\n        ...as,\n        authorization_response_iss_parameter_supported: false,\n    }, client, parameters, expectedState);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!id_token) {\n        throw new OPE('\"parameters\" does not contain an ID Token');\n    }\n    const code = getURLSearchParameter(parameters, 'code');\n    if (!code) {\n        throw new OPE('\"parameters\" does not contain an Authorization Code');\n    }\n    if (typeof as.jwks_uri !== 'string') {\n        throw new TypeError('\"as.jwks_uri\" must be a string');\n    }\n    const requiredClaims = [\n        'aud',\n        'exp',\n        'iat',\n        'iss',\n        'sub',\n        'nonce',\n        'c_hash',\n    ];\n    if (typeof expectedState === 'string') {\n        requiredClaims.push('s_hash');\n    }\n    const { claims, header, key } = await validateJwt(id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client))\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const clockSkew = getClockSkew(client);\n    const now = epochTime() + clockSkew;\n    if (claims.iat < now - 3600) {\n        throw new OPE('unexpected JWT \"iat\" (issued at) claim value, it is too far in the past');\n    }\n    if (typeof claims.c_hash !== 'string' ||\n        (await idTokenHashMatches(code, claims.c_hash, header.alg, key)) !== true) {\n        throw new OPE('invalid ID Token \"c_hash\" (code hash) claim value');\n    }\n    if (claims.s_hash !== undefined && typeof expectedState !== 'string') {\n        throw new OPE('could not verify ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (typeof expectedState === 'string' &&\n        (typeof claims.s_hash !== 'string' ||\n            (await idTokenHashMatches(expectedState, claims.s_hash, header.alg, key)) !== true)) {\n        throw new OPE('invalid ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (client.require_auth_time !== undefined && typeof claims.auth_time !== 'number') {\n        throw new OPE('unexpected ID Token \"auth_time\" (authentication time) claim value');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"options.max_age\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    if (!validateString(expectedNonce)) {\n        throw new TypeError('\"expectedNonce\" must be a non-empty string');\n    }\n    if (claims.nonce !== expectedNonce) {\n        throw new OPE('unexpected ID Token \"nonce\" claim value');\n    }\n    if (Array.isArray(claims.aud) && claims.aud.length !== 1 && claims.azp !== client.client_id) {\n        throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n    }\n    return result;\n}\nfunction checkSigningAlgorithm(client, issuer, header) {\n    if (client !== undefined) {\n        if (header.alg !== client) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (Array.isArray(issuer)) {\n        if (!issuer.includes(header.alg)) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (header.alg !== 'RS256') {\n        throw new OPE('unexpected JWT \"alg\" header parameter');\n    }\n}\nfunction getURLSearchParameter(parameters, name) {\n    const { 0: value, length } = parameters.getAll(name);\n    if (length > 1) {\n        throw new OPE(`\"${name}\" parameter must be provided only once`);\n    }\n    return value;\n}\nexport const skipStateCheck = Symbol();\nexport const expectNoState = Symbol();\nexport function validateAuthResponse(as, client, parameters, expectedState) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    if (getURLSearchParameter(parameters, 'response')) {\n        throw new OPE('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');\n    }\n    const iss = getURLSearchParameter(parameters, 'iss');\n    const state = getURLSearchParameter(parameters, 'state');\n    if (!iss && as.authorization_response_iss_parameter_supported) {\n        throw new OPE('response parameter \"iss\" (issuer) missing');\n    }\n    if (iss && iss !== as.issuer) {\n        throw new OPE('unexpected \"iss\" (issuer) response parameter value');\n    }\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            if (state !== undefined) {\n                throw new OPE('unexpected \"state\" response parameter encountered');\n            }\n            break;\n        case skipStateCheck:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new OPE('\"expectedState\" must be a non-empty string');\n            }\n            if (state === undefined) {\n                throw new OPE('response parameter \"state\" missing');\n            }\n            if (state !== expectedState) {\n                throw new OPE('unexpected \"state\" response parameter value');\n            }\n    }\n    const error = getURLSearchParameter(parameters, 'error');\n    if (error) {\n        return {\n            error,\n            error_description: getURLSearchParameter(parameters, 'error_description'),\n            error_uri: getURLSearchParameter(parameters, 'error_uri'),\n        };\n    }\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    const token = getURLSearchParameter(parameters, 'token');\n    if (id_token !== undefined || token !== undefined) {\n        throw new UnsupportedOperationError('implicit and hybrid flows are not supported');\n    }\n    return brand(new URLSearchParams(parameters));\n}\nfunction algToSubtle(alg, crv) {\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n        case 'ES256':\n        case 'ES384':\n            return { name: 'ECDSA', namedCurve: `P-${alg.slice(-3)}` };\n        case 'ES512':\n            return { name: 'ECDSA', namedCurve: 'P-521' };\n        case 'EdDSA': {\n            switch (crv) {\n                case 'Ed25519':\n                case 'Ed448':\n                    return crv;\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nasync function importJwk(alg, jwk) {\n    const { ext, key_ops, use, ...key } = jwk;\n    return crypto.subtle.importKey('jwk', key, algToSubtle(alg, jwk.crv), true, ['verify']);\n}\nexport async function deviceAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'device_authorization_endpoint', options);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processDeviceAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Device Authorization Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.device_code)) {\n        throw new OPE('\"response\" body \"device_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.user_code)) {\n        throw new OPE('\"response\" body \"user_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.verification_uri)) {\n        throw new OPE('\"response\" body \"verification_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (json.verification_uri_complete !== undefined &&\n        !validateString(json.verification_uri_complete)) {\n        throw new OPE('\"response\" body \"verification_uri_complete\" property must be a non-empty string');\n    }\n    if (json.interval !== undefined && (typeof json.interval !== 'number' || json.interval <= 0)) {\n        throw new OPE('\"response\" body \"interval\" property must be a positive number');\n    }\n    return json;\n}\nexport async function deviceCodeGrantRequest(as, client, deviceCode, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(deviceCode)) {\n        throw new TypeError('\"deviceCode\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('device_code', deviceCode);\n    return tokenEndpointRequest(as, client, 'urn:ietf:params:oauth:grant-type:device_code', parameters, options);\n}\nexport async function processDeviceCodeResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nexport async function generateKeyPair(alg, options) {\n    if (!validateString(alg)) {\n        throw new TypeError('\"alg\" must be a non-empty string');\n    }\n    const algorithm = algToSubtle(alg, alg === 'EdDSA' ? options?.crv ?? 'Ed25519' : undefined);\n    if (alg.startsWith('PS') || alg.startsWith('RS')) {\n        Object.assign(algorithm, {\n            modulusLength: options?.modulusLength ?? 2048,\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        });\n    }\n    return (crypto.subtle.generateKey(algorithm, options?.extractable ?? false, ['sign', 'verify']));\n}\nfunction normalizeHtu(htu) {\n    const url = new URL(htu);\n    url.search = '';\n    url.hash = '';\n    return url.href;\n}\nasync function validateDPoP(as, request, accessToken, accessTokenClaims, options) {\n    const header = request.headers.get('dpop');\n    if (header === null) {\n        throw new OPE('operation indicated DPoP use but the request has no DPoP HTTP Header');\n    }\n    if (request.headers.get('authorization')?.toLowerCase().startsWith('dpop ') === false) {\n        throw new OPE(`operation indicated DPoP use but the request's Authorization HTTP Header scheme is not DPoP`);\n    }\n    if (typeof accessTokenClaims.cnf?.jkt !== 'string') {\n        throw new OPE('operation indicated DPoP use but the JWT Access Token has no jkt confirmation claim');\n    }\n    const clockSkew = getClockSkew(options);\n    const proof = await validateJwt(header, checkSigningAlgorithm.bind(undefined, undefined, as?.dpop_signing_alg_values_supported || SUPPORTED_JWS_ALGS), async ({ jwk, alg }) => {\n        if (!jwk) {\n            throw new OPE('DPoP Proof is missing the jwk header parameter');\n        }\n        const key = await importJwk(alg, jwk);\n        if (key.type !== 'public') {\n            throw new OPE('DPoP Proof jwk header parameter must contain a public key');\n        }\n        return key;\n    }, clockSkew, getClockTolerance(options))\n        .then(checkJwtType.bind(undefined, 'dpop+jwt'))\n        .then(validatePresence.bind(undefined, ['iat', 'jti', 'ath', 'htm', 'htu']));\n    const now = epochTime() + clockSkew;\n    const diff = Math.abs(now - proof.claims.iat);\n    if (diff > 300) {\n        throw new OPE('DPoP Proof iat is not recent enough');\n    }\n    if (proof.claims.htm !== request.method) {\n        throw new OPE('DPoP Proof htm mismatch');\n    }\n    if (typeof proof.claims.htu !== 'string' ||\n        normalizeHtu(proof.claims.htu) !== normalizeHtu(request.url)) {\n        throw new OPE('DPoP Proof htu mismatch');\n    }\n    {\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(accessToken)));\n        if (proof.claims.ath !== expected) {\n            throw new OPE('DPoP Proof ath mismatch');\n        }\n    }\n    {\n        let components;\n        switch (proof.header.jwk.kty) {\n            case 'EC':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                    y: proof.header.jwk.y,\n                };\n                break;\n            case 'OKP':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                };\n                break;\n            case 'RSA':\n                components = {\n                    e: proof.header.jwk.e,\n                    kty: proof.header.jwk.kty,\n                    n: proof.header.jwk.n,\n                };\n                break;\n            default:\n                throw new UnsupportedOperationError();\n        }\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(JSON.stringify(components))));\n        if (accessTokenClaims.cnf.jkt !== expected) {\n            throw new OPE('JWT Access Token confirmation mismatch');\n        }\n    }\n}\nexport async function validateJwtAccessToken(as, request, expectedAudience, options) {\n    assertAs(as);\n    if (!looseInstanceOf(request, Request)) {\n        throw new TypeError('\"request\" must be an instance of Request');\n    }\n    if (!validateString(expectedAudience)) {\n        throw new OPE('\"expectedAudience\" must be a non-empty string');\n    }\n    const authorization = request.headers.get('authorization');\n    if (authorization === null) {\n        throw new OPE('\"request\" is missing an Authorization HTTP Header');\n    }\n    let { 0: scheme, 1: accessToken, length } = authorization.split(' ');\n    scheme = scheme.toLowerCase();\n    switch (scheme) {\n        case 'dpop':\n        case 'bearer':\n            break;\n        default:\n            throw new UnsupportedOperationError('unsupported Authorization HTTP Header scheme');\n    }\n    if (length !== 2) {\n        throw new OPE('invalid Authorization HTTP Header format');\n    }\n    const requiredClaims = [\n        'iss',\n        'exp',\n        'aud',\n        'sub',\n        'iat',\n        'jti',\n        'client_id',\n    ];\n    if (options?.requireDPoP || scheme === 'dpop' || request.headers.has('dpop')) {\n        requiredClaims.push('cnf');\n    }\n    const { claims } = await validateJwt(accessToken, checkSigningAlgorithm.bind(undefined, undefined, SUPPORTED_JWS_ALGS), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(options), getClockTolerance(options))\n        .then(checkJwtType.bind(undefined, 'at+jwt'))\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, expectedAudience));\n    for (const claim of ['client_id', 'jti', 'sub']) {\n        if (typeof claims[claim] !== 'string') {\n            throw new OPE(`unexpected JWT \"${claim}\" claim type`);\n        }\n    }\n    if ('cnf' in claims) {\n        if (!isJsonObject(claims.cnf)) {\n            throw new OPE('unexpected JWT \"cnf\" (confirmation) claim value');\n        }\n        const { 0: cnf, length } = Object.keys(claims.cnf);\n        if (length) {\n            if (length !== 1) {\n                throw new UnsupportedOperationError('multiple confirmation claims are not supported');\n            }\n            if (cnf !== 'jkt') {\n                throw new UnsupportedOperationError('unsupported JWT Confirmation method');\n            }\n        }\n    }\n    if (options?.requireDPoP ||\n        scheme === 'dpop' ||\n        claims.cnf?.jkt !== undefined ||\n        request.headers.has('dpop')) {\n        await validateDPoP(as, request, accessToken, claims, options);\n    }\n    return claims;\n}\nexport const experimentalCustomFetch = customFetch;\nexport const experimental_customFetch = customFetch;\nexport const experimentalUseMtlsAlias = useMtlsAlias;\nexport const experimental_useMtlsAlias = useMtlsAlias;\nexport const experimental_validateDetachedSignatureResponse = validateDetachedSignatureResponse;\nexport const experimental_validateJwtAccessToken = validateJwtAccessToken;\n","import { generateRandomCodeVerifier, generateRandomState, calculatePKCECodeChallenge } from \"oauth4webapi\";\nimport Cookies from \"js-cookie\";\nimport { cookies as rscCookies } from '@stackframe/stack-sc/force-server';\n\ntype SetCookieOptions = { maxAge?: number };\n\nfunction isRscCookieUnavailableError(e: any) {\n  const allowedMessageSnippets = [\"was called outside a request scope\", \"cookies() expects to have requestAsyncStorage\"];\n  return typeof e?.message === \"string\" && allowedMessageSnippets.some(msg => e.message.includes(msg));\n}\n\nexport function getCookie(name: string): string | null {\n  try {\n    return rscCookies().get(name)?.value ?? null;\n  } catch (e: any) {\n    if (isRscCookieUnavailableError(e)) {\n      return Cookies.get(name) ?? null;\n    } else {\n      throw e;\n    }\n  }\n}\n\nexport function setOrDeleteCookie(name: string, value: string | null, options: SetCookieOptions = {}) {\n  if (value === null) {\n    deleteCookie(name);\n  } else {\n    setCookie(name, value, options);\n  }\n}\n\nexport function deleteCookie(name: string) {\n  try {\n    rscCookies().delete(name);\n  } catch (e: any) {\n    if (isRscCookieUnavailableError(e)) {\n      Cookies.remove(name);\n    } else {\n      throw e;\n    }\n  }\n}\n\nexport function setCookie(name: string, value: string, options: SetCookieOptions = {}) {\n  try {\n    rscCookies().set(name, value, {\n      maxAge: options.maxAge,\n    });\n  } catch (e: any) {\n    if (isRscCookieUnavailableError(e)) {\n      Cookies.set(name, value, {\n        secure: window.location.protocol === \"https:\",\n        expires: options.maxAge === undefined ? undefined : new Date(Date.now() + (options.maxAge) * 1000),\n      });\n    } else {\n      throw e;\n    }\n  }\n}\n\nexport async function saveVerifierAndState() {\n  const codeVerifier = generateRandomCodeVerifier();\n  const codeChallenge = await calculatePKCECodeChallenge(codeVerifier);\n  const state = generateRandomState();\n\n  setCookie(\"stack-code-verifier\", codeVerifier, { maxAge: 60 * 10 });\n  setCookie(\"stack-state\", state, { maxAge: 60 * 10 });\n\n  return {\n    codeChallenge,\n    state,\n  };\n}\n\nexport function getVerifierAndState() {\n  const codeVerifier = getCookie(\"stack-code-verifier\");\n  const state = getCookie(\"stack-state\");\n  return {\n    codeVerifier,\n    state,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7361, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/react.js"],"sourcesContent":["import { use } from \"react\";\nimport { neverResolve } from \"./promises\";\nimport { deindent } from \"./strings\";\nexport function getNodeText(node) {\n    if ([\"number\", \"string\"].includes(typeof node)) {\n        return `${node}`;\n    }\n    if (!node) {\n        return \"\";\n    }\n    if (Array.isArray(node)) {\n        return node.map(getNodeText).join(\"\");\n    }\n    if (typeof node === \"object\" && \"props\" in node) {\n        return getNodeText(node.props.children);\n    }\n    throw new Error(`Unknown node type: ${typeof node}`);\n}\n/**\n * Suspends the currently rendered component indefinitely. Will not unsuspend unless the component rerenders.\n *\n * You can use this to translate older query- or AsyncResult-based code to new the Suspense system, for example: `if (query.isLoading) suspend();`\n */\nexport function suspend() {\n    use(neverResolve());\n    throw new Error(\"Somehow a Promise that never resolves was resolved?\");\n}\n/**\n * Use this in a component or a hook to disable SSR. Should be wrapped in a Suspense boundary, or it will throw an error.\n */\nexport function suspendIfSsr(caller) {\n    if (typeof window === \"undefined\") {\n        const error = Object.assign(new Error(deindent `\n        ${caller ?? \"This code path\"} attempted to display a loading indicator during SSR by falling back to the nearest Suspense boundary. If you see this error, it means no Suspense boundary was found, and no loading indicator could be displayed. Make sure you are not catching this error with try-catch, and that the component is rendered inside a Suspense boundary, for example by adding a \\`loading.tsx\\` file in your app directory.\n\n        See: https://nextjs.org/docs/messages/missing-suspense-with-csr-bailout\n\n        More information on SSR and Suspense boundaries: https://react.dev/reference/react/Suspense#providing-a-fallback-for-server-errors-and-client-only-content\n      `), {\n            // set the digest so nextjs doesn't log the error\n            // https://github.com/vercel/next.js/blob/d01d6d9c35a8c2725b3d74c1402ab76d4779a6cf/packages/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts#L14\n            digest: \"BAILOUT_TO_CLIENT_SIDE_RENDERING\",\n            reason: caller ?? \"suspendIfSsr()\",\n        });\n        throw error;\n    }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AACO,SAAS,YAAY,IAAI;IAC5B,IAAI;QAAC;QAAU;KAAS,CAAC,QAAQ,CAAC,OAAO,OAAO;QAC5C,OAAO,GAAG,MAAM;IACpB;IACA,IAAI,CAAC,MAAM;QACP,OAAO;IACX;IACA,IAAI,MAAM,OAAO,CAAC,OAAO;QACrB,OAAO,KAAK,GAAG,CAAC,aAAa,IAAI,CAAC;IACtC;IACA,IAAI,OAAO,SAAS,YAAY,WAAW,MAAM;QAC7C,OAAO,YAAY,KAAK,KAAK,CAAC,QAAQ;IAC1C;IACA,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,OAAO,MAAM;AACvD;AAMO,SAAS;IACZ,IAAA,iPAAG,EAAC,IAAA,0QAAY;IAChB,MAAM,IAAI,MAAM;AACpB;AAIO,SAAS,aAAa,MAAM;IAC/B,wCAAmC;QAC/B,MAAM,QAAQ,OAAO,MAAM,CAAC,IAAI,MAAM,qQAAQ,AAAC,CAAC;QAChD,EAAE,UAAU,iBAAiB;;;;;MAK/B,CAAC,GAAG;YACE,iDAAiD;YACjD,kJAAkJ;YAClJ,QAAQ;YACR,QAAQ,UAAU;QACtB;QACA,MAAM;IACV;AACJ","ignoreList":[0]}},
    {"offset": {"line": 7418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/utils/next.tsx"],"sourcesContent":["export function isClient() {\n  // TODO improve function name (could be confused because this may return false in client components during SSR)\n  return typeof window !== \"undefined\";\n}\n"],"names":[],"mappings":";;;;;AAAO,SAAS,WAAW;IAEzB,OAAO,OAAO,2CAAW;AAC3B"}},
    {"offset": {"line": 7432, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/utils/url.tsx"],"sourcesContent":["export function autoRedirect() {\n  const url = new URL(window.location.href);\n  const redirectUrl = url.searchParams.get(\"auto-redirect-url\");\n  if (redirectUrl) {\n    const urlObject = new URL(redirectUrl);\n    if (urlObject.origin !== window.location.origin) {\n      throw new Error(\"auto-redirect-url is not same origin (\" + urlObject.origin + \" !== \" + window.location.origin + \")\");\n    }\n    url.searchParams.delete(\"auto-redirect-url\");\n    window.location.replace(urlObject.href);\n  }\n}\n\nexport function constructRedirectUrl(redirectUrl: URL | string | undefined) {\n  const url = redirectUrl ? new URL(redirectUrl, window.location.href) : new URL(window.location.href);\n  return url.href.split(\"#\")[0];\n}\n"],"names":[],"mappings":";;;;;;;AAAO,SAAS,eAAe;IAC7B,MAAM,MAAM,IAAI,IAAI,OAAO,QAAA,CAAS,IAAI;IACxC,MAAM,cAAc,IAAI,YAAA,CAAa,GAAA,CAAI,mBAAmB;IAC5D,IAAI,aAAa;QACf,MAAM,YAAY,IAAI,IAAI,WAAW;QACrC,IAAI,UAAU,MAAA,KAAW,OAAO,QAAA,CAAS,MAAA,EAAQ;YAC/C,MAAM,IAAI,MAAM,2CAA2C,UAAU,MAAA,GAAS,UAAU,OAAO,QAAA,CAAS,MAAA,GAAS,GAAG;QACtH;QACA,IAAI,YAAA,CAAa,MAAA,CAAO,mBAAmB;QAC3C,OAAO,QAAA,CAAS,OAAA,CAAQ,UAAU,IAAI;IACxC;AACF;AAEO,SAAS,qBAAqB,WAAA,EAAuC;IAC1E,MAAM,MAAM,cAAc,IAAI,IAAI,aAAa,OAAO,QAAA,CAAS,IAAI,IAAI,IAAI,IAAI,OAAO,QAAA,CAAS,IAAI;IACnG,OAAO,IAAI,IAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,CAAC,CAAA;AAC9B"}},
    {"offset": {"line": 7461, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/lib/auth.ts"],"sourcesContent":["import { StackClientInterface } from \"@stackframe/stack-shared\";\nimport { saveVerifierAndState, getVerifierAndState } from \"./cookie\";\nimport { constructRedirectUrl } from \"../utils/url\";\nimport { TokenStore } from \"@stackframe/stack-shared/dist/interface/clientInterface\";\nimport { neverResolve, wait } from \"@stackframe/stack-shared/dist/utils/promises\";\nimport { StackAssertionError } from \"@stackframe/stack-shared/dist/utils/errors\";\n\nexport async function signInWithOAuth(\n  iface: StackClientInterface,\n  {\n    provider,\n    redirectUrl,\n  } : { \n    provider: string,\n    redirectUrl?: string,\n  }\n) {\n  redirectUrl = constructRedirectUrl(redirectUrl);\n  const { codeChallenge, state } = await saveVerifierAndState();\n  const location = await iface.getOAuthUrl(\n    provider,\n    redirectUrl,\n    codeChallenge,\n    state,\n  );\n  window.location.assign(location);\n  await neverResolve();\n}\n\n/**\n * Checks if the current URL has the query parameters for an OAuth callback, and if so, removes them.\n * \n * Must be synchronous for the logic in callOAuthCallback to work without race conditions.\n */\nfunction consumeOAuthCallbackQueryParams(expectedState: string): null | URL {\n  const requiredParams = [\"code\", \"state\"];\n  const originalUrl = new URL(window.location.href);\n  for (const param of requiredParams) {\n    if (!originalUrl.searchParams.has(param)) {\n      return null;\n    }\n  }\n\n  if (expectedState !== originalUrl.searchParams.get(\"state\")) {\n    // If the state doesn't match, then the callback wasn't meant for us.\n    // Maybe the website uses another OAuth library?\n    return null;\n  }\n\n\n  const newUrl = new URL(originalUrl);\n  for (const param of requiredParams) {\n    newUrl.searchParams.delete(param);\n  }\n\n  // let's get rid of the authorization code in the history as we\n  // don't redirect to `redirectUrl` if there's a validation error\n  // (as the redirectUrl might be malicious!).\n  //\n  // We use history.replaceState instead of location.assign(...) to\n  // prevent an unnecessary reload\n  window.history.replaceState({}, \"\", newUrl.toString());\n\n  return originalUrl; \n}\n\nexport async function callOAuthCallback(\n  iface: StackClientInterface,\n  tokenStore: TokenStore,\n  redirectUrl: string,\n) {\n  // note: this part of the function (until the return) needs\n  // to be synchronous, to prevent race conditions when\n  // callOAuthCallback is called multiple times in parallel\n  const { codeVerifier, state } = getVerifierAndState();\n  if (!codeVerifier || !state) {\n    throw new Error(\"Invalid OAuth callback URL parameters. It seems like the OAuth flow was interrupted, so please try again.\");\n  }\n  const originalUrl = consumeOAuthCallbackQueryParams(state);\n  if (!originalUrl) return null;\n\n  // the rest can be asynchronous (we now know that we are the\n  // intended recipient of the callback)\n  try {\n    return await iface.callOAuthCallback(\n      originalUrl.searchParams,\n      constructRedirectUrl(redirectUrl),\n      codeVerifier,\n      state,\n      tokenStore,\n    );\n  } catch (e) {\n    throw new StackAssertionError(\"Error signing in during OAuth callback. Please try again.\", { cause: e });\n  }\n}\n"],"names":[],"mappings":";;;;;;;AACA,SAAS,sBAAsB,2BAA2B;AAC1D,SAAS,4BAA4B;AAErC,SAAS,oBAA0B;AACnC,SAAS,2BAA2B;;;;;AAEpC,eAAsB,gBACpB,KAAA,EACA,EACE,QAAA,EACA,WAAA,EACF,EAIA;IACA,kBAAc,iOAAA,EAAqB,WAAW;IAC9C,MAAM,EAAE,aAAA,EAAe,KAAA,CAAM,CAAA,GAAI,UAAM,kOAAA,CAAqB;IAC5D,MAAM,WAAW,MAAM,MAAM,WAAA,CAC3B,UACA,aACA,eACA;IAEF,OAAO,QAAA,CAAS,MAAA,CAAO,QAAQ;IAC/B,UAAM,0QAAA,CAAa;AACrB;AAOA,SAAS,gCAAgC,aAAA,EAAmC;IAC1E,MAAM,iBAAiB;QAAC;QAAQ,OAAO;KAAA;IACvC,MAAM,cAAc,IAAI,IAAI,OAAO,QAAA,CAAS,IAAI;IAChD,KAAA,MAAW,SAAS,eAAgB;QAClC,IAAI,CAAC,YAAY,YAAA,CAAa,GAAA,CAAI,KAAK,GAAG;YACxC,OAAO;QACT;IACF;IAEA,IAAI,kBAAkB,YAAY,YAAA,CAAa,GAAA,CAAI,OAAO,GAAG;QAG3D,OAAO;IACT;IAGA,MAAM,SAAS,IAAI,IAAI,WAAW;IAClC,KAAA,MAAW,SAAS,eAAgB;QAClC,OAAO,YAAA,CAAa,MAAA,CAAO,KAAK;IAClC;IAQA,OAAO,OAAA,CAAQ,YAAA,CAAa,CAAC,GAAG,IAAI,OAAO,QAAA,CAAS,CAAC;IAErD,OAAO;AACT;AAEA,eAAsB,kBACpB,KAAA,EACA,UAAA,EACA,WAAA,EACA;IAIA,MAAM,EAAE,YAAA,EAAc,KAAA,CAAM,CAAA,OAAI,iOAAA,CAAoB;IACpD,IAAI,CAAC,gBAAgB,CAAC,OAAO;QAC3B,MAAM,IAAI,MAAM,2GAA2G;IAC7H;IACA,MAAM,cAAc,gCAAgC,KAAK;IACzD,IAAI,CAAC,aAAa,OAAO;IAIzB,IAAI;QACF,OAAO,MAAM,MAAM,iBAAA,CACjB,YAAY,YAAA,MACZ,iOAAA,EAAqB,WAAW,GAChC,cACA,OACA;IAEJ,EAAA,OAAS,GAAG;QACV,MAAM,IAAI,+QAAA,CAAoB,6DAA6D;YAAE,OAAO;QAAE,CAAC;IACzG;AACF"}},
    {"offset": {"line": 7525, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/readonly-url-search-params.ts"],"sourcesContent":["/**\n * ReadonlyURLSearchParams implementation shared between client and server.\n * This file is intentionally not marked as 'use client' or 'use server'\n * so it can be imported by both environments.\n */\n\n/** @internal */\nclass ReadonlyURLSearchParamsError extends Error {\n  constructor() {\n    super(\n      'Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams'\n    )\n  }\n}\n\n/**\n * A read-only version of URLSearchParams that throws errors when mutation methods are called.\n * This ensures that the URLSearchParams returned by useSearchParams() cannot be mutated.\n */\nexport class ReadonlyURLSearchParams extends URLSearchParams {\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  append() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  delete() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  set() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  sort() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n}\n"],"names":["ReadonlyURLSearchParams","ReadonlyURLSearchParamsError","Error","constructor","URLSearchParams","append","delete","set","sort"],"mappings":"AAAA;;;;CAIC,GAED,cAAc;;;+BAaDA,2BAAAA;;;eAAAA;;;AAZb,MAAMC,qCAAqCC;IACzCC,aAAc;QACZ,KAAK,CACH;IAEJ;AACF;AAMO,MAAMH,gCAAgCI;IAC3C,wKAAwK,GACxKC,SAAS;QACP,MAAM,IAAIJ;IACZ;IACA,wKAAwK,GACxKK,SAAS;QACP,MAAM,IAAIL;IACZ;IACA,wKAAwK,GACxKM,MAAM;QACJ,MAAM,IAAIN;IACZ;IACA,wKAAwK,GACxKO,OAAO;QACL,MAAM,IAAIP;IACZ;AACF","ignoreList":[0]}},
    {"offset": {"line": 7568, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/redirect-status-code.ts"],"sourcesContent":["export enum RedirectStatusCode {\n  SeeOther = 303,\n  TemporaryRedirect = 307,\n  PermanentRedirect = 308,\n}\n"],"names":["RedirectStatusCode"],"mappings":";;;+BAAYA,sBAAAA;;;eAAAA;;;AAAL,IAAKA,qBAAAA,WAAAA,GAAAA,SAAAA,kBAAAA;;;;WAAAA","ignoreList":[0]}},
    {"offset": {"line": 7594, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/redirect-error.ts"],"sourcesContent":["import { RedirectStatusCode } from './redirect-status-code'\n\nexport const REDIRECT_ERROR_CODE = 'NEXT_REDIRECT'\n\nexport enum RedirectType {\n  push = 'push',\n  replace = 'replace',\n}\n\nexport type RedirectError = Error & {\n  digest: `${typeof REDIRECT_ERROR_CODE};${RedirectType};${string};${RedirectStatusCode};`\n}\n\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */\nexport function isRedirectError(error: unknown): error is RedirectError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n\n  const digest = error.digest.split(';')\n  const [errorCode, type] = digest\n  const destination = digest.slice(2, -2).join(';')\n  const status = digest.at(-2)\n\n  const statusCode = Number(status)\n\n  return (\n    errorCode === REDIRECT_ERROR_CODE &&\n    (type === 'replace' || type === 'push') &&\n    typeof destination === 'string' &&\n    !isNaN(statusCode) &&\n    statusCode in RedirectStatusCode\n  )\n}\n"],"names":["REDIRECT_ERROR_CODE","RedirectType","isRedirectError","error","digest","split","errorCode","type","destination","slice","join","status","at","statusCode","Number","isNaN","RedirectStatusCode"],"mappings":";;;;;;;;;;;;;;;IAEaA,mBAAmB,EAAA;eAAnBA;;IAEDC,YAAY,EAAA;eAAZA;;IAgBIC,eAAe,EAAA;eAAfA;;;oCApBmB;AAE5B,MAAMF,sBAAsB;AAE5B,IAAKC,eAAAA,WAAAA,GAAAA,SAAAA,YAAAA;;;WAAAA;;AAgBL,SAASC,gBAAgBC,KAAc;IAC5C,IACE,OAAOA,UAAU,YACjBA,UAAU,QACV,CAAE,CAAA,YAAYA,KAAI,KAClB,OAAOA,MAAMC,MAAM,KAAK,UACxB;QACA,OAAO;IACT;IAEA,MAAMA,SAASD,MAAMC,MAAM,CAACC,KAAK,CAAC;IAClC,MAAM,CAACC,WAAWC,KAAK,GAAGH;IAC1B,MAAMI,cAAcJ,OAAOK,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC;IAC7C,MAAMC,SAASP,OAAOQ,EAAE,CAAC,CAAC;IAE1B,MAAMC,aAAaC,OAAOH;IAE1B,OACEL,cAAcN,uBACbO,CAAAA,SAAS,aAAaA,SAAS,MAAK,KACrC,OAAOC,gBAAgB,YACvB,CAACO,MAAMF,eACPA,cAAcG,oBAAAA,kBAAkB;AAEpC","ignoreList":[0]}},
    {"offset": {"line": 7648, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/redirect.ts"],"sourcesContent":["import { RedirectStatusCode } from './redirect-status-code'\nimport {\n  RedirectType,\n  type RedirectError,\n  isRedirectError,\n  REDIRECT_ERROR_CODE,\n} from './redirect-error'\n\nconst actionAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/action-async-storage.external') as typeof import('../../server/app-render/action-async-storage.external')\n      ).actionAsyncStorage\n    : undefined\n\nexport function getRedirectError(\n  url: string,\n  type: RedirectType,\n  statusCode: RedirectStatusCode = RedirectStatusCode.TemporaryRedirect\n): RedirectError {\n  const error = new Error(REDIRECT_ERROR_CODE) as RedirectError\n  error.digest = `${REDIRECT_ERROR_CODE};${type};${url};${statusCode};`\n  return error\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 307/303 to the caller.\n * - In a Server Action, type defaults to 'push' and 'replace' elsewhere.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function redirect(\n  /** The URL to redirect to */\n  url: string,\n  type?: RedirectType\n): never {\n  type ??= actionAsyncStorage?.getStore()?.isAction\n    ? RedirectType.push\n    : RedirectType.replace\n\n  throw getRedirectError(url, type, RedirectStatusCode.TemporaryRedirect)\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 308/303 to the caller.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function permanentRedirect(\n  /** The URL to redirect to */\n  url: string,\n  type: RedirectType = RedirectType.replace\n): never {\n  throw getRedirectError(url, type, RedirectStatusCode.PermanentRedirect)\n}\n\n/**\n * Returns the encoded URL from the error if it's a RedirectError, null\n * otherwise. Note that this does not validate the URL returned.\n *\n * @param error the error that may be a redirect error\n * @return the url if the error was a redirect error\n */\nexport function getURLFromRedirectError(error: RedirectError): string\nexport function getURLFromRedirectError(error: unknown): string | null {\n  if (!isRedirectError(error)) return null\n\n  // Slices off the beginning of the digest that contains the code and the\n  // separating ';'.\n  return error.digest.split(';').slice(2, -2).join(';')\n}\n\nexport function getRedirectTypeFromError(error: RedirectError): RedirectType {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return error.digest.split(';', 2)[1] as RedirectType\n}\n\nexport function getRedirectStatusCodeFromError(error: RedirectError): number {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return Number(error.digest.split(';').at(-2))\n}\n"],"names":["getRedirectError","getRedirectStatusCodeFromError","getRedirectTypeFromError","getURLFromRedirectError","permanentRedirect","redirect","actionAsyncStorage","window","require","undefined","url","type","statusCode","RedirectStatusCode","TemporaryRedirect","error","Error","REDIRECT_ERROR_CODE","digest","getStore","isAction","RedirectType","push","replace","PermanentRedirect","isRedirectError","split","slice","join","Number","at"],"mappings":";;;;;;;;;;;;;;;;;;IAegBA,gBAAgB,EAAA;eAAhBA;;IA6EAC,8BAA8B,EAAA;eAA9BA;;IARAC,wBAAwB,EAAA;eAAxBA;;IARAC,uBAAuB,EAAA;eAAvBA;;IAhBAC,iBAAiB,EAAA;eAAjBA;;IAvBAC,QAAQ,EAAA;eAARA;;;oCArCmB;+BAM5B;AAEP,MAAMC,qBACJ,OAAOC,WAAW,qBAEZC,QAAQ,2KACRF,kBAAkB,GACpBG;AAEC,SAAST,iBACdU,GAAW,EACXC,IAAkB,EAClBC,aAAiCC,oBAAAA,kBAAkB,CAACC,iBAAiB;IAErE,MAAMC,QAAQ,OAAA,cAA8B,CAA9B,IAAIC,MAAMC,eAAAA,mBAAmB,GAA7B,qBAAA;eAAA;oBAAA;sBAAA;IAA6B;IAC3CF,MAAMG,MAAM,GAAG,GAAGD,eAAAA,mBAAmB,CAAC,CAAC,EAAEN,KAAK,CAAC,EAAED,IAAI,CAAC,EAAEE,WAAW,CAAC,CAAC;IACrE,OAAOG;AACT;AAcO,SAASV,SACd,2BAA2B,GAC3BK,GAAW,EACXC,IAAmB;IAEnBA,SAASL,oBAAoBa,YAAYC,WACrCC,eAAAA,YAAY,CAACC,IAAI,GACjBD,eAAAA,YAAY,CAACE,OAAO;IAExB,MAAMvB,iBAAiBU,KAAKC,MAAME,oBAAAA,kBAAkB,CAACC,iBAAiB;AACxE;AAaO,SAASV,kBACd,2BAA2B,GAC3BM,GAAW,EACXC,OAAqBU,eAAAA,YAAY,CAACE,OAAO;IAEzC,MAAMvB,iBAAiBU,KAAKC,MAAME,oBAAAA,kBAAkB,CAACW,iBAAiB;AACxE;AAUO,SAASrB,wBAAwBY,KAAc;IACpD,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ,OAAO;IAEpC,wEAAwE;IACxE,kBAAkB;IAClB,OAAOA,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAKC,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC;AACnD;AAEO,SAAS1B,yBAAyBa,KAAoB;IAC3D,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ;QAC3B,MAAM,OAAA,cAAiC,CAAjC,IAAIC,MAAM,yBAAV,qBAAA;mBAAA;wBAAA;0BAAA;QAAgC;IACxC;IAEA,OAAOD,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE;AACtC;AAEO,SAASzB,+BAA+Bc,KAAoB;IACjE,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ;QAC3B,MAAM,OAAA,cAAiC,CAAjC,IAAIC,MAAM,yBAAV,qBAAA;mBAAA;wBAAA;0BAAA;QAAgC;IACxC;IAEA,OAAOa,OAAOd,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAKI,EAAE,CAAC,CAAC;AAC5C","ignoreList":[0]}},
    {"offset": {"line": 7741, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/http-access-fallback/http-access-fallback.ts"],"sourcesContent":["export const HTTPAccessErrorStatus = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401,\n}\n\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus))\n\nexport const HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK'\n\nexport type HTTPAccessFallbackError = Error & {\n  digest: `${typeof HTTP_ERROR_FALLBACK_ERROR_CODE};${string}`\n}\n\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */\nexport function isHTTPAccessFallbackError(\n  error: unknown\n): error is HTTPAccessFallbackError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n  const [prefix, httpStatus] = error.digest.split(';')\n\n  return (\n    prefix === HTTP_ERROR_FALLBACK_ERROR_CODE &&\n    ALLOWED_CODES.has(Number(httpStatus))\n  )\n}\n\nexport function getAccessFallbackHTTPStatus(\n  error: HTTPAccessFallbackError\n): number {\n  const httpStatus = error.digest.split(';')[1]\n  return Number(httpStatus)\n}\n\nexport function getAccessFallbackErrorTypeByStatus(\n  status: number\n): 'not-found' | 'forbidden' | 'unauthorized' | undefined {\n  switch (status) {\n    case 401:\n      return 'unauthorized'\n    case 403:\n      return 'forbidden'\n    case 404:\n      return 'not-found'\n    default:\n      return\n  }\n}\n"],"names":["HTTPAccessErrorStatus","HTTP_ERROR_FALLBACK_ERROR_CODE","getAccessFallbackErrorTypeByStatus","getAccessFallbackHTTPStatus","isHTTPAccessFallbackError","NOT_FOUND","FORBIDDEN","UNAUTHORIZED","ALLOWED_CODES","Set","Object","values","error","digest","prefix","httpStatus","split","has","Number","status"],"mappings":";;;;;;;;;;;;;;;;;IAAaA,qBAAqB,EAAA;eAArBA;;IAQAC,8BAA8B,EAAA;eAA9BA;;IAuCGC,kCAAkC,EAAA;eAAlCA;;IAPAC,2BAA2B,EAAA;eAA3BA;;IAnBAC,yBAAyB,EAAA;eAAzBA;;;AArBT,MAAMJ,wBAAwB;IACnCK,WAAW;IACXC,WAAW;IACXC,cAAc;AAChB;AAEA,MAAMC,gBAAgB,IAAIC,IAAIC,OAAOC,MAAM,CAACX;AAErC,MAAMC,iCAAiC;AAavC,SAASG,0BACdQ,KAAc;IAEd,IACE,OAAOA,UAAU,YACjBA,UAAU,QACV,CAAE,CAAA,YAAYA,KAAI,KAClB,OAAOA,MAAMC,MAAM,KAAK,UACxB;QACA,OAAO;IACT;IACA,MAAM,CAACC,QAAQC,WAAW,GAAGH,MAAMC,MAAM,CAACG,KAAK,CAAC;IAEhD,OACEF,WAAWb,kCACXO,cAAcS,GAAG,CAACC,OAAOH;AAE7B;AAEO,SAASZ,4BACdS,KAA8B;IAE9B,MAAMG,aAAaH,MAAMC,MAAM,CAACG,KAAK,CAAC,IAAI,CAAC,EAAE;IAC7C,OAAOE,OAAOH;AAChB;AAEO,SAASb,mCACdiB,MAAc;IAEd,OAAQA;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE;IACJ;AACF","ignoreList":[0]}},
    {"offset": {"line": 7815, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/not-found.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n/**\n * This function allows you to render the [not-found.js file](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)\n * within a route segment as well as inject a tag.\n *\n * `notFound()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a `<meta name=\"robots\" content=\"noindex\" />` meta tag and set the status code to 404.\n * - In a Route Handler or Server Action, it will serve a 404 to the caller.\n *\n * Read more: [Next.js Docs: `notFound`](https://nextjs.org/docs/app/api-reference/functions/not-found)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};404`\n\nexport function notFound(): never {\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n\n  throw error\n}\n"],"names":["notFound","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","error","Error","digest"],"mappings":";;;+BAsBgBA,YAAAA;;;eAAAA;;;oCAnBT;AAEP;;;;;;;;;;;;;CAaC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,MAAMG,QAAQ,OAAA,cAAiB,CAAjB,IAAIC,MAAMH,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BE,MAAkCE,MAAM,GAAGJ;IAE7C,MAAME;AACR","ignoreList":[0]}},
    {"offset": {"line": 7859, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/forbidden.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `forbidden` docs\n/**\n * @experimental\n * This function allows you to render the [forbidden.js file](https://nextjs.org/docs/app/api-reference/file-conventions/forbidden)\n * within a route segment as well as inject a tag.\n *\n * `forbidden()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * Read more: [Next.js Docs: `forbidden`](https://nextjs.org/docs/app/api-reference/functions/forbidden)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};403`\n\nexport function forbidden(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`forbidden()\\` is experimental and only allowed to be enabled when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n"],"names":["forbidden","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","Error","error","digest"],"mappings":";;;+BAqBgBA,aAAAA;;;eAAAA;;;oCAlBT;AAEP,6BAA6B;AAC7B;;;;;;;;;;;CAWC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,IAAI,CAACG,QAAQC,GAAG,CAACC,uBAAqC,YAAF;QAClD,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,+GAA+G,CAAC,GAD7G,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,MAAMC,QAAQ,OAAA,cAAiB,CAAjB,IAAID,MAAML,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BM,MAAkCC,MAAM,GAAGP;IAC7C,MAAMM;AACR","ignoreList":[0]}},
    {"offset": {"line": 7909, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/unauthorized.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `unauthorized` docs\n/**\n * @experimental\n * This function allows you to render the [unauthorized.js file](https://nextjs.org/docs/app/api-reference/file-conventions/unauthorized)\n * within a route segment as well as inject a tag.\n *\n * `unauthorized()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n *\n * Read more: [Next.js Docs: `unauthorized`](https://nextjs.org/docs/app/api-reference/functions/unauthorized)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};401`\n\nexport function unauthorized(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`unauthorized()\\` is experimental and only allowed to be used when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n"],"names":["unauthorized","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","Error","error","digest"],"mappings":";;;+BAsBgBA,gBAAAA;;;eAAAA;;;oCAnBT;AAEP,gCAAgC;AAChC;;;;;;;;;;;;CAYC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,IAAI,CAACG,QAAQC,GAAG,CAACC,uBAAqC,YAAF;QAClD,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,+GAA+G,CAAC,GAD7G,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,MAAMC,QAAQ,OAAA,cAAiB,CAAjB,IAAID,MAAML,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BM,MAAkCC,MAAM,GAAGP;IAC7C,MAAMM;AACR","ignoreList":[0]}},
    {"offset": {"line": 7960, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/server/lib/router-utils/is-postpone.ts"],"sourcesContent":["const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone')\n\nexport function isPostpone(error: any): boolean {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    error.$$typeof === REACT_POSTPONE_TYPE\n  )\n}\n"],"names":["isPostpone","REACT_POSTPONE_TYPE","Symbol","for","error","$$typeof"],"mappings":";;;+BAEgBA,cAAAA;;;eAAAA;;;AAFhB,MAAMC,sBAA8BC,OAAOC,GAAG,CAAC;AAExC,SAASH,WAAWI,KAAU;IACnC,OACE,OAAOA,UAAU,YACjBA,UAAU,QACVA,MAAMC,QAAQ,KAAKJ;AAEvB","ignoreList":[0]}},
    {"offset": {"line": 7977, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/is-next-router-error.ts"],"sourcesContent":["import {\n  isHTTPAccessFallbackError,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\nimport { isRedirectError, type RedirectError } from './redirect-error'\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */\nexport function isNextRouterError(\n  error: unknown\n): error is RedirectError | HTTPAccessFallbackError {\n  return isRedirectError(error) || isHTTPAccessFallbackError(error)\n}\n"],"names":["isNextRouterError","error","isRedirectError","isHTTPAccessFallbackError"],"mappings":";;;+BAWgBA,qBAAAA;;;eAAAA;;;oCART;+BAC6C;AAO7C,SAASA,kBACdC,KAAc;IAEd,OAAOC,CAAAA,GAAAA,eAAAA,eAAe,EAACD,UAAUE,CAAAA,GAAAA,oBAAAA,yBAAyB,EAACF;AAC7D","ignoreList":[0]}},
    {"offset": {"line": 8002, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/unstable-rethrow.server.ts"],"sourcesContent":["import { isHangingPromiseRejectionError } from '../../server/dynamic-rendering-utils'\nimport { isPostpone } from '../../server/lib/router-utils/is-postpone'\nimport { isBailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { isNextRouterError } from './is-next-router-error'\nimport {\n  isDynamicPostpone,\n  isPrerenderInterruptedError,\n} from '../../server/app-render/dynamic-rendering'\nimport { isDynamicServerError } from './hooks-server-context'\n\nexport function unstable_rethrow(error: unknown): void {\n  if (\n    isNextRouterError(error) ||\n    isBailoutToCSRError(error) ||\n    isDynamicServerError(error) ||\n    isDynamicPostpone(error) ||\n    isPostpone(error) ||\n    isHangingPromiseRejectionError(error) ||\n    isPrerenderInterruptedError(error)\n  ) {\n    throw error\n  }\n\n  if (error instanceof Error && 'cause' in error) {\n    unstable_rethrow(error.cause)\n  }\n}\n"],"names":["unstable_rethrow","error","isNextRouterError","isBailoutToCSRError","isDynamicServerError","isDynamicPostpone","isPostpone","isHangingPromiseRejectionError","isPrerenderInterruptedError","Error","cause"],"mappings":";;;+BAUgBA,oBAAAA;;;eAAAA;;;uCAV+B;4BACpB;8BACS;mCACF;kCAI3B;oCAC8B;AAE9B,SAASA,iBAAiBC,KAAc;IAC7C,IACEC,CAAAA,GAAAA,mBAAAA,iBAAiB,EAACD,UAClBE,CAAAA,GAAAA,cAAAA,mBAAmB,EAACF,UACpBG,CAAAA,GAAAA,oBAAAA,oBAAoB,EAACH,UACrBI,CAAAA,GAAAA,kBAAAA,iBAAiB,EAACJ,UAClBK,CAAAA,GAAAA,YAAAA,UAAU,EAACL,UACXM,CAAAA,GAAAA,uBAAAA,8BAA8B,EAACN,UAC/BO,CAAAA,GAAAA,kBAAAA,2BAA2B,EAACP,QAC5B;QACA,MAAMA;IACR;IAEA,IAAIA,iBAAiBQ,SAAS,WAAWR,OAAO;QAC9CD,iBAAiBC,MAAMS,KAAK;IAC9B;AACF","ignoreList":[0]}},
    {"offset": {"line": 8036, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/unstable-rethrow.ts"],"sourcesContent":["/**\n * This function should be used to rethrow internal Next.js errors so that they can be handled by the framework.\n * When wrapping an API that uses errors to interrupt control flow, you should use this function before you do any error handling.\n * This function will rethrow the error if it is a Next.js error so it can be handled, otherwise it will do nothing.\n *\n * Read more: [Next.js Docs: `unstable_rethrow`](https://nextjs.org/docs/app/api-reference/functions/unstable_rethrow)\n */\nexport const unstable_rethrow =\n  typeof window === 'undefined'\n    ? (\n        require('./unstable-rethrow.server') as typeof import('./unstable-rethrow.server')\n      ).unstable_rethrow\n    : (\n        require('./unstable-rethrow.browser') as typeof import('./unstable-rethrow.browser')\n      ).unstable_rethrow\n"],"names":["unstable_rethrow","window","require"],"mappings":"AAAA;;;;;;CAMC;;;+BACYA,oBAAAA;;;eAAAA;;;AAAN,MAAMA,mBACX,OAAOC,WAAW,qBAEZC,QAAQ,iJACRF,gBAAgB,GAEhBE,QAAQ,8BACRF,gBAAgB","ignoreList":[0]}},
    {"offset": {"line": 8063, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/next/src/client/components/navigation.react-server.ts"],"sourcesContent":["import { ReadonlyURLSearchParams } from './readonly-url-search-params'\n\nexport function unstable_isUnrecognizedActionError(): boolean {\n  throw new Error(\n    '`unstable_isUnrecognizedActionError` can only be used on the client.'\n  )\n}\n\nexport { redirect, permanentRedirect } from './redirect'\nexport { RedirectType } from './redirect-error'\nexport { notFound } from './not-found'\nexport { forbidden } from './forbidden'\nexport { unauthorized } from './unauthorized'\nexport { unstable_rethrow } from './unstable-rethrow'\nexport { ReadonlyURLSearchParams }\n"],"names":["ReadonlyURLSearchParams","RedirectType","forbidden","notFound","permanentRedirect","redirect","unauthorized","unstable_isUnrecognizedActionError","unstable_rethrow","Error"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAcSA,uBAAuB,EAAA;eAAvBA,yBAAAA,uBAAuB;;IALvBC,YAAY,EAAA;eAAZA,eAAAA,YAAY;;IAEZC,SAAS,EAAA;eAATA,WAAAA,SAAS;;IADTC,QAAQ,EAAA;eAARA,UAAAA,QAAQ;;IAFEC,iBAAiB,EAAA;eAAjBA,UAAAA,iBAAiB;;IAA3BC,QAAQ,EAAA;eAARA,UAAAA,QAAQ;;IAIRC,YAAY,EAAA;eAAZA,cAAAA,YAAY;;IAVLC,kCAAkC,EAAA;eAAlCA;;IAWPC,gBAAgB,EAAA;eAAhBA,iBAAAA,gBAAgB;;;yCAbe;0BAQI;+BACf;0BACJ;2BACC;8BACG;iCACI;AAX1B,SAASD;IACd,MAAM,OAAA,cAEL,CAFK,IAAIE,MACR,yEADI,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF","ignoreList":[0]}},
    {"offset": {"line": 8137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/src/api/navigation.react-server.ts"],"sourcesContent":["export * from '../client/components/navigation.react-server'\n"],"names":[],"mappings":";AAAA,cAAc,+CAA8C","ignoreList":[0]}},
    {"offset": {"line": 8144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/objects.js"],"sourcesContent":["/**\n * Assumes both objects are primitives, arrays, or non-function plain objects, and compares them deeply.\n *\n * Note that since they are assumed to be plain objects, this function does not compare prototypes.\n */\nexport function deepPlainEquals(obj1, obj2) {\n    if (typeof obj1 !== typeof obj2)\n        return false;\n    if (obj1 === obj2)\n        return true;\n    switch (typeof obj1) {\n        case 'object': {\n            if (!obj1 || !obj2)\n                return false;\n            if (Array.isArray(obj1) || Array.isArray(obj2)) {\n                if (!Array.isArray(obj1) || !Array.isArray(obj2))\n                    return false;\n                if (obj1.length !== obj2.length)\n                    return false;\n                return obj1.every((v, i) => deepPlainEquals(v, obj2[i]));\n            }\n            const keys1 = Object.keys(obj1);\n            const keys2 = Object.keys(obj2);\n            if (keys1.length !== keys2.length)\n                return false;\n            return keys1.every((k) => k in obj2 && deepPlainEquals(obj1[k], obj2[k]));\n        }\n        case 'undefined':\n        case 'string':\n        case 'number':\n        case 'boolean':\n        case 'bigint':\n        case 'symbol':\n        case 'function': {\n            return false;\n        }\n        default: {\n            throw new Error(\"Unexpected typeof \" + typeof obj1);\n        }\n    }\n}\nexport function typedEntries(obj) {\n    return Object.entries(obj);\n}\nexport function typedFromEntries(entries) {\n    return Object.fromEntries(entries);\n}\nexport function typedKeys(obj) {\n    return Object.keys(obj);\n}\nexport function typedValues(obj) {\n    return Object.values(obj);\n}\nexport function typedAssign(target, source) {\n    Object.assign(target, source);\n}\n/**\n * Returns a new object with all undefined values removed. Useful when spreading optional parameters on an object, as\n * TypeScript's `Partial<XYZ>` type allows `undefined` values.\n */\nexport function filterUndefined(obj) {\n    return Object.fromEntries(Object.entries(obj).filter(([, v]) => v !== undefined));\n}\nexport function pick(obj, keys) {\n    return Object.fromEntries(Object.entries(obj).filter(([k]) => keys.includes(k)));\n}\nexport function omit(obj, keys) {\n    return Object.fromEntries(Object.entries(obj).filter(([k]) => !keys.includes(k)));\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;;;;;;;;;;;AACM,SAAS,gBAAgB,IAAI,EAAE,IAAI;IACtC,IAAI,OAAO,SAAS,OAAO,MACvB,OAAO;IACX,IAAI,SAAS,MACT,OAAO;IACX,OAAQ,OAAO;QACX,KAAK;YAAU;gBACX,IAAI,CAAC,QAAQ,CAAC,MACV,OAAO;gBACX,IAAI,MAAM,OAAO,CAAC,SAAS,MAAM,OAAO,CAAC,OAAO;oBAC5C,IAAI,CAAC,MAAM,OAAO,CAAC,SAAS,CAAC,MAAM,OAAO,CAAC,OACvC,OAAO;oBACX,IAAI,KAAK,MAAM,KAAK,KAAK,MAAM,EAC3B,OAAO;oBACX,OAAO,KAAK,KAAK,CAAC,CAAC,GAAG,IAAM,gBAAgB,GAAG,IAAI,CAAC,EAAE;gBAC1D;gBACA,MAAM,QAAQ,OAAO,IAAI,CAAC;gBAC1B,MAAM,QAAQ,OAAO,IAAI,CAAC;gBAC1B,IAAI,MAAM,MAAM,KAAK,MAAM,MAAM,EAC7B,OAAO;gBACX,OAAO,MAAM,KAAK,CAAC,CAAC,IAAM,KAAK,QAAQ,gBAAgB,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE;YAC3E;QACA,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YAAY;gBACb,OAAO;YACX;QACA;YAAS;gBACL,MAAM,IAAI,MAAM,uBAAuB,OAAO;YAClD;IACJ;AACJ;AACO,SAAS,aAAa,GAAG;IAC5B,OAAO,OAAO,OAAO,CAAC;AAC1B;AACO,SAAS,iBAAiB,OAAO;IACpC,OAAO,OAAO,WAAW,CAAC;AAC9B;AACO,SAAS,UAAU,GAAG;IACzB,OAAO,OAAO,IAAI,CAAC;AACvB;AACO,SAAS,YAAY,GAAG;IAC3B,OAAO,OAAO,MAAM,CAAC;AACzB;AACO,SAAS,YAAY,MAAM,EAAE,MAAM;IACtC,OAAO,MAAM,CAAC,QAAQ;AAC1B;AAKO,SAAS,gBAAgB,GAAG;IAC/B,OAAO,OAAO,WAAW,CAAC,OAAO,OAAO,CAAC,KAAK,MAAM,CAAC,CAAC,GAAG,EAAE,GAAK,MAAM;AAC1E;AACO,SAAS,KAAK,GAAG,EAAE,IAAI;IAC1B,OAAO,OAAO,WAAW,CAAC,OAAO,OAAO,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,EAAE,GAAK,KAAK,QAAQ,CAAC;AAChF;AACO,SAAS,KAAK,GAAG,EAAE,IAAI;IAC1B,OAAO,OAAO,WAAW,CAAC,OAAO,OAAO,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,EAAE,GAAK,CAAC,KAAK,QAAQ,CAAC;AACjF","ignoreList":[0]}},
    {"offset": {"line": 8229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/maps.js"],"sourcesContent":["import { Result } from \"./results\";\nexport class MaybeWeakMap {\n    _primitiveMap;\n    _weakMap;\n    constructor(entries) {\n        const entriesArray = [...entries ?? []];\n        this._primitiveMap = new Map(entriesArray.filter((e) => !this._isAllowedInWeakMap(e[0])));\n        this._weakMap = new WeakMap(entriesArray.filter((e) => this._isAllowedInWeakMap(e[0])));\n    }\n    _isAllowedInWeakMap(key) {\n        return (typeof key === \"object\" && key !== null) || (typeof key === \"symbol\" && Symbol.keyFor(key) === undefined);\n    }\n    get(key) {\n        if (this._isAllowedInWeakMap(key)) {\n            return this._weakMap.get(key);\n        }\n        else {\n            return this._primitiveMap.get(key);\n        }\n    }\n    set(key, value) {\n        if (this._isAllowedInWeakMap(key)) {\n            this._weakMap.set(key, value);\n        }\n        else {\n            this._primitiveMap.set(key, value);\n        }\n        return this;\n    }\n    delete(key) {\n        if (this._isAllowedInWeakMap(key)) {\n            return this._weakMap.delete(key);\n        }\n        else {\n            return this._primitiveMap.delete(key);\n        }\n    }\n    has(key) {\n        if (this._isAllowedInWeakMap(key)) {\n            return this._weakMap.has(key);\n        }\n        else {\n            return this._primitiveMap.has(key);\n        }\n    }\n    [Symbol.toStringTag] = \"MaybeWeakMap\";\n}\nexport class DependenciesMap {\n    _inner = { map: new MaybeWeakMap(), hasValue: false, value: undefined };\n    _valueToResult(inner) {\n        if (inner.hasValue) {\n            return Result.ok(inner.value);\n        }\n        else {\n            return Result.error(undefined);\n        }\n    }\n    _unwrapFromInner(dependencies, inner) {\n        if ((dependencies.length === 0)) {\n            return this._valueToResult(inner);\n        }\n        else {\n            const [key, ...rest] = dependencies;\n            const newInner = inner.map.get(key);\n            if (!newInner) {\n                return Result.error(undefined);\n            }\n            return this._unwrapFromInner(rest, newInner);\n        }\n    }\n    _setInInner(dependencies, value, inner) {\n        if (dependencies.length === 0) {\n            const res = this._valueToResult(inner);\n            if (value.status === \"ok\") {\n                inner.hasValue = true;\n                inner.value = value.data;\n            }\n            else {\n                inner.hasValue = false;\n                inner.value = undefined;\n            }\n            return res;\n        }\n        else {\n            const [key, ...rest] = dependencies;\n            let newInner = inner.map.get(key);\n            if (!newInner) {\n                inner.map.set(key, newInner = { map: new MaybeWeakMap(), hasValue: false, value: undefined });\n            }\n            return this._setInInner(rest, value, newInner);\n        }\n    }\n    get(dependencies) {\n        return Result.or(this._unwrapFromInner(dependencies, this._inner), undefined);\n    }\n    set(dependencies, value) {\n        this._setInInner(dependencies, Result.ok(value), this._inner);\n        return this;\n    }\n    delete(dependencies) {\n        return this._setInInner(dependencies, Result.error(undefined), this._inner).status === \"ok\";\n    }\n    has(dependencies) {\n        return this._unwrapFromInner(dependencies, this._inner).status === \"ok\";\n    }\n    clear() {\n        this._inner = { map: new MaybeWeakMap(), hasValue: false, value: undefined };\n    }\n    [Symbol.toStringTag] = \"DependenciesMap\";\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8356, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/node_modules/%40stackframe/stack-shared/dist/utils/caches.js"],"sourcesContent":["import { DependenciesMap } from \"./maps\";\nimport { filterUndefined } from \"./objects\";\nimport { pending, rateLimited, resolved, runAsynchronously } from \"./promises\";\nimport { AsyncStore } from \"./stores\";\n/**\n * Can be used to cache the result of a function call, for example for the `use` hook in React.\n */\nexport function cacheFunction(f) {\n    const dependenciesMap = new DependenciesMap();\n    return ((...args) => {\n        if (dependenciesMap.has(args)) {\n            return dependenciesMap.get(args);\n        }\n        const value = f(...args);\n        dependenciesMap.set(args, value);\n        return value;\n    });\n}\nexport class AsyncCache {\n    _fetcher;\n    _options;\n    _map = new DependenciesMap();\n    constructor(_fetcher, _options = {}) {\n        this._fetcher = _fetcher;\n        this._options = _options;\n        // nothing here yet\n    }\n    _createKeyed(functionName) {\n        return (key, ...args) => {\n            const valueCache = this.getValueCache(key);\n            return valueCache[functionName].apply(valueCache, args);\n        };\n    }\n    getValueCache(dependencies) {\n        let cache = this._map.get(dependencies);\n        if (!cache) {\n            cache = new AsyncValueCache(async () => await this._fetcher(dependencies), {\n                ...this._options,\n                onSubscribe: this._options.onSubscribe ? (cb) => this._options.onSubscribe(dependencies, cb) : undefined,\n            });\n            this._map.set(dependencies, cache);\n        }\n        return cache;\n    }\n    isCacheAvailable = this._createKeyed(\"isCacheAvailable\");\n    getIfCached = this._createKeyed(\"getIfCached\");\n    getOrWait = this._createKeyed(\"getOrWait\");\n    forceSetCachedValue = this._createKeyed(\"forceSetCachedValue\");\n    forceSetCachedValueAsync = this._createKeyed(\"forceSetCachedValueAsync\");\n    refresh = this._createKeyed(\"refresh\");\n    invalidate = this._createKeyed(\"invalidate\");\n    onChange = this._createKeyed(\"onChange\");\n}\nclass AsyncValueCache {\n    _options;\n    _store;\n    _pendingPromise;\n    _fetcher;\n    _rateLimitOptions;\n    _subscriptionsCount = 0;\n    _unsubscribers = [];\n    constructor(fetcher, _options = {}) {\n        this._options = _options;\n        this._store = new AsyncStore();\n        this._rateLimitOptions = {\n            concurrency: 1,\n            throttleMs: 300,\n            ...filterUndefined(_options.rateLimiter ?? {}),\n        };\n        this._fetcher = rateLimited(fetcher, {\n            ...this._rateLimitOptions,\n            batchCalls: true,\n        });\n    }\n    isCacheAvailable() {\n        return this._store.isAvailable();\n    }\n    getIfCached() {\n        return this._store.get();\n    }\n    getOrWait(cacheStrategy) {\n        const cached = this.getIfCached();\n        if (cacheStrategy === \"read-write\" && cached.status === \"ok\") {\n            return resolved(cached.data);\n        }\n        return this._refetch(cacheStrategy);\n    }\n    _set(value) {\n        this._store.set(value);\n    }\n    _setAsync(value) {\n        const promise = pending(value);\n        this._pendingPromise = promise;\n        return pending(this._store.setAsync(promise));\n    }\n    _refetch(cacheStrategy) {\n        if (cacheStrategy === \"read-write\" && this._pendingPromise) {\n            return this._pendingPromise;\n        }\n        const promise = pending(this._fetcher());\n        if (cacheStrategy === \"never\") {\n            return promise;\n        }\n        return pending(this._setAsync(promise).then(() => promise));\n    }\n    forceSetCachedValue(value) {\n        this._set(value);\n    }\n    forceSetCachedValueAsync(value) {\n        return this._setAsync(value);\n    }\n    async refresh() {\n        return await this.getOrWait(\"write-only\");\n    }\n    async invalidate() {\n        this._store.setUnavailable();\n        this._pendingPromise = undefined;\n        return await this.refresh();\n    }\n    onChange(callback) {\n        const storeObj = this._store.onChange(callback);\n        if (this._subscriptionsCount++ === 0 && this._options.onSubscribe) {\n            const unsubscribe = this._options.onSubscribe(() => {\n                runAsynchronously(this.refresh());\n            });\n            this._unsubscribers.push(unsubscribe);\n        }\n        runAsynchronously(this.refresh());\n        let hasUnsubscribed = false;\n        return {\n            unsubscribe: () => {\n                if (hasUnsubscribed)\n                    return;\n                hasUnsubscribed = true;\n                storeObj.unsubscribe();\n                if (--this._subscriptionsCount === 0) {\n                    for (const unsubscribe of this._unsubscribers) {\n                        unsubscribe();\n                    }\n                }\n            },\n        };\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8510, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/lib/stack-app.ts"],"sourcesContent":["import React, { use, useCallback, useMemo } from \"react\";\nimport { KnownError, KnownErrors, OAuthProviderConfigJson, ServerUserJson, StackAdminInterface, StackClientInterface, StackServerInterface } from \"@stackframe/stack-shared\";\nimport { getCookie, setOrDeleteCookie } from \"./cookie\";\nimport { StackAssertionError, throwErr } from \"@stackframe/stack-shared/dist/utils/errors\";\nimport { generateUuid } from \"@stackframe/stack-shared/dist/utils/uuids\";\nimport { AsyncResult, Result } from \"@stackframe/stack-shared/dist/utils/results\";\nimport { suspendIfSsr } from \"@stackframe/stack-shared/dist/utils/react\";\nimport { AsyncStore } from \"@stackframe/stack-shared/dist/utils/stores\";\nimport { ClientProjectJson, UserJson, TokenObject, TokenStore, ProjectJson, EmailConfigJson, DomainConfigJson, ReadonlyTokenStore, getProductionModeErrors, ProductionModeError, UserUpdateJson, TeamJson, PermissionDefinitionJson, PermissionDefinitionScopeJson, TeamMemberJson } from \"@stackframe/stack-shared/dist/interface/clientInterface\";\nimport { isClient } from \"../utils/next\";\nimport { callOAuthCallback, signInWithOAuth } from \"./auth\";\nimport * as NextNavigation from \"next/navigation\";  // import the entire module to get around some static compiler warnings emitted by Next.js in some cases\nimport { ReadonlyJson } from \"@stackframe/stack-shared/dist/utils/json\";\nimport { constructRedirectUrl } from \"../utils/url\";\nimport { filterUndefined, omit } from \"@stackframe/stack-shared/dist/utils/objects\";\nimport { neverResolve, resolved, runAsynchronously, wait } from \"@stackframe/stack-shared/dist/utils/promises\";\nimport { AsyncCache } from \"@stackframe/stack-shared/dist/utils/caches\";\nimport { ApiKeySetBaseJson, ApiKeySetCreateOptions, ApiKeySetFirstViewJson, ApiKeySetJson, ProjectUpdateOptions } from \"@stackframe/stack-shared/dist/interface/adminInterface\";\nimport { suspend } from \"@stackframe/stack-shared/dist/utils/react\";\nimport { ServerPermissionDefinitionCustomizableJson, ServerPermissionDefinitionJson, ServerTeamCustomizableJson, ServerTeamJson, ServerTeamMemberJson, ServerUserUpdateJson } from \"@stackframe/stack-shared/dist/interface/serverInterface\";\n\nconst clientVersion = process.env.STACK_COMPILE_TIME_CLIENT_PACKAGE_VERSION ?? throwErr(\"Missing STACK_COMPILE_TIME_CLIENT_PACKAGE_VERSION. This should be a compile-time variable set by Stack's build system.\");\n\nexport type TokenStoreOptions<HasTokenStore extends boolean = boolean> =\n  HasTokenStore extends true ? \"cookie\" | \"nextjs-cookie\" | \"memory\" :\n  HasTokenStore extends false ? null :\n  TokenStoreOptions<true> | TokenStoreOptions<false>;\n\nexport type HandlerUrls = {\n  handler: string,\n  signIn: string,\n  afterSignIn: string,\n  signUp: string,\n  afterSignUp: string,\n  signOut: string,\n  afterSignOut: string,\n  emailVerification: string,\n  passwordReset: string,\n  forgotPassword: string,\n  home: string,\n  oauthCallback: string,\n  magicLinkCallback: string,\n  accountSettings: string,\n}\n\ntype ProjectCurrentUser<ProjectId> = ProjectId extends \"internal\" ? CurrentInternalUser : CurrentUser;\ntype ProjectCurrentSeverUser<ProjectId> = ProjectId extends \"internal\" ? CurrentInternalServerUser : CurrentServerUser;\n\nfunction permissionDefinitionScopeToType(scope: PermissionDefinitionScopeJson): 'team' | 'global' {\n  return ({\"any-team\": \"team\", \"specific-team\": \"team\", \"global\": \"global\"} as const)[scope.type];\n}\n\nfunction getUrls(partial: Partial<HandlerUrls>): HandlerUrls {\n  const handler = partial.handler ?? \"/handler\";\n  return {\n    handler,\n    signIn: `${handler}/signin`,\n    afterSignIn: \"/\",\n    signUp: `${handler}/signup`,\n    afterSignUp: \"/\",\n    signOut: `${handler}/signout`,\n    afterSignOut: \"/\",\n    emailVerification: `${handler}/email-verification`,\n    passwordReset: `${handler}/password-reset`,\n    forgotPassword: `${handler}/forgot-password`,\n    oauthCallback: `${handler}/oauth-callback`,\n    magicLinkCallback: `${handler}/magic-link-callback`,\n    home: \"/\",\n    accountSettings: `${handler}/account-settings`,\n    ...filterUndefined(partial),\n  };\n}\n\nfunction getDefaultProjectId() {\n  return process.env.NEXT_PUBLIC_STACK_PROJECT_ID || throwErr(new Error(\"Welcome to Stack! It seems that you haven't provided a project ID. Please create a project on the Stack dashboard at https://app.stack-auth.com and put it in the NEXT_PUBLIC_STACK_PROJECT_ID environment variable.\"));\n}\n\nfunction getDefaultPublishableClientKey() {\n  return process.env.NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY || throwErr(new Error(\"Welcome to Stack! It seems that you haven't provided a publishable client key. Please create an API key for your project on the Stack dashboard at https://app.stack-auth.com and copy your publishable client key into the NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY environment variable.\"));\n}\n\nfunction getDefaultSecretServerKey() {\n  return process.env.STACK_SECRET_SERVER_KEY || throwErr(new Error(\"No secret server key provided. Please copy your key from the Stack dashboard and put your it in the STACK_SECRET_SERVER_KEY environment variable.\"));\n}\n\nfunction getDefaultSuperSecretAdminKey() {\n  return process.env.STACK_SUPER_SECRET_ADMIN_KEY || throwErr(new Error(\"No super secret admin key provided. Please copy your key from the Stack dashboard and put it in the STACK_SUPER_SECRET_ADMIN_KEY environment variable.\"));\n}\n\nfunction getDefaultBaseUrl() {\n  return process.env.NEXT_PUBLIC_STACK_URL || defaultBaseUrl;\n}\n\nexport type StackClientAppConstructorOptions<HasTokenStore extends boolean, ProjectId extends string> = {\n  baseUrl?: string,\n  projectId?: ProjectId,\n  publishableClientKey?: string,\n  urls?: Partial<HandlerUrls>,\n\n  // we intersect with TokenStoreOptions in the beginning to make TypeScript error messages easier to read\n  tokenStore: TokenStoreOptions<HasTokenStore>,\n};\n\nexport type StackServerAppConstructorOptions<HasTokenStore extends boolean, ProjectId extends string> = StackClientAppConstructorOptions<HasTokenStore, ProjectId> & {\n  secretServerKey?: string,\n};\n\nexport type StackAdminAppConstructorOptions<HasTokenStore extends boolean, ProjectId extends string> = (\n  | (\n    & StackServerAppConstructorOptions<HasTokenStore, ProjectId>\n    & {\n      superSecretAdminKey?: string,\n    }\n  )\n  | (\n    & Omit<StackServerAppConstructorOptions<HasTokenStore, ProjectId>, \"publishableClientKey\" | \"secretServerKey\">\n    & {\n      projectOwnerTokens: ReadonlyTokenStore,\n    }\n  )\n);\n\nexport type StackClientAppJson<HasTokenStore extends boolean, ProjectId extends string> = StackClientAppConstructorOptions<HasTokenStore, ProjectId> & {\n  uniqueIdentifier: string,\n  // note: if you add more fields here, make sure to ensure the checkString in the constructor has/doesn't have them\n};\n\nconst defaultBaseUrl = \"https://app.stack-auth.com\";\n\nfunction createEmptyTokenStore() {\n  const store = new AsyncStore<TokenObject>();\n  store.set({\n    refreshToken: null,\n    accessToken: null,\n  });\n  return store;\n}\n\nconst memoryTokenStore = createEmptyTokenStore();\nlet cookieTokenStore: TokenStore | null = null;\nconst cookieTokenStoreInitializer = (): TokenStore => {\n  if (!isClient()) {\n    throw new Error(\"Cannot use cookie token store on the server!\");\n  }\n\n  if (cookieTokenStore === null) {\n    cookieTokenStore = new AsyncStore<TokenObject>();\n    let hasSucceededInWriting = true;\n\n    setInterval(() => {\n      if (hasSucceededInWriting) {\n        const newValue = {\n          refreshToken: getCookie('stack-refresh'),\n          accessToken: getCookie('stack-access'),\n        };\n        const res = cookieTokenStore!.get();\n        if (res.status !== \"ok\"\n          || res.data.refreshToken !== newValue.refreshToken\n          || res.data.accessToken !== newValue.accessToken\n        ) {\n          cookieTokenStore!.set(newValue);\n        }\n      }\n    }, 10);\n    cookieTokenStore.onChange((value) => {\n      try {\n        setOrDeleteCookie('stack-refresh', value.refreshToken, { maxAge: 60 * 60 * 24 * 365 });\n        setOrDeleteCookie('stack-access', value.accessToken, { maxAge: 60 * 60 * 24 });\n        hasSucceededInWriting = true;\n      } catch (e) {\n        hasSucceededInWriting = false;\n      }\n    });\n  }\n\n  return cookieTokenStore;\n};\n\nconst tokenStoreInitializers = new Map<TokenStoreOptions, () => TokenStore>([\n  [\"cookie\", cookieTokenStoreInitializer],\n  [\"nextjs-cookie\", () => {\n    if (isClient()) {\n      return cookieTokenStoreInitializer();\n    } else {\n      const store = new AsyncStore<TokenObject>();\n      store.set({\n        refreshToken: getCookie('stack-refresh'),\n        accessToken: getCookie('stack-access'),\n      });\n      store.onChange((value) => {\n        try {\n          setOrDeleteCookie('stack-refresh', value.refreshToken, { maxAge: 60 * 60 * 24 * 365 });\n          setOrDeleteCookie('stack-access', value.accessToken, { maxAge: 60 * 60 * 24 });\n        } catch (e) {\n          // ignore\n        }\n      });\n      return store;\n    }\n  }],\n  [\"memory\", () => memoryTokenStore],\n  [null, () => createEmptyTokenStore()],\n]);\nfunction getTokenStore(tokenStoreOptions: TokenStoreOptions) {\n  return (tokenStoreInitializers.get(tokenStoreOptions) ?? throwErr(`Invalid token store ${tokenStoreOptions}`))();\n}\n\nconst loadingSentinel = Symbol(\"stackAppCacheLoadingSentinel\");\nfunction useCache<D extends any[], T>(cache: AsyncCache<D, T>, dependencies: D, caller: string): T {\n  // we explicitly don't want to run this hook in SSR\n  suspendIfSsr(caller);\n\n  const subscribe = useCallback((cb: () => void) => {\n    const { unsubscribe } = cache.onChange(dependencies, () => cb());\n    return unsubscribe;\n  }, [cache, ...dependencies]);\n  const getSnapshot = useCallback(() => {\n    return AsyncResult.or(cache.getIfCached(dependencies), loadingSentinel);\n  }, [cache, ...dependencies]);\n\n  // note: we must use React.useSyncExternalStore instead of importing the function directly, as it will otherwise\n  // throw an error (\"can't import useSyncExternalStore from the server\")\n  const value = React.useSyncExternalStore(subscribe, getSnapshot, getSnapshot);\n\n  if (value === loadingSentinel) {\n    return use(cache.getOrWait(dependencies, \"read-write\"));\n  } else {\n    // still need to call `use` because React expects the control flow to not change across two re-renders with the same props/state and it detects that by hook invocations (including `use`)\n    return use(resolved(value));\n  }\n}\n\nexport const stackAppInternalsSymbol = Symbol.for(\"StackAppInternals\");\n\nconst allClientApps = new Map<string, [checkString: string, app: StackClientApp<any, any>]>();\n\nconst createCache = <D extends any[], T>(fetcher: (dependencies: D) => Promise<T>) => {\n  return new AsyncCache<D, T>(\n    async (dependencies) => await fetcher(dependencies),\n    {},\n  );\n};\n\n// note that we intentionally use TokenStore (a reference type) as a key instead of a stringified version of it, as different token stores with the same tokens should be treated differently\n// (if we wouldn't , we would cache users across requests on the server, which may cause issues)\nconst createCacheByTokenStore = <D extends any[], T>(fetcher: (tokenStore: TokenStore, extraDependencies: D) => Promise<T> ) => {\n  return new AsyncCache<[TokenStore, ...D], T>(\n    async ([tokenStore, ...extraDependencies]) => await fetcher(tokenStore, extraDependencies),\n    {\n      onSubscribe: ([tokenStore], refresh) => {\n        // TODO find a *clean* way to not refresh when the token change was made inside the fetcher (for example due to expired access token)\n        const handlerObj = tokenStore.onChange((newValue, oldValue) => {\n          if (JSON.stringify(newValue) === JSON.stringify(oldValue)) return;\n          refresh();\n        });\n        return () => handlerObj.unsubscribe();\n      },\n    },\n  );\n};\n\n\nclass _StackClientAppImpl<HasTokenStore extends boolean, ProjectId extends string = string> {\n  protected readonly _uniqueIdentifier: string;\n  protected _interface: StackClientInterface;\n  protected readonly _tokenStoreOptions: TokenStoreOptions<HasTokenStore>;\n  protected readonly _urlOptions: Partial<HandlerUrls>;\n\n  private readonly __DEMO_ENABLE_SLIGHT_FETCH_DELAY = false;\n\n  private readonly _currentUserCache = createCacheByTokenStore(async (tokenStore) => {\n    if (this.__DEMO_ENABLE_SLIGHT_FETCH_DELAY) {\n      await wait(2000);\n    }\n    const user = await this._interface.getClientUserByToken(tokenStore);\n    return Result.or(user, null);\n  });\n  private readonly _currentProjectCache = createCache(async () => {\n    return Result.orThrow(await this._interface.getClientProject());\n  });\n  private readonly _ownedProjectsCache = createCacheByTokenStore(async (tokenStore) => {\n    return await this._interface.listProjects(tokenStore);\n  });\n  private readonly _currentUserPermissionsCache = createCacheByTokenStore<\n    [string, 'team' | 'global', boolean], \n    PermissionDefinitionJson[]\n  >(async (tokenStore, [teamId, type, direct]) => {\n    return await this._interface.listClientUserTeamPermissions({ teamId, type, direct }, tokenStore);\n  });\n  private readonly _currentUserTeamsCache = createCacheByTokenStore(async (tokenStore) => {\n    return await this._interface.listClientUserTeams(tokenStore);\n  });\n\n  constructor(options:\n    & {\n      uniqueIdentifier?: string,\n      checkString?: string,\n    }\n    & (\n      | StackClientAppConstructorOptions<HasTokenStore, ProjectId>\n      | Pick<StackClientAppConstructorOptions<HasTokenStore, ProjectId>, \"tokenStore\" | \"urls\"> & {\n        interface: StackClientInterface,\n      }\n    )\n  ) {\n    if (\"interface\" in options) {\n      this._interface = options.interface;\n    } else {\n      this._interface = new StackClientInterface({\n        baseUrl: options.baseUrl ?? getDefaultBaseUrl(),\n        projectId: options.projectId ?? getDefaultProjectId(),\n        clientVersion,\n        publishableClientKey: options.publishableClientKey ?? getDefaultPublishableClientKey(),\n      });\n    }\n\n    this._tokenStoreOptions = options.tokenStore;\n    this._urlOptions = options.urls ?? {};\n\n    this._uniqueIdentifier = options.uniqueIdentifier ?? generateUuid();\n    if (allClientApps.has(this._uniqueIdentifier)) {\n      throw new StackAssertionError(\"A Stack client app with the same unique identifier already exists\");\n    }\n    allClientApps.set(this._uniqueIdentifier, [options.checkString ?? \"default check string\", this]);\n  }\n\n  protected hasPersistentTokenStore(): this is StackClientApp<true, ProjectId> {\n    return this._tokenStoreOptions !== null;\n  }\n\n  protected _ensurePersistentTokenStore(): asserts this is StackClientApp<true, ProjectId>  {\n    if (!this.hasPersistentTokenStore()) {\n      throw new Error(\"Cannot call this function on a Stack app without a persistent token store. Make sure the tokenStore option is set to a non-null value when initializing Stack.\");\n    }\n  }\n\n  protected isInternalProject(): this is { projectId: \"internal\" } {\n    return this.projectId === \"internal\";\n  }\n\n  protected _ensureInternalProject(): asserts this is { projectId: \"internal\" } {\n    if (!this.isInternalProject()) {\n      throw new Error(\"Cannot call this function on a Stack app with a project ID other than 'internal'.\");\n    }\n  }\n\n  protected _permissionFromJson(json: PermissionDefinitionJson): Permission {\n    const type = permissionDefinitionScopeToType(json.scope);\n  \n    if (type === 'team') {\n      return {\n        id: json.id,\n        type,\n        teamId: (json.scope as { teamId: string }).teamId,\n      };\n    } else {\n      return {\n        id: json.id,\n        type,\n      };\n    }\n  }\n\n  protected _teamFromJson(json: TeamJson): Team {\n    return {\n      id: json.id,\n      displayName: json.displayName,\n      createdAt: new Date(json.createdAtMillis),\n      toJson() {\n        return json;\n      },\n    };\n  }\n\n  protected _userFromJson(json: UserJson): User {\n    const app = this;\n    return {\n      projectId: json.projectId,\n      id: json.id,\n      displayName: json.displayName,\n      primaryEmail: json.primaryEmail,\n      primaryEmailVerified: json.primaryEmailVerified,\n      profileImageUrl: json.profileImageUrl,\n      signedUpAt: new Date(json.signedUpAtMillis),\n      clientMetadata: json.clientMetadata,\n      authMethod: json.authMethod,\n      hasPassword: json.hasPassword,\n      authWithEmail: json.authWithEmail,\n      oauthProviders: json.oauthProviders,\n      async getSelectedTeam() {\n        return await this.getTeam(json.selectedTeamId || \"\");\n      },\n      useSelectedTeam() {\n        return this.useTeam(json.selectedTeamId || \"\");\n      },\n      async getTeam(teamId: string) {\n        const teams = await this.listTeams();\n        return teams.find((t) => t.id === teamId) ?? null;\n      },\n      useTeam(teamId: string) {\n        const teams = this.useTeams();\n        return useMemo(() => {\n          return teams.find((t) => t.id === teamId) ?? null;\n        }, [teams, teamId]);\n      },\n      onTeamChange(teamId: string, callback: (team: Team | null) => void) {\n        return this.onTeamsChange((teams) => {\n          // TODO only call callback if the team actually changed\n          const team = teams.find((t) => t.id === teamId) ?? null;\n          callback(team);\n        });\n      },\n      async listTeams() {\n        const teams = await app._currentUserTeamsCache.getOrWait([getTokenStore(app._tokenStoreOptions)], \"write-only\");\n        return teams.map((json) => app._teamFromJson(json));\n      },\n      useTeams() {\n        const teams = useCache(app._currentUserTeamsCache, [getTokenStore(app._tokenStoreOptions)], \"user.useTeams()\");\n        return useMemo(() => teams.map((json) => app._teamFromJson(json)), [teams]);\n      },\n      onTeamsChange(callback: (value: Team[], oldValue: Team[] | undefined) => void) {\n        return app._currentUserTeamsCache.onChange([getTokenStore(app._tokenStoreOptions)], (value, oldValue) => {\n          callback(value.map((json) => app._teamFromJson(json)), oldValue?.map((json) => app._teamFromJson(json)));\n        });\n      },\n      async listPermissions(scope: Team, options?: { direct?: boolean }): Promise<Permission[]> {\n        const permissions = await app._currentUserPermissionsCache.getOrWait([getTokenStore(app._tokenStoreOptions), scope.id, 'team', !!options?.direct], \"write-only\");\n        return permissions.map((json) => app._permissionFromJson(json));\n      },\n      usePermissions(scope: Team, options?: { direct?: boolean }): Permission[] {\n        const permissions = useCache(app._currentUserPermissionsCache, [getTokenStore(app._tokenStoreOptions), scope.id, 'team', !!options?.direct], \"user.usePermissions()\");\n        return useMemo(() => permissions.map((json) => app._permissionFromJson(json)), [permissions]);\n      },\n      usePermission(scope: Team, permissionId: string): Permission | null {\n        const permissions = this.usePermissions(scope);\n        return useMemo(() => permissions.find((p) => p.id === permissionId) ?? null, [permissions, permissionId]);\n      },\n      async getPermission(scope: Team, permissionId: string): Promise<Permission | null> {\n        const permissions = await this.listPermissions(scope);\n        return permissions.find((p) => p.id === permissionId) ?? null;\n      },\n      async hasPermission(scope: Team, permissionId: string): Promise<boolean> {\n        return (await this.getPermission(scope, permissionId)) !== null;\n      },\n      toJson() {\n        return json;\n      },\n    };\n  }\n\n  protected _teamMemberFromJson(json: TeamMemberJson): TeamMember;\n  protected _teamMemberFromJson(json: TeamMemberJson | null): TeamMember | null;\n  protected _teamMemberFromJson(json: TeamMemberJson): TeamMember | null {\n    if (json === null) return null;\n    return {\n      teamId: json.teamId,\n      userId: json.userId,\n      displayName: json.displayName,\n    };\n  }\n\n  protected _currentUserFromJson(json: UserJson, tokenStore: TokenStore): ProjectCurrentUser<ProjectId>;\n  protected _currentUserFromJson(json: UserJson | null, tokenStore: TokenStore): ProjectCurrentUser<ProjectId> | null;\n  protected _currentUserFromJson(json: UserJson | null, tokenStore: TokenStore): ProjectCurrentUser<ProjectId> | null {\n    if (json === null) return null;\n    const app = this;\n    const currentUser: CurrentUser = {\n      ...this._userFromJson(json),\n      tokenStore,\n      async updateSelectedTeam(team: Team | null) {\n        await app._updateUser({ selectedTeamId: team?.id ?? null }, tokenStore);\n      },\n      update(update) {\n        return app._updateUser(update, tokenStore);\n      },\n      signOut() {\n        return app._signOut(tokenStore);\n      },\n      sendVerificationEmail() {\n        return app._sendVerificationEmail(tokenStore);\n      },\n      updatePassword(options: { oldPassword: string, newPassword: string}) {\n        return app._updatePassword(options, tokenStore);\n      },\n    };\n    if (this.isInternalProject()) {\n      const internalUser: CurrentInternalUser = {\n        ...currentUser,\n        createProject(newProject: ProjectUpdateOptions & { displayName: string }) {\n          return app._createProject(newProject);\n        },\n        listOwnedProjects() {\n          return app._listOwnedProjects();\n        },\n        useOwnedProjects() {\n          return app._useOwnedProjects();\n        },\n        onOwnedProjectsChange(callback: (projects: Project[]) => void) {\n          return app._onOwnedProjectsChange(callback);\n        }\n      };\n      Object.freeze(internalUser);\n      return internalUser;\n    } else {\n      Object.freeze(currentUser);\n      return currentUser as any;\n    }\n  }\n\n  protected _projectAdminFromJson(data: ProjectJson, adminInterface: StackAdminInterface, onRefresh: () => Promise<void>): Project {\n    if (data.id !== adminInterface.projectId) {\n      throw new Error(`The project ID of the provided project JSON (${data.id}) does not match the project ID of the app (${adminInterface.projectId})! This is a Stack bug.`);\n    }\n\n    return {\n      id: data.id,\n      displayName: data.displayName,\n      description: data.description,\n      createdAt: new Date(data.createdAtMillis),\n      userCount: data.userCount,\n      isProductionMode: data.isProductionMode,\n      evaluatedConfig: {\n        id: data.evaluatedConfig.id,\n        credentialEnabled: data.evaluatedConfig.credentialEnabled,\n        magicLinkEnabled: data.evaluatedConfig.magicLinkEnabled,\n        allowLocalhost: data.evaluatedConfig.allowLocalhost,\n        oauthProviders: data.evaluatedConfig.oauthProviders,\n        emailConfig: data.evaluatedConfig.emailConfig,\n        domains: data.evaluatedConfig.domains,\n        createTeamOnSignUp: data.evaluatedConfig.createTeamOnSignUp,\n      },\n\n      async update(update: ProjectUpdateOptions) {\n        await adminInterface.updateProject(update);\n        await onRefresh();\n      },\n\n      toJson() {\n        return data;\n      },\n\n      getProductionModeErrors() {\n        return getProductionModeErrors(this.toJson());\n      },\n    };\n  }\n\n  protected _createAdminInterface(forProjectId: string, tokenStore: TokenStore): StackAdminInterface {\n    return new StackAdminInterface({\n      baseUrl: this._interface.options.baseUrl,\n      projectId: forProjectId,\n      clientVersion,\n      projectOwnerTokens: tokenStore,\n    });\n  }\n\n  get projectId(): ProjectId {\n    return this._interface.projectId as ProjectId;\n  }\n\n  get urls(): Readonly<HandlerUrls> {\n    return getUrls(this._urlOptions);\n  }\n\n  protected async _redirectTo(handlerName: keyof HandlerUrls, options?: RedirectToOptions) {\n    const url = this.urls[handlerName];\n    if (!url) {\n      throw new Error(`No URL for handler name ${handlerName}`);\n    }\n\n    if (options?.replace) {\n      window.location.replace(url);\n    } else {\n      window.location.assign(url);\n    }\n    return await wait(2000);\n  }\n\n  async redirectToSignIn() { return await this._redirectTo(\"signIn\"); }\n  async redirectToSignUp() { return await this._redirectTo(\"signUp\"); }\n  async redirectToSignOut() { return await this._redirectTo(\"signOut\"); }\n  async redirectToEmailVerification() { return await this._redirectTo(\"emailVerification\"); }\n  async redirectToPasswordReset() { return await this._redirectTo(\"passwordReset\"); }\n  async redirectToForgotPassword() { return await this._redirectTo(\"forgotPassword\"); }\n  async redirectToHome() { return await this._redirectTo(\"home\"); }\n  async redirectToOAuthCallback() { return await this._redirectTo(\"oauthCallback\"); }\n  async redirectToMagicLinkCallback() { return await this._redirectTo(\"magicLinkCallback\"); }\n  async redirectToAfterSignIn() { return await this._redirectTo(\"afterSignIn\"); }\n  async redirectToAfterSignUp() { return await this._redirectTo(\"afterSignUp\"); }\n  async redirectToAfterSignOut() { return await this._redirectTo(\"afterSignOut\"); }\n  async redirectToAccountSettings() { return await this._redirectTo(\"accountSettings\"); }\n\n  async sendForgotPasswordEmail(email: string): Promise<KnownErrors[\"UserNotFound\"] | undefined> {\n    const redirectUrl = constructRedirectUrl(this.urls.passwordReset);\n    const error = await this._interface.sendForgotPasswordEmail(email, redirectUrl);\n    return error;\n  }\n\n  async sendMagicLinkEmail(email: string): Promise<KnownErrors[\"RedirectUrlNotWhitelisted\"] | undefined> {\n    const magicLinkRedirectUrl = constructRedirectUrl(this.urls.magicLinkCallback);\n    const error = await this._interface.sendMagicLinkEmail(email, magicLinkRedirectUrl);\n    return error;\n  }\n\n  async resetPassword(options: { password: string, code: string }): Promise<KnownErrors[\"PasswordResetError\"] | undefined> {\n    const error = await this._interface.resetPassword(options);\n    return error;\n  }\n\n  async verifyPasswordResetCode(code: string): Promise<KnownErrors[\"PasswordResetCodeError\"] | undefined> {\n    return await this._interface.verifyPasswordResetCode(code);\n  }\n\n  async verifyEmail(code: string): Promise<KnownErrors[\"EmailVerificationError\"] | undefined> {\n    return await this._interface.verifyEmail(code);\n  }\n\n  async getUser(options: GetUserOptions & { or: 'redirect' }): Promise<ProjectCurrentUser<ProjectId>>;\n  async getUser(options: GetUserOptions & { or: 'throw' }): Promise<ProjectCurrentUser<ProjectId>>;\n  async getUser(options?: GetUserOptions): Promise<ProjectCurrentUser<ProjectId> | null>;\n  async getUser(options?: GetUserOptions): Promise<ProjectCurrentUser<ProjectId> | null> {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const userJson = await this._currentUserCache.getOrWait([tokenStore], \"write-only\");\n\n    if (userJson === null) {\n      switch (options?.or) {\n        case 'redirect': {\n          NextNavigation.redirect(this.urls.signIn, NextNavigation.RedirectType.replace);\n          throw new Error(\"redirect should never return!\");\n        }\n        case 'throw': {\n          throw new Error(\"User is not signed in but getUser was called with { or: 'throw' }\");\n        }\n        default: {\n          return null;\n        }\n      }\n    }\n\n    return this._currentUserFromJson(userJson, tokenStore);\n  }\n\n  useUser(options: GetUserOptions & { or: 'redirect' }): ProjectCurrentUser<ProjectId>;\n  useUser(options: GetUserOptions & { or: 'throw' }): ProjectCurrentUser<ProjectId>;\n  useUser(options?: GetUserOptions): ProjectCurrentUser<ProjectId> | null;\n  useUser(options?: GetUserOptions): ProjectCurrentUser<ProjectId> | null {\n    this._ensurePersistentTokenStore();\n\n    const router = NextNavigation.useRouter();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const userJson = useCache(this._currentUserCache, [tokenStore], \"useUser()\");\n\n    if (userJson === null) {\n      switch (options?.or) {\n        case 'redirect': {\n          router.replace(this.urls.signIn);\n          suspend();\n          throw new StackAssertionError(\"suspend should never return\");\n        }\n        case 'throw': {\n          throw new Error(\"User is not signed in but useUser was called with { or: 'throw' }\");\n        }\n        case undefined:\n        case \"return-null\": {\n          // do nothing\n        }\n      }\n    }\n\n    return useMemo(() => {\n      return this._currentUserFromJson(userJson, tokenStore);\n    }, [userJson, tokenStore, options?.or]);\n  }\n\n  onUserChange(callback: (user: CurrentUser | null) => void) {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    return this._currentUserCache.onChange([tokenStore], (userJson) => {\n      callback(this._currentUserFromJson(userJson, tokenStore));\n    });\n  }\n\n  protected async _updateUser(update: UserUpdateJson, tokenStore: TokenStore) {\n    const res = await this._interface.setClientUserCustomizableData(update, tokenStore);\n    await this._refreshUser(tokenStore);\n    return res;\n  }\n\n  async signInWithOAuth(provider: string) {\n    this._ensurePersistentTokenStore();\n    await signInWithOAuth(this._interface, { provider, redirectUrl: this.urls.oauthCallback });\n  }\n\n  async signInWithCredential(options: {\n    email: string,\n    password: string,\n  }): Promise<KnownErrors[\"EmailPasswordMismatch\"] | undefined> {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const errorCode = await this._interface.signInWithCredential(options.email, options.password, tokenStore);\n    if (!errorCode) {\n      await this.redirectToAfterSignIn({ replace: true });\n    }\n    return errorCode;\n  }\n\n  async signUpWithCredential(options: {\n    email: string,\n    password: string,\n  }): Promise<KnownErrors[\"UserEmailAlreadyExists\"] | KnownErrors['PasswordRequirementsNotMet'] | undefined> {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const emailVerificationRedirectUrl = constructRedirectUrl(this.urls.emailVerification);\n    const errorCode = await this._interface.signUpWithCredential(\n      options.email, \n      options.password, \n      emailVerificationRedirectUrl, \n      tokenStore\n    );\n    if (!errorCode) {\n      await this.redirectToAfterSignUp({ replace: true });\n    }\n    return errorCode;\n  }\n\n  async signInWithMagicLink(code: string): Promise<KnownErrors[\"MagicLinkError\"] | undefined> {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const result = await this._interface.signInWithMagicLink(code, tokenStore);\n    if (result instanceof KnownError) {\n      return result;\n    }\n    if (result.newUser) {\n      await this.redirectToAfterSignUp({ replace: true });\n    } else {\n      await this.redirectToAfterSignIn({ replace: true });\n    }\n  }\n\n  async callOAuthCallback() {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const result = await callOAuthCallback(this._interface, tokenStore, this.urls.oauthCallback);\n    if (result) {\n      if (result.newUser) {\n        await this.redirectToAfterSignUp({ replace: true });\n        return true;\n      } else {\n        await this.redirectToAfterSignIn({ replace: true });\n        return true;\n      }\n    }\n    return false;\n  }\n\n  protected async _signOut(tokenStore: TokenStore): Promise<void> {\n    await this._interface.signOut(tokenStore);\n    await this.redirectToAfterSignOut();\n  }\n\n  protected async _sendVerificationEmail(tokenStore: TokenStore): Promise<KnownErrors[\"EmailAlreadyVerified\"] | undefined> {\n    const emailVerificationRedirectUrl = constructRedirectUrl(this.urls.emailVerification);\n    return await this._interface.sendVerificationEmail(emailVerificationRedirectUrl, tokenStore);\n  }\n\n  protected async _updatePassword(\n    options: { oldPassword: string, newPassword: string }, \n    tokenStore: TokenStore\n  ): Promise<KnownErrors[\"PasswordMismatch\"] | KnownErrors[\"PasswordRequirementsNotMet\"] | undefined> {\n    return await this._interface.updatePassword(options, tokenStore);\n  }\n\n  async signOut(): Promise<void> {\n    const user = await this.getUser();\n    if (user) {\n      await user.signOut();\n    }\n  }\n\n  async getProject(): Promise<ClientProjectJson> {\n    return await this._currentProjectCache.getOrWait([], \"write-only\");\n  }\n\n  useProject(): ClientProjectJson {\n    return useCache(this._currentProjectCache, [], \"useProject()\");\n  }\n\n  onProjectChange(callback: (project: ClientProjectJson) => void) {\n    return this._currentProjectCache.onChange([], callback);\n  }\n\n  protected async _listOwnedProjects(): Promise<Project[]> {\n    this._ensureInternalProject();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const json = await this._ownedProjectsCache.getOrWait([tokenStore], \"write-only\");\n    return json.map((j) => this._projectAdminFromJson(\n      j,\n      this._createAdminInterface(j.id, tokenStore),\n      () => this._refreshOwnedProjects(tokenStore),\n    ));\n  }\n\n  protected _useOwnedProjects(): Project[] {\n    this._ensureInternalProject();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const json = useCache(this._ownedProjectsCache, [tokenStore], \"useOwnedProjects()\");\n    return useMemo(() => json.map((j) => this._projectAdminFromJson(\n      j,\n      this._createAdminInterface(j.id, tokenStore),\n      () => this._refreshOwnedProjects(tokenStore),\n    )), [json]);\n  }\n\n  protected _onOwnedProjectsChange(callback: (projects: Project[]) => void) {\n    this._ensureInternalProject();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    return this._ownedProjectsCache.onChange([tokenStore], (projects) => {\n      callback(projects.map((j) => this._projectAdminFromJson(\n        j,\n        this._createAdminInterface(j.id, tokenStore),\n        () => this._refreshOwnedProjects(tokenStore),\n      )));\n    });\n  }\n\n  protected async _createProject(newProject: ProjectUpdateOptions & { displayName: string }): Promise<Project> {\n    this._ensureInternalProject();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const json = await this._interface.createProject(newProject, tokenStore);\n    const res = this._projectAdminFromJson(\n      json,\n      this._createAdminInterface(json.id, tokenStore),\n      () => this._refreshOwnedProjects(tokenStore),\n    );\n    await this._refreshOwnedProjects(tokenStore);\n    return res;\n  }\n\n  protected async _refreshUser(tokenStore: TokenStore) {\n    await this._currentUserCache.refresh([tokenStore]);\n  }\n\n  protected async _refreshUsers() {\n    // nothing yet\n  }\n  \n  protected async _refreshProject() {\n    await this._currentProjectCache.refresh([]);\n  }\n\n  protected async _refreshOwnedProjects(tokenStore: TokenStore) {\n    await this._ownedProjectsCache.refresh([tokenStore]);\n  }\n\n  static get [stackAppInternalsSymbol]() {\n    return {\n      fromClientJson: <HasTokenStore extends boolean, ProjectId extends string>(\n        json: StackClientAppJson<HasTokenStore, ProjectId>\n      ): StackClientApp<HasTokenStore, ProjectId> => {\n        const providedCheckString = JSON.stringify(omit(json, [/* none currently */]));\n        const existing = allClientApps.get(json.uniqueIdentifier);\n        if (existing) {\n          const [existingCheckString, clientApp] = existing;\n          if (existingCheckString !== providedCheckString) {\n            throw new StackAssertionError(\"The provided app JSON does not match the configuration of the existing client app with the same unique identifier\", { providedObj: json, existingString: existingCheckString });\n          }\n          return clientApp as any;\n        }\n\n        return new _StackClientAppImpl<HasTokenStore, ProjectId>({\n          ...json,\n          checkString: providedCheckString,\n        });\n      }\n    };\n  }\n\n  get [stackAppInternalsSymbol]() {\n    return {\n      toClientJson: (): StackClientAppJson<HasTokenStore, ProjectId> => {\n        if (!(\"publishableClientKey\" in this._interface.options)) {\n          // TODO find a way to do this\n          throw Error(\"Cannot serialize to JSON from an application without a publishable client key\");\n        }\n\n        return {\n          baseUrl: this._interface.options.baseUrl,\n          projectId: this.projectId,\n          publishableClientKey: this._interface.options.publishableClientKey,\n          tokenStore: this._tokenStoreOptions,\n          urls: this._urlOptions,\n          uniqueIdentifier: this._uniqueIdentifier,\n        };\n      },\n      setCurrentUser: (userJsonPromise: Promise<UserJson | null>) => {\n        runAsynchronously(this._currentUserCache.forceSetCachedValueAsync([getTokenStore(this._tokenStoreOptions)], userJsonPromise));\n      },\n    };\n  };\n}\n\nclass _StackServerAppImpl<HasTokenStore extends boolean, ProjectId extends string> extends _StackClientAppImpl<HasTokenStore, ProjectId>\n{\n  declare protected _interface: StackServerInterface;\n\n  // TODO override the client user cache to use the server user cache, so we save some requests\n  private readonly _currentServerUserCache = createCacheByTokenStore(async (tokenStore) => {\n    const user = await this._interface.getServerUserByToken(tokenStore);\n    return Result.or(user, null);\n  });\n  private readonly _serverUsersCache = createCache(async () => {\n    return await this._interface.listUsers();\n  });\n  private readonly _serverUserCache = createCache<string[], ServerUserJson | null>(async ([userId]) => {\n    const user = await this._interface.getServerUserById(userId);\n    return Result.or(user, null);\n  });\n  private readonly _serverTeamsCache = createCache(async () => {\n    return await this._interface.listTeams();\n  });\n  private readonly _serverTeamMembersCache = createCache<string[], TeamMemberJson[]>(async ([teamId]) => {\n    return await this._interface.listTeamMembers(teamId);\n  });\n  private readonly _serverTeamPermissionDefinitionsCache = createCache(async () => {\n    return await this._interface.listPermissionDefinitions();\n  });\n  private readonly _serverTeamUserPermissionsCache = createCache<\n    [string, string, 'team' | 'global', boolean], \n    ServerPermissionDefinitionJson[]\n  >(async ([teamId, userId, type, direct]) => {\n    return await this._interface.listTeamMemberPermissions({ teamId, userId, type, direct });\n  });\n\n\n  constructor(options: \n    | StackServerAppConstructorOptions<HasTokenStore, ProjectId>\n    | {\n      interface: StackServerInterface,\n      tokenStore: TokenStoreOptions<HasTokenStore>,\n      urls: Partial<HandlerUrls> | undefined,\n    }\n  ) {\n    super(\"interface\" in options ? {\n      interface: options.interface,\n      tokenStore: options.tokenStore,\n      urls: options.urls,\n    } : {\n      interface: new StackServerInterface({\n        baseUrl: options.baseUrl ?? getDefaultBaseUrl(),\n        projectId: options.projectId ?? getDefaultProjectId(),\n        clientVersion,\n        publishableClientKey: options.publishableClientKey ?? getDefaultPublishableClientKey(),\n        secretServerKey: options.secretServerKey ?? getDefaultSecretServerKey(),\n      }),\n      tokenStore: options.tokenStore,\n      urls: options.urls ?? {},\n    });\n  }\n\n  protected _serverUserFromJson(json: ServerUserJson): ServerUser;\n  protected _serverUserFromJson(json: ServerUserJson | null): ServerUser | null;\n  protected _serverUserFromJson(json: ServerUserJson | null): ServerUser | null {\n    if (json === null) return null;\n    const app = this;\n    return {\n      ...this._userFromJson(json),\n      serverMetadata: json.serverMetadata,\n      async delete() {\n        const res = await app._interface.deleteServerUser(this.id);\n        await app._refreshUsers();\n        return res;\n      },\n      async update(update: ServerUserUpdateJson) {\n        const res = await app._interface.setServerUserCustomizableData(this.id, update);\n        await app._refreshUsers();\n        return res;\n      },\n      getClientUser() {\n        return app._userFromJson(json);\n      },\n      async grantPermission(scope: Team, permissionId: string): Promise<void> {\n        await app._interface.grantTeamUserPermission(scope.id, json.id, permissionId, 'team');\n        for (const direct of [true, false]) {\n          await app._serverTeamUserPermissionsCache.refresh([scope.id, json.id, 'team', direct]);\n        }\n      },\n      async revokePermission(scope: Team, permissionId: string): Promise<void> {\n        await app._interface.revokeTeamUserPermission(scope.id, json.id, permissionId, 'team');\n        for (const direct of [true, false]) {\n          await app._serverTeamUserPermissionsCache.refresh([scope.id, json.id, 'team', direct]);\n        }\n      },\n      async getTeam(teamId: string) {\n        const teams = await this.listTeams();\n        return teams.find((t) => t.id === teamId) ?? null;\n      },\n      useTeam(teamId: string) {\n        const teams = this.useTeams();\n        return useMemo(() => {\n          return teams.find((t) => t.id === teamId) ?? null;\n        }, [teams, teamId]);\n      },\n      onTeamChange(teamId: string, callback: (team: ServerTeam | null) => void) {\n        return this.onTeamsChange((teams) => {\n          // TODO only call callback if the team actually changed\n          const team = teams.find((t) => t.id === teamId) ?? null;\n          callback(team);\n        });\n      },\n      async listTeams() {\n        const teams = await app._serverTeamsCache.getOrWait([getTokenStore(app._tokenStoreOptions)], \"write-only\");\n        return teams.map((json) => app._serverTeamFromJson(json));\n      },\n      useTeams() {\n        const teams = useCache(app._serverTeamsCache, [getTokenStore(app._tokenStoreOptions)], \"user.useTeams()\");\n        return useMemo(() => teams.map((json) => app._serverTeamFromJson(json)), [teams]);\n      },\n      onTeamsChange(callback: (value: ServerTeam[], oldValue: ServerTeam[] | undefined) => void) {\n        return app._serverTeamsCache.onChange([getTokenStore(app._tokenStoreOptions)], (value, oldValue) => {\n          callback(value.map((json) => app._serverTeamFromJson(json)), oldValue?.map((json) => app._serverTeamFromJson(json)));\n        });\n      },\n      async listPermissions(scope: Team, options?: { direct?: boolean }): Promise<ServerPermission[]> {\n        const permissions = await app._serverTeamUserPermissionsCache.getOrWait([scope.id, json.id, 'team', !!options?.direct], \"write-only\");\n        return permissions.map((json) => app._serverPermissionFromJson(json));\n      },\n      usePermissions(scope: Team, options?: { direct?: boolean }): ServerPermission[] {\n        const permissions = useCache(app._serverTeamUserPermissionsCache, [scope.id, json.id, 'team', !!options?.direct], \"user.usePermissions()\");\n        return useMemo(() => permissions.map((json) => app._serverPermissionFromJson(json)), [permissions]);\n      },\n      usePermission(scope: Team, permissionId: string): ServerPermission | null {\n        const permissions = this.usePermissions(scope);\n        return useMemo(() => permissions.find((p) => p.id === permissionId) ?? null, [permissions, permissionId]);\n      },\n      async getPermission(scope: Team, permissionId: string): Promise<ServerPermission | null> {\n        const permissions = await this.listPermissions(scope);\n        return permissions.find((p) => p.id === permissionId) ?? null;\n      },\n      async hasPermission(scope: Team, permissionId: string): Promise<boolean> {\n        const permissions = await this.listPermissions(scope);\n        return permissions.some((p) => p.id === permissionId);\n      },\n      toJson() {\n        return json;\n      },\n    };\n  }\n\n  protected _currentServerUserFromJson(json: ServerUserJson, tokenStore: TokenStore): ProjectCurrentSeverUser<ProjectId>;\n  protected _currentServerUserFromJson(json: ServerUserJson | null, tokenStore: TokenStore): ProjectCurrentSeverUser<ProjectId> | null;\n  protected _currentServerUserFromJson(json: ServerUserJson | null, tokenStore: TokenStore): ProjectCurrentSeverUser<ProjectId> | null {\n    if (json === null) return null;\n    const app = this;\n    const nonCurrentServerUser = this._serverUserFromJson(json);\n    const currentUser: CurrentServerUser = {\n      ...nonCurrentServerUser,\n      tokenStore,\n      async delete() {\n        const res = await nonCurrentServerUser.delete();\n        await app._refreshUser(tokenStore);\n        return res;\n      },\n      async updateSelectedTeam(team: Team | null) {\n        await this.update({ selectedTeamId: team?.id ?? null });\n      },\n      async update(update: ServerUserUpdateJson) {\n        const res = await nonCurrentServerUser.update(update);\n        await app._refreshUser(tokenStore);\n        return res;\n      },  \n      signOut() {\n        return app._signOut(tokenStore);\n      },\n      getClientUser() {\n        return app._currentUserFromJson(json, tokenStore);\n      },\n      sendVerificationEmail() {\n        return app._sendVerificationEmail(tokenStore);\n      },\n      updatePassword(options: { oldPassword: string, newPassword: string}) {\n        return app._updatePassword(options, tokenStore);\n      },\n    };\n\n    if (this.isInternalProject()) {\n      const internalUser: CurrentInternalServerUser = {\n        ...currentUser,\n        createProject(newProject: ProjectUpdateOptions & { displayName: string }) {\n          return app._createProject(newProject);\n        },\n        listOwnedProjects() {\n          return app._listOwnedProjects();\n        },\n        useOwnedProjects() {\n          return app._useOwnedProjects();\n        },\n        onOwnedProjectsChange(callback: (projects: Project[]) => void) {\n          return app._onOwnedProjectsChange(callback);\n        }\n      };\n      Object.freeze(internalUser);\n      return internalUser;\n    } else {\n      Object.freeze(currentUser);\n      return currentUser as any;\n    }\n  }\n\n  protected _serverTeamMemberFromJson(json: ServerTeamMemberJson): ServerTeamMember;\n  protected _serverTeamMemberFromJson(json: ServerTeamMemberJson | null): ServerTeamMember | null;\n  protected _serverTeamMemberFromJson(json: ServerTeamMemberJson | null): ServerTeamMember | null {\n    if (json === null) return null;\n    const app = this;\n    return {\n      ...app._teamMemberFromJson(json),\n      async getUser() {\n        const user = app._serverUserFromJson(await app._serverUserCache.getOrWait([json.userId], \"write-only\"));\n        if (!user) throw new Error(`User ${json.userId} not found`);\n        return user;\n      }\n    };\n  }\n\n  protected _serverTeamFromJson(json: ServerTeamJson): ServerTeam {\n    const app = this;\n    return {\n      id: json.id,\n      displayName: json.displayName,\n      createdAt: new Date(json.createdAtMillis),\n      async listMembers() {\n        return (await app._interface.listTeamMembers(json.id)).map((u) => app._serverTeamMemberFromJson(u));\n      },\n      async update(update: Partial<ServerTeamCustomizableJson>) {\n        await app._interface.updateTeam(json.id, update);\n        await app._serverTeamsCache.refresh([]);\n      },\n      async delete() {\n        await app._interface.deleteTeam(json.id);\n        await app._serverTeamsCache.refresh([]);\n      },\n      useMembers() {\n        const result = useCache(app._serverTeamMembersCache, [json.id], \"team.useUsers()\");\n        return useMemo(() => result.map((u) => app._serverTeamMemberFromJson(u)), [result]);\n      },\n      async addUser(userId) {\n        await app._interface.addUserToTeam({\n          teamId: json.id,\n          userId,\n        });\n        await app._serverTeamMembersCache.refresh([json.id]);\n      },\n      async removeUser(userId) {\n        await app._interface.removeUserFromTeam({\n          teamId: json.id,\n          userId,\n        });\n        await app._serverTeamMembersCache.refresh([json.id]);\n      },\n      toJson() {\n        return json;\n      },\n    };\n  }\n\n  async getServerUser(): Promise<ProjectCurrentSeverUser<ProjectId> | null> {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const userJson = await this._currentServerUserCache.getOrWait([tokenStore], \"write-only\");\n    return this._currentServerUserFromJson(userJson, tokenStore);\n  }\n\n  async getServerUserById(userId: string): Promise<ServerUser | null> {\n    const json = await this._serverUserCache.getOrWait([userId], \"write-only\");\n    return this._serverUserFromJson(json);\n  }\n\n  useServerUser(options?: { required: boolean }): ProjectCurrentSeverUser<ProjectId> | null {\n    this._ensurePersistentTokenStore();\n\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    const userJson = useCache(this._currentServerUserCache, [tokenStore], \"useServerUser()\");\n\n    return useMemo(() => {\n      if (options?.required && userJson === null) {\n        use(this.redirectToSignIn());\n      }\n\n      return this._currentServerUserFromJson(userJson, tokenStore);\n    }, [userJson, tokenStore, options?.required]);\n  }\n\n  onServerUserChange(callback: (user: CurrentServerUser | null) => void) {\n    this._ensurePersistentTokenStore();\n    const tokenStore = getTokenStore(this._tokenStoreOptions);\n    return this._currentServerUserCache.onChange([tokenStore], (userJson) => {\n      callback(this._currentServerUserFromJson(userJson, tokenStore));\n    });\n  }\n\n  async listServerUsers(): Promise<ServerUser[]> {\n    const json = await this._serverUsersCache.getOrWait([], \"write-only\");\n    return json.map((j) => this._serverUserFromJson(j));\n  }\n\n  useServerUsers(): ServerUser[] {\n    const json = useCache(this._serverUsersCache, [], \"useServerUsers()\");\n    return useMemo(() => {\n      return json.map((j) => this._serverUserFromJson(j));\n    }, [json]);\n  }\n\n  onServerUsersChange(callback: (users: ServerUser[]) => void) {\n    return this._serverUsersCache.onChange([], (users) => {\n      callback(users.map((j) => this._serverUserFromJson(j)));\n    });\n  }\n\n  async listPermissionDefinitions(): Promise<ServerPermissionDefinitionJson[]> {\n    return await this._serverTeamPermissionDefinitionsCache.getOrWait([], \"write-only\");\n  }\n\n  usePermissionDefinitions(): ServerPermissionDefinitionJson[] {\n    return useCache(this._serverTeamPermissionDefinitionsCache, [], \"usePermissions()\");\n  }\n\n  _serverPermissionFromJson(json: ServerPermissionDefinitionJson): ServerPermission {\n    return {\n      ...this._permissionFromJson(json),\n      __databaseUniqueId: json.__databaseUniqueId,\n      description: json.description,\n      containPermissionIds: json.containPermissionIds,\n    };\n  }\n\n  async createPermissionDefinition(data: ServerPermissionDefinitionCustomizableJson): Promise<ServerPermission>{\n    const permission = await this._serverPermissionFromJson(await this._interface.createPermissionDefinition(data));\n    await this._serverTeamPermissionDefinitionsCache.refresh([]);\n    return permission;\n  }\n\n  async updatePermissionDefinition(permissionId: string, data: Partial<ServerPermissionDefinitionCustomizableJson>) {\n    await this._interface.updatePermissionDefinition(permissionId, data);\n    await this._serverTeamPermissionDefinitionsCache.refresh([]);\n  }\n\n  async deletePermissionDefinition(permissionId: string): Promise<void> {\n    await this._interface.deletePermissionDefinition(permissionId);\n    await this._serverTeamPermissionDefinitionsCache.refresh([]);\n  }\n\n  async listTeams(): Promise<ServerTeam[]> {\n    const teams = await this._serverTeamsCache.getOrWait([], \"write-only\");\n    return teams.map((t) => this._serverTeamFromJson(t));\n  }\n\n  async createTeam(data: ServerTeamCustomizableJson) : Promise<ServerTeam> {\n    const team = await this._interface.createTeam(data);\n    await this._serverTeamsCache.refresh([]);\n    return this._serverTeamFromJson(team);\n  }\n\n  useTeams(): ServerTeam[] {\n    const teams = useCache(this._serverTeamsCache, [], \"useServerTeams()\");\n    return useMemo(() => {\n      return teams.map((t) => this._serverTeamFromJson(t));\n    }, [teams]);\n  }\n\n  async getTeam(teamId: string): Promise<ServerTeam | null> {\n    const teams = await this.listTeams();\n    return teams.find((t) => t.id === teamId) ?? null;\n  }\n\n  useTeam(teamId: string): ServerTeam | null {\n    const teams = this.useTeams();\n    return useMemo(() => {\n      return teams.find((t) => t.id === teamId) ?? null;\n    }, [teams, teamId]);\n  }\n\n  protected override async _refreshUser(tokenStore: TokenStore) {\n    await Promise.all([\n      super._refreshUser(tokenStore),\n      this._currentServerUserCache.refresh([tokenStore]),\n    ]);\n  }\n\n  protected override async _refreshUsers() {\n    await Promise.all([\n      super._refreshUsers(),\n      this._serverUsersCache.refresh([]),\n    ]);\n  }\n}\n\nclass _StackAdminAppImpl<HasTokenStore extends boolean, ProjectId extends string> extends _StackServerAppImpl<HasTokenStore, ProjectId>\n{\n  declare protected _interface: StackAdminInterface;\n  \n  private readonly _adminProjectCache = createCache(async () => {\n    return await this._interface.getProject();\n  });\n  private readonly _apiKeySetsCache = createCache(async () => {\n    return await this._interface.listApiKeySets();\n  });\n\n  constructor(options: StackAdminAppConstructorOptions<HasTokenStore, ProjectId>) {\n    super({\n      interface: new StackAdminInterface({\n        baseUrl: options.baseUrl ?? getDefaultBaseUrl(),\n        projectId: options.projectId ?? getDefaultProjectId(),\n        clientVersion,\n        ...\"projectOwnerTokens\" in options ? {\n          projectOwnerTokens: options.projectOwnerTokens,\n        } : {\n          publishableClientKey: options.publishableClientKey ?? getDefaultPublishableClientKey(),\n          secretServerKey: options.secretServerKey ?? getDefaultSecretServerKey(),\n          superSecretAdminKey: options.superSecretAdminKey ?? getDefaultSuperSecretAdminKey(),\n        },\n      }),\n      tokenStore: options.tokenStore,\n      urls: options.urls,\n    });\n  }\n\n\n  protected _createApiKeySetBaseFromJson(data: ApiKeySetBaseJson): ApiKeySetBase {\n    const app = this;\n    return {\n      id: data.id,\n      description: data.description,\n      expiresAt: new Date(data.expiresAtMillis),\n      manuallyRevokedAt: data.manuallyRevokedAtMillis ? new Date(data.manuallyRevokedAtMillis) : null,\n      createdAt: new Date(data.createdAtMillis),\n      isValid() {\n        return this.whyInvalid() === null;\n      },\n      whyInvalid() {\n        if (this.expiresAt.getTime() < Date.now()) return \"expired\";\n        if (this.manuallyRevokedAt) return \"manually-revoked\";\n        return null;\n      },\n      async revoke() {\n        const res = await app._interface.revokeApiKeySetById(data.id);\n        await app._refreshApiKeySets();\n        return res;\n      }\n    };\n  }\n\n  protected _createApiKeySetFromJson(data: ApiKeySetJson): ApiKeySet {\n    return {\n      ...this._createApiKeySetBaseFromJson(data),\n      publishableClientKey: data.publishableClientKey ? { lastFour: data.publishableClientKey.lastFour } : null,\n      secretServerKey: data.secretServerKey ? { lastFour: data.secretServerKey.lastFour } : null,\n      superSecretAdminKey: data.superSecretAdminKey ? { lastFour: data.superSecretAdminKey.lastFour } : null,\n    };\n  }\n\n  protected _createApiKeySetFirstViewFromJson(data: ApiKeySetFirstViewJson): ApiKeySetFirstView {\n    return {\n      ...this._createApiKeySetBaseFromJson(data),\n      publishableClientKey: data.publishableClientKey,\n      secretServerKey: data.secretServerKey,\n      superSecretAdminKey: data.superSecretAdminKey,\n    };\n  }\n\n  async getProjectAdmin(): Promise<Project> {\n    return this._projectAdminFromJson(\n      await this._adminProjectCache.getOrWait([], \"write-only\"),\n      this._interface,\n      () => this._refreshProject()\n    );\n  }\n\n  useProjectAdmin(): Project {\n    const json = useCache(this._adminProjectCache, [], \"useProjectAdmin()\");\n    return useMemo(() => this._projectAdminFromJson(\n      json,\n      this._interface,\n      () => this._refreshProject()\n    ), [json]);\n  }\n\n  onProjectAdminChange(callback: (project: Project) => void) {\n    return this._adminProjectCache.onChange([], (project) => {\n      callback(this._projectAdminFromJson(\n        project,\n        this._interface,\n        () => this._refreshProject()\n      ));\n    });\n  }\n\n  async listApiKeySets(): Promise<ApiKeySet[]> {\n    const json = await this._apiKeySetsCache.getOrWait([], \"write-only\");\n    return json.map((j) => this._createApiKeySetFromJson(j));\n  }\n\n  useApiKeySets(): ApiKeySet[] {\n    const json = useCache(this._apiKeySetsCache, [], \"useApiKeySets()\");\n    return useMemo(() => {\n      return json.map((j) => this._createApiKeySetFromJson(j));\n    }, [json]);\n  }\n\n  onApiKeySetsChange(callback: (apiKeySets: ApiKeySet[]) => void) {\n    return this._apiKeySetsCache.onChange([], (apiKeySets) => {\n      callback(apiKeySets.map((j) => this._createApiKeySetFromJson(j)));\n    });\n  }\n\n  async createApiKeySet(options: ApiKeySetCreateOptions): Promise<ApiKeySetFirstView> {\n    const json = await this._interface.createApiKeySet(options);\n    await this._refreshApiKeySets();\n    return this._createApiKeySetFirstViewFromJson(json);\n  }\n\n  protected override async _refreshProject() {\n    await Promise.all([\n      super._refreshProject(),\n      this._adminProjectCache.refresh([]),\n    ]);\n  }\n\n  protected async _refreshApiKeySets() {\n    await this._apiKeySetsCache.refresh([]);\n  }\n}\n\ntype RedirectToOptions = {\n  replace?: boolean,\n};\n\ntype Auth<T, C> = {\n  readonly tokenStore: ReadonlyTokenStore,\n  updateSelectedTeam(this: T, team: Team | null): Promise<void>,\n  update(this: T, user: C): Promise<void>,\n  signOut(this: T): Promise<void>,\n  sendVerificationEmail(this: T): Promise<KnownErrors[\"EmailAlreadyVerified\"] | undefined>,\n  updatePassword(this: T, options: { oldPassword: string, newPassword: string}): Promise<KnownErrors[\"PasswordMismatch\"] | KnownErrors[\"PasswordRequirementsNotMet\"] | undefined>,\n};\n\ntype InternalAuth<T> = {\n  createProject(this: T, newProject: ProjectUpdateOptions & { displayName: string }): Promise<Project>,\n  listOwnedProjects(this: T): Promise<Project[]>,\n  useOwnedProjects(this: T): Project[],\n  onOwnedProjectsChange(this: T, callback: (projects: Project[]) => void): void,\n};\n\nexport type User = (\n  & {\n    readonly projectId: string,\n    readonly id: string,\n\n    readonly displayName: string | null,\n\n    /**\n     * The user's email address.\n     *\n     * Note: This might NOT be unique across multiple users, so always use `id` for unique identification.\n     */\n    readonly primaryEmail: string | null,\n    readonly primaryEmailVerified: boolean,\n\n    readonly profileImageUrl: string | null,\n\n    readonly signedUpAt: Date,\n\n    readonly clientMetadata: ReadonlyJson,\n\n    readonly authMethod: 'credential' | 'oauth', // not used anymore, for backwards compatibility\n    readonly hasPassword: boolean,\n    readonly authWithEmail: boolean,\n    readonly oauthProviders: readonly string[],\n\n    hasPermission(this: CurrentUser, scope: Team, permissionId: string): Promise<boolean>,\n    getSelectedTeam(this: CurrentUser): Promise<Team | null>,\n    useSelectedTeam(this: CurrentUser): Team | null,\n\n    toJson(this: CurrentUser): UserJson,\n  }\n  & AsyncStoreProperty<\"team\", [id: string], Team | null, false>\n  & AsyncStoreProperty<\"teams\", [], Team[], true>\n  & Omit<AsyncStoreProperty<\"permission\", [scope: Team, permissionId: string, options?: { direct?: boolean }], Permission | null, false>, \"onPermissionChange\">\n  & Omit<AsyncStoreProperty<\"permissions\", [scope: Team, options?: { direct?: boolean }], Permission[], true>, \"onPermissionsChange\">\n);\n\nexport type CurrentUser = Auth<User, UserUpdateJson> & User;\n\nexport type CurrentInternalUser = CurrentUser & InternalAuth<CurrentUser>;\n\n/**\n * A user including sensitive fields that should only be used on the server, never sent to the client\n * (such as sensitive information and serverMetadata).\n */\nexport type ServerUser = (\n  Omit<\n    User, \n    'hasPermission' | 'toJson' \n      | keyof AsyncStoreProperty<\"team\", [], Team | null, false>\n      | keyof AsyncStoreProperty<\"teams\", [], Team[], true>\n      | keyof AsyncStoreProperty<\"permission\", [], Permission[], false> \n      | keyof AsyncStoreProperty<\"permissions\", [], Permission[], true> \n  > & {\n    readonly serverMetadata: ReadonlyJson,\n\n    /**\n     * Returns a new user object with the sensitive fields removed.\n     */\n    getClientUser(this: ServerUser): User,\n\n    update(this: ServerUser, user: Partial<ServerUserUpdateJson>): Promise<void>,\n    delete(this: ServerUser): Promise<void>,\n\n    grantPermission(scope: Team, permissionId: string): Promise<void>,\n    revokePermission(scope: Team, permissionId: string): Promise<void>,\n\n    hasPermission(scope: Team, permissionId: string): Promise<boolean>,\n\n    toJson(this: ServerUser): ServerUserJson,\n  } \n  & AsyncStoreProperty<\"team\", [id: string], ServerTeam | null, false>\n  & AsyncStoreProperty<\"teams\", [], ServerTeam[], true>\n  & Omit<AsyncStoreProperty<\"permission\", [scope: Team, permissionId: string, options?: { direct?: boolean }], ServerPermission | null, false>, \"onPermissionChange\">\n  & Omit<AsyncStoreProperty<\"permissions\", [scope: Team, options?: { direct?: boolean }], ServerPermission[], true>, \"onPermissionsChange\">\n)\n\nexport type CurrentServerUser = Auth<ServerUser, ServerUserUpdateJson> & Omit<ServerUser, \"getClientUser\"> & {\n  getClientUser(this: CurrentServerUser): CurrentUser,\n};\n\nexport type CurrentInternalServerUser = CurrentServerUser & InternalAuth<CurrentServerUser>;\n\nexport type Project = {\n  readonly id: string,\n  readonly displayName: string,\n  readonly description?: string,\n  readonly createdAt: Date,\n  readonly userCount: number,\n  readonly isProductionMode: boolean,\n  readonly evaluatedConfig: {\n    readonly id: string,\n    readonly allowLocalhost: boolean,\n    readonly credentialEnabled: boolean,\n    readonly magicLinkEnabled: boolean,\n    readonly oauthProviders: OAuthProviderConfig[],\n    readonly emailConfig?: EmailConfig,\n    readonly domains: DomainConfig[],\n    readonly createTeamOnSignUp: boolean,\n  },\n\n  update(this: Project, update: ProjectUpdateOptions): Promise<void>,\n\n  toJson(this: Project): ProjectJson,\n\n  getProductionModeErrors(this: Project): ProductionModeError[],\n};\n\nexport type Team = {\n  id: string,\n  displayName: string,\n  createdAt: Date,\n\n  toJson(this: Team): TeamJson,\n};\n\nexport type ServerTeam = Team & {\n  listMembers(): Promise<ServerTeamMember[]>,\n  useMembers(): ServerTeamMember[],\n  update(update: Partial<ServerTeamCustomizableJson>): Promise<void>,\n  delete(): Promise<void>,\n  addUser(userId: string): Promise<void>,\n  removeUser(userId: string): Promise<void>,\n};\n\nexport type TeamMember = {\n  userId: string,\n  teamId: string,\n  displayName: string | null,\n}\n\nexport type ServerTeamMember = TeamMember & {\n  getUser(): Promise<ServerUser>,\n}\n\nexport type Permission = {\n  id: string,\n} & (\n  | { type: \"global\" }\n  | { type: \"team\", teamId: string }\n);\n\nexport type ServerPermission = Permission & {\n  readonly __databaseUniqueId: string,\n  readonly description?: string,\n  readonly containPermissionIds: string[],\n};\n\n\nexport type ApiKeySetBase = {\n  id: string,\n  description: string,\n  expiresAt: Date,\n  manuallyRevokedAt: Date | null,\n  createdAt: Date,\n  isValid(): boolean,\n  whyInvalid(): \"expired\" | \"manually-revoked\" | null,\n  revoke(): Promise<void>,\n};\n\nexport type ApiKeySetFirstView = ApiKeySetBase & {\n  publishableClientKey?: string,\n  secretServerKey?: string,\n  superSecretAdminKey?: string,\n};\n\nexport type ApiKeySet = ApiKeySetBase & {\n  publishableClientKey: null | {\n    lastFour: string,\n  },\n  secretServerKey: null | {\n    lastFour: string,\n  },\n  superSecretAdminKey: null | {\n    lastFour: string,\n  },\n};\n\n\nexport type EmailConfig = EmailConfigJson;\n\nexport type DomainConfig = DomainConfigJson;\n\nexport type OAuthProviderConfig = OAuthProviderConfigJson;\n\nexport type GetUserOptions = {\n  or?: 'redirect' | 'throw' | 'return-null',\n};\n\ntype SplitArgs<T extends any[], U extends number> = [\n  ...Parameters<Extract<T[U], (...args: any) => any>>,\n  Omit<T, U>\n];\n\ntype AsyncStoreProperty<Name extends string, Args extends any[], Value, IsMultiple extends boolean> =\n  & { [key in `${IsMultiple extends true ? \"list\" : \"get\"}${Capitalize<Name>}`]: (...args: Args) => Promise<Value> }\n  & { [key in `on${Capitalize<Name>}Change`]: (...tupleArgs: [...args: Args, callback: (value: Value) => void]) => void }\n  & { [key in `use${Capitalize<Name>}`]: (...args: Args) => Value }\n\nexport type StackClientApp<HasTokenStore extends boolean = boolean, ProjectId extends string = string> = (\n  & {\n    readonly projectId: ProjectId,\n\n    readonly urls: Readonly<HandlerUrls>,\n\n    signInWithOAuth(provider: string): Promise<void>,\n    signInWithCredential(options: { email: string, password: string }): Promise<KnownErrors[\"EmailPasswordMismatch\"] | undefined>,\n    signUpWithCredential(options: { email: string, password: string }): Promise<KnownErrors[\"UserEmailAlreadyExists\"] | KnownErrors[\"PasswordRequirementsNotMet\"] | undefined>,\n    callOAuthCallback(): Promise<boolean>,\n    sendForgotPasswordEmail(email: string): Promise<KnownErrors[\"UserNotFound\"] | undefined>,\n    sendMagicLinkEmail(email: string): Promise<KnownErrors[\"RedirectUrlNotWhitelisted\"] | undefined>,\n    resetPassword(options: { code: string, password: string }): Promise<KnownErrors[\"PasswordResetError\"] | undefined>,\n    verifyPasswordResetCode(code: string): Promise<KnownErrors[\"PasswordResetCodeError\"] | undefined>,\n    verifyEmail(code: string): Promise<KnownErrors[\"EmailVerificationError\"] | undefined>,\n    signInWithMagicLink(code: string): Promise<KnownErrors[\"MagicLinkError\"] | undefined>,\n\n    [stackAppInternalsSymbol]: {\n      toClientJson(): StackClientAppJson<HasTokenStore, ProjectId>,\n      setCurrentUser(userJsonPromise: Promise<UserJson | null>): void,\n    },\n  }\n  & AsyncStoreProperty<\"project\", [], ClientProjectJson, false>\n  & { [K in `redirectTo${Capitalize<keyof Omit<HandlerUrls, 'handler' | 'oauthCallback'>>}`]: (options?: RedirectToOptions) => Promise<void> }\n  & (HasTokenStore extends false\n    ? {}\n    : {\n      redirectToOAuthCallback(): Promise<void>,\n      useUser(options: GetUserOptions & { or: 'redirect' }): ProjectCurrentUser<ProjectId>,\n      useUser(options: GetUserOptions & { or: 'throw' }): ProjectCurrentUser<ProjectId>,\n      useUser(options?: GetUserOptions): ProjectCurrentUser<ProjectId> | null,\n      getUser(options: GetUserOptions & { or: 'redirect' }): Promise<ProjectCurrentUser<ProjectId>>,\n      getUser(options: GetUserOptions & { or: 'throw' }): Promise<ProjectCurrentUser<ProjectId>>,\n      getUser(options?: GetUserOptions): Promise<ProjectCurrentUser<ProjectId> | null>,\n      onUserChange: AsyncStoreProperty<\"user\", [], CurrentUser | null, false>[\"onUserChange\"],\n    })\n);\ntype StackClientAppConstructor = {\n  new <\n    TokenStoreType extends string,\n    HasTokenStore extends (TokenStoreType extends {} ? true : boolean),\n    ProjectId extends string\n  >(options: StackClientAppConstructorOptions<HasTokenStore, ProjectId>): StackClientApp<HasTokenStore, ProjectId>,\n  new (options: StackClientAppConstructorOptions<boolean, string>): StackClientApp<boolean, string>,\n\n  [stackAppInternalsSymbol]: {\n    fromClientJson<HasTokenStore extends boolean, ProjectId extends string>(\n      json: StackClientAppJson<HasTokenStore, ProjectId>\n    ): StackClientApp<HasTokenStore, ProjectId>,\n  },\n};\nexport const StackClientApp: StackClientAppConstructor = _StackClientAppImpl;\n\nexport type StackServerApp<HasTokenStore extends boolean = boolean, ProjectId extends string = string> = (\n  & StackClientApp<HasTokenStore, ProjectId>\n  & {\n    createTeam(data: ServerTeamCustomizableJson): Promise<ServerTeam>,\n    createPermissionDefinition(data: ServerPermissionDefinitionCustomizableJson): Promise<ServerPermission>,\n    updatePermissionDefinition(permissionId: string, data: Partial<ServerPermissionDefinitionCustomizableJson>): Promise<void>,\n    deletePermissionDefinition(permissionId: string): Promise<void>,\n    listPermissionDefinitions(): Promise<ServerPermissionDefinitionJson[]>,\n    usePermissionDefinitions(): ServerPermissionDefinitionJson[],\n  }\n  & AsyncStoreProperty<\"serverUser\", [], CurrentServerUser | null, false>\n  & AsyncStoreProperty<\"serverUsers\", [], ServerUser[], true>\n  & Omit<AsyncStoreProperty<\"team\", [id: string], ServerTeam | null, false>, \"onTeamChange\">\n  & Omit<AsyncStoreProperty<\"teams\", [], ServerTeam[], true>, \"onTeamsChange\">\n);\ntype StackServerAppConstructor = {\n  new <\n    TokenStoreType extends string,\n    HasTokenStore extends (TokenStoreType extends {} ? true : boolean),\n    ProjectId extends string\n  >(options: StackServerAppConstructorOptions<HasTokenStore, ProjectId>): StackServerApp<HasTokenStore, ProjectId>,\n  new (options: StackServerAppConstructorOptions<boolean, string>): StackServerApp<boolean, string>,\n};\nexport const StackServerApp: StackServerAppConstructor = _StackServerAppImpl;\n\nexport type StackAdminApp<HasTokenStore extends boolean = boolean, ProjectId extends string = string> = (\n  & StackServerApp<HasTokenStore, ProjectId>\n  & AsyncStoreProperty<\"projectAdmin\", [], Project, false>\n  & AsyncStoreProperty<\"apiKeySets\", [], ApiKeySet[], true>\n  & {\n    createApiKeySet(options: ApiKeySetCreateOptions): Promise<ApiKeySetFirstView>,\n  }\n);\ntype StackAdminAppConstructor = {\n  new <\n    HasTokenStore extends boolean,\n    ProjectId extends string\n  >(options: StackAdminAppConstructorOptions<HasTokenStore, ProjectId>): StackAdminApp<HasTokenStore, ProjectId>,\n  new (options: StackAdminAppConstructorOptions<boolean, string>): StackAdminApp<boolean, string>,\n};\nexport const StackAdminApp: StackAdminAppConstructor = _StackAdminAppImpl;\n"],"names":["json"],"mappings":"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"}},
    {"offset": {"line": 9898, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/dist/esm/providers/stack-provider-client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StackContext = registerClientReference(\n    function() { throw new Error(\"Attempted to call StackContext() from the server but StackContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js <module evaluation>\",\n    \"StackContext\",\n);\nexport const StackProviderClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call StackProviderClient() from the server but StackProviderClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js <module evaluation>\",\n    \"StackProviderClient\",\n);\nexport const UserSetter = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserSetter() from the server but UserSetter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js <module evaluation>\",\n    \"UserSetter\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,6SAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,qIACA;AAEG,MAAM,sBAAsB,IAAA,6SAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,qIACA;AAEG,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,qIACA","ignoreList":[0]}},
    {"offset": {"line": 9922, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/dist/esm/providers/stack-provider-client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StackContext = registerClientReference(\n    function() { throw new Error(\"Attempted to call StackContext() from the server but StackContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js\",\n    \"StackContext\",\n);\nexport const StackProviderClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call StackProviderClient() from the server but StackProviderClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js\",\n    \"StackProviderClient\",\n);\nexport const UserSetter = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserSetter() from the server but UserSetter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js\",\n    \"UserSetter\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,6SAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,iHACA;AAEG,MAAM,sBAAsB,IAAA,6SAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,iHACA;AAEG,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,iHACA","ignoreList":[0]}},
    {"offset": {"line": 9946, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/providers/stack-provider-client.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { StackClientApp, StackClientAppJson, stackAppInternalsSymbol } from \"../lib/stack-app\";\nimport React from \"react\";\nimport { UserJson } from \"@stackframe/stack-shared\";\nimport { useStackApp } from \"..\";\n\nexport const StackContext = React.createContext<null | {\n  app: StackClientApp<true>,\n}>(null);\n\nexport function StackProviderClient(props: {\n  appJson: StackClientAppJson<true, string>,\n  children?: React.ReactNode,\n}) {\n  const appJson = props.appJson;\n  const app = StackClientApp[stackAppInternalsSymbol].fromClientJson(appJson);\n\n  if (process.env.NODE_ENV === \"development\") {\n    (globalThis as any).stackApp = app;\n  }\n  \n  return (\n    <StackContext.Provider value={{ app }}>\n      {props.children}\n    </StackContext.Provider>\n  );\n}\n\nexport function UserSetter(props: { userJsonPromise: Promise<UserJson | null> }) {\n  const app = useStackApp();\n  useEffect(() => {\n    const promise = (async () => await props.userJsonPromise)();  // there is a Next.js bug where Promises passed by server components return `undefined` as their `then` value, so wrap it in a normal promise\n    app[stackAppInternalsSymbol].setCurrentUser(promise);\n  }, []);\n  return null;\n}\n"],"names":[],"mappings":""}},
    {"offset": {"line": 9954, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/providers/stack-provider.tsx"],"sourcesContent":["import React, { Suspense } from 'react';\nimport { StackClientApp, stackAppInternalsSymbol } from '../lib/stack-app';\nimport { StackProviderClient, UserSetter } from './stack-provider-client';\n\n\nexport default function StackProvider({\n  children,\n  app,\n}: {\n  children: React.ReactNode,\n  app: StackClientApp<true>,\n}) {\n  return (\n    <StackProviderClient appJson={app[stackAppInternalsSymbol].toClientJson()}>\n      <Suspense fallback={null}>\n        <UserFetcher app={app} />\n      </Suspense>\n      {children}\n    </StackProviderClient>\n  );\n}\n\nfunction UserFetcher(props: { app: StackClientApp<true> }) {\n  const userPromise = props.app.getUser().then((user) => user?.toJson() ?? null);\n  return <UserSetter userJsonPromise={userPromise} />;\n}\n"],"names":[],"mappings":";;;;;AAAA,SAAgB,gBAAgB;AAChC,SAAyB,+BAA+B;AACxD,SAAS,qBAAqB,kBAAkB;AAW5C,SAEI,KAFJ;;;;;AARW,SAAR,cAA+B,EACpC,QAAA,EACA,GAAA,EACF,EAGG;IACD,OACE,aAAA,GAAA,IAAA,oQAAA,EAAC,4PAAA,EAAA;QAAoB,SAAS,GAAA,CAAI,2OAAuB,CAAA,CAAE,YAAA,CAAa;QACtE,UAAA;YAAA,aAAA,GAAA,IAAA,mQAAA,EAAC,sPAAA,EAAA;gBAAS,UAAU;gBAClB,UAAA,aAAA,GAAA,IAAA,mQAAA,EAAC,aAAA;oBAAY;gBAAA,CAAU;YAAA,CACzB;YACC;SAAA;IAAA,CACH;AAEJ;AAEA,SAAS,YAAY,KAAA,EAAsC;IACzD,MAAM,cAAc,MAAM,GAAA,CAAI,OAAA,CAAQ,EAAE,IAAA,CAAK,CAAC,OAAS,MAAM,OAAO,KAAK,IAAI;IAC7E,OAAO,aAAA,GAAA,IAAA,mQAAA,EAAC,mPAAA,EAAA;QAAW,iBAAiB;IAAA,CAAa;AACnD"}},
    {"offset": {"line": 10002, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/dist/esm/providers/theme-provider.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StackTheme = registerClientReference(\n    function() { throw new Error(\"Attempted to call StackTheme() from the server but StackTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/theme-provider.js <module evaluation>\",\n    \"StackTheme\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,8HACA","ignoreList":[0]}},
    {"offset": {"line": 10016, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/dist/esm/providers/theme-provider.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StackTheme = registerClientReference(\n    function() { throw new Error(\"Attempted to call StackTheme() from the server but StackTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/@stackframe/stack/dist/esm/providers/theme-provider.js\",\n    \"StackTheme\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,0GACA","ignoreList":[0]}},
    {"offset": {"line": 10030, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/%40stackframe/stack/src/providers/theme-provider.tsx"],"sourcesContent":["'use client';\n\nimport React from \"react\";\nimport { StackDesignProvider, DesignConfig } from \"./design-provider\";\nimport { StackComponentProvider, ComponentConfig } from \"./component-provider\";\nimport StyledComponentsRegistry from \"./styled-components-registry\";\nimport { BrowserScript } from \"../utils/browser-script\";\n\nexport type ThemeConfig = DesignConfig & ComponentConfig;\n\nexport function StackTheme({\n  theme,\n  children,\n} : { \n  children?: React.ReactNode,\n  theme?: DesignConfig & ComponentConfig,\n}) {\n  const componentProps = { components: theme?.components };\n\n  return (\n    <StyledComponentsRegistry>\n      <BrowserScript />\n      <StackDesignProvider {...theme}>\n        <StackComponentProvider {...componentProps}>\n          {children}\n        </StackComponentProvider>\n      </StackDesignProvider>\n    </StyledComponentsRegistry>\n  );\n}"],"names":[],"mappings":""}},
    {"offset": {"line": 10038, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CheckmarkIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call CheckmarkIcon() from the server but CheckmarkIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"CheckmarkIcon\",\n);\nexport const ErrorIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call ErrorIcon() from the server but ErrorIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"ErrorIcon\",\n);\nexport const LoaderIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call LoaderIcon() from the server but LoaderIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"LoaderIcon\",\n);\nexport const ToastBar = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastBar() from the server but ToastBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"ToastBar\",\n);\nexport const ToastIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastIcon() from the server but ToastIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"ToastIcon\",\n);\nexport const Toaster = registerClientReference(\n    function() { throw new Error(\"Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"Toaster\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"default\",\n);\nexport const resolveValue = registerClientReference(\n    function() { throw new Error(\"Attempted to call resolveValue() from the server but resolveValue is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"resolveValue\",\n);\nexport const toast = registerClientReference(\n    function() { throw new Error(\"Attempted to call toast() from the server but toast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"toast\",\n);\nexport const useToaster = registerClientReference(\n    function() { throw new Error(\"Attempted to call useToaster() from the server but useToaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"useToaster\",\n);\nexport const useToasterStore = registerClientReference(\n    function() { throw new Error(\"Attempted to call useToasterStore() from the server but useToasterStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs <module evaluation>\",\n    \"useToasterStore\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;;;;;;;;;;;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,6SAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,sGACA;AAEG,MAAM,YAAY,IAAA,6SAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,sGACA;AAEG,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,sGACA;AAEG,MAAM,WAAW,IAAA,6SAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,sGACA;AAEG,MAAM,YAAY,IAAA,6SAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,sGACA;AAEG,MAAM,UAAU,IAAA,6SAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,sGACA;uCAEW,IAAA,6SAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwU,GACrW,sGACA;AAEG,MAAM,eAAe,IAAA,6SAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,sGACA;AAEG,MAAM,QAAQ,IAAA,6SAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,sGACA;AAEG,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,sGACA;AAEG,MAAM,kBAAkB,IAAA,6SAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,sGACA","ignoreList":[0]}},
    {"offset": {"line": 10102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CheckmarkIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call CheckmarkIcon() from the server but CheckmarkIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"CheckmarkIcon\",\n);\nexport const ErrorIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call ErrorIcon() from the server but ErrorIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"ErrorIcon\",\n);\nexport const LoaderIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call LoaderIcon() from the server but LoaderIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"LoaderIcon\",\n);\nexport const ToastBar = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastBar() from the server but ToastBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"ToastBar\",\n);\nexport const ToastIcon = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastIcon() from the server but ToastIcon is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"ToastIcon\",\n);\nexport const Toaster = registerClientReference(\n    function() { throw new Error(\"Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"Toaster\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"default\",\n);\nexport const resolveValue = registerClientReference(\n    function() { throw new Error(\"Attempted to call resolveValue() from the server but resolveValue is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"resolveValue\",\n);\nexport const toast = registerClientReference(\n    function() { throw new Error(\"Attempted to call toast() from the server but toast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"toast\",\n);\nexport const useToaster = registerClientReference(\n    function() { throw new Error(\"Attempted to call useToaster() from the server but useToaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"useToaster\",\n);\nexport const useToasterStore = registerClientReference(\n    function() { throw new Error(\"Attempted to call useToasterStore() from the server but useToasterStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/Inventory/my-app/node_modules/react-hot-toast/dist/index.mjs\",\n    \"useToasterStore\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;;;;;;;;;;;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,6SAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,kFACA;AAEG,MAAM,YAAY,IAAA,6SAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,kFACA;AAEG,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kFACA;AAEG,MAAM,WAAW,IAAA,6SAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,kFACA;AAEG,MAAM,YAAY,IAAA,6SAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,kFACA;AAEG,MAAM,UAAU,IAAA,6SAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,kFACA;uCAEW,IAAA,6SAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA;AAEG,MAAM,eAAe,IAAA,6SAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,kFACA;AAEG,MAAM,QAAQ,IAAA,6SAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,kFACA;AAEG,MAAM,aAAa,IAAA,6SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kFACA;AAEG,MAAM,kBAAkB,IAAA,6SAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,kFACA","ignoreList":[0]}},
    {"offset": {"line": 10166, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/core/types.ts","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/core/utils.ts","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/core/store.ts","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/core/toast.ts","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/core/use-toaster.ts","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/components/toast-bar.tsx","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/components/toast-icon.tsx","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/components/error.tsx","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/components/loader.tsx","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/components/checkmark.tsx","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/components/toaster.tsx","file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/node_modules/react-hot-toast/src/index.ts"],"sourcesContent":["import { CSSProperties } from 'react';\n\nexport type ToastType = 'success' | 'error' | 'loading' | 'blank' | 'custom';\nexport type ToastPosition =\n  | 'top-left'\n  | 'top-center'\n  | 'top-right'\n  | 'bottom-left'\n  | 'bottom-center'\n  | 'bottom-right';\n\nexport type Renderable = React.ReactElement | string | null;\n\nexport interface IconTheme {\n  primary: string;\n  secondary: string;\n}\n\nexport type ValueFunction<TValue, TArg> = (arg: TArg) => TValue;\nexport type ValueOrFunction<TValue, TArg> =\n  | TValue\n  | ValueFunction<TValue, TArg>;\n\nconst isFunction = <TValue, TArg>(\n  valOrFunction: ValueOrFunction<TValue, TArg>\n): valOrFunction is ValueFunction<TValue, TArg> =>\n  typeof valOrFunction === 'function';\n\nexport const resolveValue = <TValue, TArg>(\n  valOrFunction: ValueOrFunction<TValue, TArg>,\n  arg: TArg\n): TValue => (isFunction(valOrFunction) ? valOrFunction(arg) : valOrFunction);\n\nexport interface Toast {\n  type: ToastType;\n  id: string;\n  toasterId?: string;\n  message: ValueOrFunction<Renderable, Toast>;\n  icon?: Renderable;\n  duration?: number;\n  pauseDuration: number;\n  position?: ToastPosition;\n  removeDelay?: number;\n\n  ariaProps: {\n    role: 'status' | 'alert';\n    'aria-live': 'assertive' | 'off' | 'polite';\n  };\n\n  style?: CSSProperties;\n  className?: string;\n  iconTheme?: IconTheme;\n\n  createdAt: number;\n  visible: boolean;\n  dismissed: boolean;\n  height?: number;\n}\n\nexport type ToastOptions = Partial<\n  Pick<\n    Toast,\n    | 'id'\n    | 'icon'\n    | 'duration'\n    | 'ariaProps'\n    | 'className'\n    | 'style'\n    | 'position'\n    | 'iconTheme'\n    | 'toasterId'\n    | 'removeDelay'\n  >\n>;\n\nexport type DefaultToastOptions = ToastOptions & {\n  [key in ToastType]?: ToastOptions;\n};\n\nexport interface ToasterProps {\n  position?: ToastPosition;\n  toastOptions?: DefaultToastOptions;\n  reverseOrder?: boolean;\n  gutter?: number;\n  containerStyle?: React.CSSProperties;\n  containerClassName?: string;\n  toasterId?: string;\n  children?: (toast: Toast) => React.ReactElement;\n}\n\nexport interface ToastWrapperProps {\n  id: string;\n  className?: string;\n  style?: React.CSSProperties;\n  onHeightUpdate: (id: string, height: number) => void;\n  children?: React.ReactNode;\n}\n","export const genId = (() => {\n  let count = 0;\n  return () => {\n    return (++count).toString();\n  };\n})();\n\nexport const prefersReducedMotion = (() => {\n  // Cache result\n  let shouldReduceMotion: boolean | undefined = undefined;\n\n  return () => {\n    if (shouldReduceMotion === undefined && typeof window !== 'undefined') {\n      const mediaQuery = matchMedia('(prefers-reduced-motion: reduce)');\n      shouldReduceMotion = !mediaQuery || mediaQuery.matches;\n    }\n    return shouldReduceMotion;\n  };\n})();\n","import { useEffect, useState, useRef } from 'react';\nimport { DefaultToastOptions, Toast, ToastType } from './types';\n\nexport const TOAST_EXPIRE_DISMISS_DELAY = 1000;\nexport const TOAST_LIMIT = 20;\nexport const DEFAULT_TOASTER_ID = 'default';\n\ninterface ToasterSettings {\n  toastLimit: number;\n}\n\nexport enum ActionType {\n  ADD_TOAST,\n  UPDATE_TOAST,\n  UPSERT_TOAST,\n  DISMISS_TOAST,\n  REMOVE_TOAST,\n  START_PAUSE,\n  END_PAUSE,\n}\n\nexport type Action =\n  | {\n      type: ActionType.ADD_TOAST;\n      toast: Toast;\n    }\n  | {\n      type: ActionType.UPSERT_TOAST;\n      toast: Toast;\n    }\n  | {\n      type: ActionType.UPDATE_TOAST;\n      toast: Partial<Toast>;\n    }\n  | {\n      type: ActionType.DISMISS_TOAST;\n      toastId?: string;\n    }\n  | {\n      type: ActionType.REMOVE_TOAST;\n      toastId?: string;\n    }\n  | {\n      type: ActionType.START_PAUSE;\n      time: number;\n    }\n  | {\n      type: ActionType.END_PAUSE;\n      time: number;\n    };\n\ninterface ToasterState {\n  toasts: Toast[];\n  settings: ToasterSettings;\n  pausedAt: number | undefined;\n}\n\ninterface State {\n  [toasterId: string]: ToasterState;\n}\n\nexport const reducer = (state: ToasterState, action: Action): ToasterState => {\n  const { toastLimit } = state.settings;\n\n  switch (action.type) {\n    case ActionType.ADD_TOAST:\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, toastLimit),\n      };\n\n    case ActionType.UPDATE_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      };\n\n    case ActionType.UPSERT_TOAST:\n      const { toast } = action;\n      return reducer(state, {\n        type: state.toasts.find((t) => t.id === toast.id)\n          ? ActionType.UPDATE_TOAST\n          : ActionType.ADD_TOAST,\n        toast,\n      });\n\n    case ActionType.DISMISS_TOAST:\n      const { toastId } = action;\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                dismissed: true,\n                visible: false,\n              }\n            : t\n        ),\n      };\n    case ActionType.REMOVE_TOAST:\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n\n    case ActionType.START_PAUSE:\n      return {\n        ...state,\n        pausedAt: action.time,\n      };\n\n    case ActionType.END_PAUSE:\n      const diff = action.time - (state.pausedAt || 0);\n\n      return {\n        ...state,\n        pausedAt: undefined,\n        toasts: state.toasts.map((t) => ({\n          ...t,\n          pauseDuration: t.pauseDuration + diff,\n        })),\n      };\n  }\n};\n\nconst listeners: Array<\n  [toasterId: string, reducer: (state: ToasterState) => void]\n> = [];\n\nconst defaultToasterState: ToasterState = {\n  toasts: [],\n  pausedAt: undefined,\n  settings: {\n    toastLimit: TOAST_LIMIT,\n  },\n};\nlet memoryState: State = {};\n\nexport const dispatch = (action: Action, toasterId = DEFAULT_TOASTER_ID) => {\n  memoryState[toasterId] = reducer(\n    memoryState[toasterId] || defaultToasterState,\n    action\n  );\n  listeners.forEach(([id, listener]) => {\n    if (id === toasterId) {\n      listener(memoryState[toasterId]);\n    }\n  });\n};\n\nexport const dispatchAll = (action: Action) =>\n  Object.keys(memoryState).forEach((toasterId) => dispatch(action, toasterId));\n\nexport const getToasterIdFromToastId = (toastId: string) =>\n  Object.keys(memoryState).find((toasterId) =>\n    memoryState[toasterId].toasts.some((t) => t.id === toastId)\n  );\n\nexport const createDispatch =\n  (toasterId = DEFAULT_TOASTER_ID) =>\n  (action: Action) => {\n    dispatch(action, toasterId);\n  };\n\nexport const defaultTimeouts: {\n  [key in ToastType]: number;\n} = {\n  blank: 4000,\n  error: 4000,\n  success: 2000,\n  loading: Infinity,\n  custom: 4000,\n};\n\nexport const useStore = (\n  toastOptions: DefaultToastOptions = {},\n  toasterId: string = DEFAULT_TOASTER_ID\n): ToasterState => {\n  const [state, setState] = useState<ToasterState>(\n    memoryState[toasterId] || defaultToasterState\n  );\n  const initial = useRef(memoryState[toasterId]);\n\n  // TODO: Switch to useSyncExternalStore when targeting React 18+\n  useEffect(() => {\n    if (initial.current !== memoryState[toasterId]) {\n      setState(memoryState[toasterId]);\n    }\n    listeners.push([toasterId, setState]);\n    return () => {\n      const index = listeners.findIndex(([id]) => id === toasterId);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [toasterId]);\n\n  const mergedToasts = state.toasts.map((t) => ({\n    ...toastOptions,\n    ...toastOptions[t.type],\n    ...t,\n    removeDelay:\n      t.removeDelay ||\n      toastOptions[t.type]?.removeDelay ||\n      toastOptions?.removeDelay,\n    duration:\n      t.duration ||\n      toastOptions[t.type]?.duration ||\n      toastOptions?.duration ||\n      defaultTimeouts[t.type],\n    style: {\n      ...toastOptions.style,\n      ...toastOptions[t.type]?.style,\n      ...t.style,\n    },\n  }));\n\n  return {\n    ...state,\n    toasts: mergedToasts,\n  };\n};\n","import {\n  Renderable,\n  Toast,\n  ToastOptions,\n  ToastType,\n  DefaultToastOptions,\n  ValueOrFunction,\n  resolveValue,\n} from './types';\nimport { genId } from './utils';\nimport {\n  createDispatch,\n  Action,\n  ActionType,\n  dispatchAll,\n  getToasterIdFromToastId,\n} from './store';\n\ntype Message = ValueOrFunction<Renderable, Toast>;\n\ntype ToastHandler = (message: Message, options?: ToastOptions) => string;\n\nconst createToast = (\n  message: Message,\n  type: ToastType = 'blank',\n  opts?: ToastOptions\n): Toast => ({\n  createdAt: Date.now(),\n  visible: true,\n  dismissed: false,\n  type,\n  ariaProps: {\n    role: 'status',\n    'aria-live': 'polite',\n  },\n  message,\n  pauseDuration: 0,\n  ...opts,\n  id: opts?.id || genId(),\n});\n\nconst createHandler =\n  (type?: ToastType): ToastHandler =>\n  (message, options) => {\n    const toast = createToast(message, type, options);\n\n    const dispatch = createDispatch(\n      toast.toasterId || getToasterIdFromToastId(toast.id)\n    );\n\n    dispatch({ type: ActionType.UPSERT_TOAST, toast });\n    return toast.id;\n  };\n\nconst toast = (message: Message, opts?: ToastOptions) =>\n  createHandler('blank')(message, opts);\n\ntoast.error = createHandler('error');\ntoast.success = createHandler('success');\ntoast.loading = createHandler('loading');\ntoast.custom = createHandler('custom');\n\n/**\n * Dismisses the toast with the given id. If no id is given, dismisses all toasts.\n * The toast will transition out and then be removed from the DOM.\n * Applies to all toasters, except when a `toasterId` is given.\n */\ntoast.dismiss = (toastId?: string, toasterId?: string) => {\n  const action: Action = {\n    type: ActionType.DISMISS_TOAST,\n    toastId,\n  };\n\n  if (toasterId) {\n    createDispatch(toasterId)(action);\n  } else {\n    dispatchAll(action);\n  }\n};\n\n/**\n * Dismisses all toasts.\n */\ntoast.dismissAll = (toasterId?: string) => toast.dismiss(undefined, toasterId);\n\n/**\n * Removes the toast with the given id.\n * The toast will be removed from the DOM without any transition.\n */\ntoast.remove = (toastId?: string, toasterId?: string) => {\n  const action: Action = {\n    type: ActionType.REMOVE_TOAST,\n    toastId,\n  };\n  if (toasterId) {\n    createDispatch(toasterId)(action);\n  } else {\n    dispatchAll(action);\n  }\n};\n\n/**\n * Removes all toasts.\n */\ntoast.removeAll = (toasterId?: string) => toast.remove(undefined, toasterId);\n\n/**\n * Create a loading toast that will automatically updates with the promise.\n */\ntoast.promise = <T>(\n  promise: Promise<T> | (() => Promise<T>),\n  msgs: {\n    loading: Renderable;\n    success?: ValueOrFunction<Renderable, T>;\n    error?: ValueOrFunction<Renderable, any>;\n  },\n  opts?: DefaultToastOptions\n) => {\n  const id = toast.loading(msgs.loading, { ...opts, ...opts?.loading });\n\n  if (typeof promise === 'function') {\n    promise = promise();\n  }\n\n  promise\n    .then((p) => {\n      const successMessage = msgs.success\n        ? resolveValue(msgs.success, p)\n        : undefined;\n\n      if (successMessage) {\n        toast.success(successMessage, {\n          id,\n          ...opts,\n          ...opts?.success,\n        });\n      } else {\n        toast.dismiss(id);\n      }\n      return p;\n    })\n    .catch((e) => {\n      const errorMessage = msgs.error ? resolveValue(msgs.error, e) : undefined;\n\n      if (errorMessage) {\n        toast.error(errorMessage, {\n          id,\n          ...opts,\n          ...opts?.error,\n        });\n      } else {\n        toast.dismiss(id);\n      }\n    });\n\n  return promise;\n};\n\nexport { toast };\n","import { useEffect, useCallback, useRef } from 'react';\nimport { createDispatch, ActionType, useStore, dispatch } from './store';\nimport { toast } from './toast';\nimport { DefaultToastOptions, Toast, ToastPosition } from './types';\n\nexport const REMOVE_DELAY = 1000;\n\nexport const useToaster = (\n  toastOptions?: DefaultToastOptions,\n  toasterId: string = 'default'\n) => {\n  const { toasts, pausedAt } = useStore(toastOptions, toasterId);\n  const toastTimeouts = useRef(\n    new Map<Toast['id'], ReturnType<typeof setTimeout>>()\n  ).current;\n\n  const addToRemoveQueue = useCallback(\n    (toastId: string, removeDelay = REMOVE_DELAY) => {\n      if (toastTimeouts.has(toastId)) {\n        return;\n      }\n\n      const timeout = setTimeout(() => {\n        toastTimeouts.delete(toastId);\n        dispatch({\n          type: ActionType.REMOVE_TOAST,\n          toastId: toastId,\n        });\n      }, removeDelay);\n\n      toastTimeouts.set(toastId, timeout);\n    },\n    []\n  );\n\n  useEffect(() => {\n    if (pausedAt) {\n      return;\n    }\n\n    const now = Date.now();\n    const timeouts = toasts.map((t) => {\n      if (t.duration === Infinity) {\n        return;\n      }\n\n      const durationLeft =\n        (t.duration || 0) + t.pauseDuration - (now - t.createdAt);\n\n      if (durationLeft < 0) {\n        if (t.visible) {\n          toast.dismiss(t.id);\n        }\n        return;\n      }\n      return setTimeout(() => toast.dismiss(t.id, toasterId), durationLeft);\n    });\n\n    return () => {\n      timeouts.forEach((timeout) => timeout && clearTimeout(timeout));\n    };\n  }, [toasts, pausedAt, toasterId]);\n\n  const dispatch = useCallback(createDispatch(toasterId), [toasterId]);\n\n  const startPause = useCallback(() => {\n    dispatch({\n      type: ActionType.START_PAUSE,\n      time: Date.now(),\n    });\n  }, [dispatch]);\n\n  const updateHeight = useCallback(\n    (toastId: string, height: number) => {\n      dispatch({\n        type: ActionType.UPDATE_TOAST,\n        toast: { id: toastId, height },\n      });\n    },\n    [dispatch]\n  );\n\n  const endPause = useCallback(() => {\n    if (pausedAt) {\n      dispatch({ type: ActionType.END_PAUSE, time: Date.now() });\n    }\n  }, [pausedAt, dispatch]);\n\n  const calculateOffset = useCallback(\n    (\n      toast: Toast,\n      opts?: {\n        reverseOrder?: boolean;\n        gutter?: number;\n        defaultPosition?: ToastPosition;\n      }\n    ) => {\n      const { reverseOrder = false, gutter = 8, defaultPosition } = opts || {};\n\n      const relevantToasts = toasts.filter(\n        (t) =>\n          (t.position || defaultPosition) ===\n            (toast.position || defaultPosition) && t.height\n      );\n      const toastIndex = relevantToasts.findIndex((t) => t.id === toast.id);\n      const toastsBefore = relevantToasts.filter(\n        (toast, i) => i < toastIndex && toast.visible\n      ).length;\n\n      const offset = relevantToasts\n        .filter((t) => t.visible)\n        .slice(...(reverseOrder ? [toastsBefore + 1] : [0, toastsBefore]))\n        .reduce((acc, t) => acc + (t.height || 0) + gutter, 0);\n\n      return offset;\n    },\n    [toasts]\n  );\n\n  // Keep track of dismissed toasts and remove them after the delay\n  useEffect(() => {\n    toasts.forEach((toast) => {\n      if (toast.dismissed) {\n        addToRemoveQueue(toast.id, toast.removeDelay);\n      } else {\n        // If toast becomes visible again, remove it from the queue\n        const timeout = toastTimeouts.get(toast.id);\n        if (timeout) {\n          clearTimeout(timeout);\n          toastTimeouts.delete(toast.id);\n        }\n      }\n    });\n  }, [toasts, addToRemoveQueue]);\n\n  return {\n    toasts,\n    handlers: {\n      updateHeight,\n      startPause,\n      endPause,\n      calculateOffset,\n    },\n  };\n};\n","import * as React from 'react';\nimport { styled, keyframes } from 'goober';\n\nimport { Toast, ToastPosition, resolveValue, Renderable } from '../core/types';\nimport { ToastIcon } from './toast-icon';\nimport { prefersReducedMotion } from '../core/utils';\n\nconst enterAnimation = (factor: number) => `\n0% {transform: translate3d(0,${factor * -200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`;\n\nconst exitAnimation = (factor: number) => `\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${factor * -150}%,-1px) scale(.6); opacity:0;}\n`;\n\nconst fadeInAnimation = `0%{opacity:0;} 100%{opacity:1;}`;\nconst fadeOutAnimation = `0%{opacity:1;} 100%{opacity:0;}`;\n\nconst ToastBarBase = styled('div')`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`;\n\nconst Message = styled('div')`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`;\n\ninterface ToastBarProps {\n  toast: Toast;\n  position?: ToastPosition;\n  style?: React.CSSProperties;\n  children?: (components: {\n    icon: Renderable;\n    message: Renderable;\n  }) => Renderable;\n}\n\nconst getAnimationStyle = (\n  position: ToastPosition,\n  visible: boolean\n): React.CSSProperties => {\n  const top = position.includes('top');\n  const factor = top ? 1 : -1;\n\n  const [enter, exit] = prefersReducedMotion()\n    ? [fadeInAnimation, fadeOutAnimation]\n    : [enterAnimation(factor), exitAnimation(factor)];\n\n  return {\n    animation: visible\n      ? `${keyframes(enter)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`\n      : `${keyframes(exit)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`,\n  };\n};\n\nexport const ToastBar: React.FC<ToastBarProps> = React.memo(\n  ({ toast, position, style, children }) => {\n    const animationStyle: React.CSSProperties = toast.height\n      ? getAnimationStyle(\n          toast.position || position || 'top-center',\n          toast.visible\n        )\n      : { opacity: 0 };\n\n    const icon = <ToastIcon toast={toast} />;\n    const message = (\n      <Message {...toast.ariaProps}>\n        {resolveValue(toast.message, toast)}\n      </Message>\n    );\n\n    return (\n      <ToastBarBase\n        className={toast.className}\n        style={{\n          ...animationStyle,\n          ...style,\n          ...toast.style,\n        }}\n      >\n        {typeof children === 'function' ? (\n          children({\n            icon,\n            message,\n          })\n        ) : (\n          <>\n            {icon}\n            {message}\n          </>\n        )}\n      </ToastBarBase>\n    );\n  }\n);\n","import * as React from 'react';\nimport { styled, keyframes } from 'goober';\n\nimport { Toast } from '../core/types';\nimport { ErrorIcon, ErrorTheme } from './error';\nimport { LoaderIcon, LoaderTheme } from './loader';\nimport { CheckmarkIcon, CheckmarkTheme } from './checkmark';\n\nconst StatusWrapper = styled('div')`\n  position: absolute;\n`;\n\nconst IndicatorWrapper = styled('div')`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`;\n\nconst enter = keyframes`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`;\n\nexport const AnimatedIconWrapper = styled('div')`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${enter} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`;\n\nexport type IconThemes = Partial<{\n  success: CheckmarkTheme;\n  error: ErrorTheme;\n  loading: LoaderTheme;\n}>;\n\nexport const ToastIcon: React.FC<{\n  toast: Toast;\n}> = ({ toast }) => {\n  const { icon, type, iconTheme } = toast;\n  if (icon !== undefined) {\n    if (typeof icon === 'string') {\n      return <AnimatedIconWrapper>{icon}</AnimatedIconWrapper>;\n    } else {\n      return icon;\n    }\n  }\n\n  if (type === 'blank') {\n    return null;\n  }\n\n  return (\n    <IndicatorWrapper>\n      <LoaderIcon {...iconTheme} />\n      {type !== 'loading' && (\n        <StatusWrapper>\n          {type === 'error' ? (\n            <ErrorIcon {...iconTheme} />\n          ) : (\n            <CheckmarkIcon {...iconTheme} />\n          )}\n        </StatusWrapper>\n      )}\n    </IndicatorWrapper>\n  );\n};\n","import { styled, keyframes } from 'goober';\n\nconst circleAnimation = keyframes`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`;\n\nconst firstLineAnimation = keyframes`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`;\n\nconst secondLineAnimation = keyframes`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`;\n\nexport interface ErrorTheme {\n  primary?: string;\n  secondary?: string;\n}\n\nexport const ErrorIcon = styled('div')<ErrorTheme>`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${(p) => p.primary || '#ff4b4b'};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${circleAnimation} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${firstLineAnimation} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${(p) => p.secondary || '#fff'};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${secondLineAnimation} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;\n","import { styled, keyframes } from 'goober';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport interface LoaderTheme {\n  primary?: string;\n  secondary?: string;\n}\n\nexport const LoaderIcon = styled('div')<LoaderTheme>`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${(p) => p.secondary || '#e0e0e0'};\n  border-right-color: ${(p) => p.primary || '#616161'};\n  animation: ${rotate} 1s linear infinite;\n`;\n","import { styled, keyframes } from 'goober';\n\nconst circleAnimation = keyframes`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`;\n\nconst checkmarkAnimation = keyframes`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`;\n\nexport interface CheckmarkTheme {\n  primary?: string;\n  secondary?: string;\n}\n\nexport const CheckmarkIcon = styled('div')<CheckmarkTheme>`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${(p) => p.primary || '#61d345'};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${circleAnimation} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${checkmarkAnimation} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${(p) => p.secondary || '#fff'};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;\n","import { css, setup } from 'goober';\nimport * as React from 'react';\nimport {\n  resolveValue,\n  ToasterProps,\n  ToastPosition,\n  ToastWrapperProps,\n} from '../core/types';\nimport { useToaster } from '../core/use-toaster';\nimport { prefersReducedMotion } from '../core/utils';\nimport { ToastBar } from './toast-bar';\n\nsetup(React.createElement);\n\nconst ToastWrapper = ({\n  id,\n  className,\n  style,\n  onHeightUpdate,\n  children,\n}: ToastWrapperProps) => {\n  const ref = React.useCallback(\n    (el: HTMLElement | null) => {\n      if (el) {\n        const updateHeight = () => {\n          const height = el.getBoundingClientRect().height;\n          onHeightUpdate(id, height);\n        };\n        updateHeight();\n        new MutationObserver(updateHeight).observe(el, {\n          subtree: true,\n          childList: true,\n          characterData: true,\n        });\n      }\n    },\n    [id, onHeightUpdate]\n  );\n\n  return (\n    <div ref={ref} className={className} style={style}>\n      {children}\n    </div>\n  );\n};\n\nconst getPositionStyle = (\n  position: ToastPosition,\n  offset: number\n): React.CSSProperties => {\n  const top = position.includes('top');\n  const verticalStyle: React.CSSProperties = top ? { top: 0 } : { bottom: 0 };\n  const horizontalStyle: React.CSSProperties = position.includes('center')\n    ? {\n        justifyContent: 'center',\n      }\n    : position.includes('right')\n    ? {\n        justifyContent: 'flex-end',\n      }\n    : {};\n  return {\n    left: 0,\n    right: 0,\n    display: 'flex',\n    position: 'absolute',\n    transition: prefersReducedMotion()\n      ? undefined\n      : `all 230ms cubic-bezier(.21,1.02,.73,1)`,\n    transform: `translateY(${offset * (top ? 1 : -1)}px)`,\n    ...verticalStyle,\n    ...horizontalStyle,\n  };\n};\n\nconst activeClass = css`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`;\n\nconst DEFAULT_OFFSET = 16;\n\nexport const Toaster: React.FC<ToasterProps> = ({\n  reverseOrder,\n  position = 'top-center',\n  toastOptions,\n  gutter,\n  children,\n  toasterId,\n  containerStyle,\n  containerClassName,\n}) => {\n  const { toasts, handlers } = useToaster(toastOptions, toasterId);\n\n  return (\n    <div\n      data-rht-toaster={toasterId || ''}\n      style={{\n        position: 'fixed',\n        zIndex: 9999,\n        top: DEFAULT_OFFSET,\n        left: DEFAULT_OFFSET,\n        right: DEFAULT_OFFSET,\n        bottom: DEFAULT_OFFSET,\n        pointerEvents: 'none',\n        ...containerStyle,\n      }}\n      className={containerClassName}\n      onMouseEnter={handlers.startPause}\n      onMouseLeave={handlers.endPause}\n    >\n      {toasts.map((t) => {\n        const toastPosition = t.position || position;\n        const offset = handlers.calculateOffset(t, {\n          reverseOrder,\n          gutter,\n          defaultPosition: position,\n        });\n        const positionStyle = getPositionStyle(toastPosition, offset);\n\n        return (\n          <ToastWrapper\n            id={t.id}\n            key={t.id}\n            onHeightUpdate={handlers.updateHeight}\n            className={t.visible ? activeClass : ''}\n            style={positionStyle}\n          >\n            {t.type === 'custom' ? (\n              resolveValue(t.message, t)\n            ) : children ? (\n              children(t)\n            ) : (\n              <ToastBar toast={t} position={toastPosition} />\n            )}\n          </ToastWrapper>\n        );\n      })}\n    </div>\n  );\n};\n","import { toast } from './core/toast';\n\nexport * from './headless';\n\nexport { ToastBar } from './components/toast-bar';\nexport { ToastIcon } from './components/toast-icon';\nexport { Toaster } from './components/toaster';\nexport { CheckmarkIcon } from './components/checkmark';\nexport { ErrorIcon } from './components/error';\nexport { LoaderIcon } from './components/loader';\n\nexport { toast };\nexport default toast;\n"],"names":["isFunction","valOrFunction","resolveValue","arg","genId","count","prefersReducedMotion","shouldReduceMotion","mediaQuery","useEffect","useState","useRef","TOAST_LIMIT","DEFAULT_TOASTER_ID","reducer","state","action","toastLimit","t","toast","toastId","diff","listeners","defaultToasterState","TOAST_LIMIT","memoryState","dispatch","toasterId","DEFAULT_TOASTER_ID","id","listener","dispatchAll","getToasterIdFromToastId","createDispatch","defaultTimeouts","useStore","toastOptions","setState","useState","initial","useRef","useEffect","index","mergedToasts","_a","_b","_c","createToast","message","type","opts","genId","createHandler","options","toast","createDispatch","getToasterIdFromToastId","toastId","toasterId","action","dispatchAll","promise","msgs","id","p","successMessage","resolveValue","e","errorMessage","useEffect","useCallback","useRef","REMOVE_DELAY","useToaster","toastOptions","toasterId","toasts","pausedAt","useStore","toastTimeouts","useRef","addToRemoveQueue","useCallback","toastId","removeDelay","timeout","dispatch","useEffect","now","timeouts","t","durationLeft","toast","createDispatch","startPause","updateHeight","height","endPause","calculateOffset","opts","reverseOrder","gutter","defaultPosition","relevantToasts","toastIndex","toastsBefore","i","acc","React","styled","keyframes","React","styled","keyframes","styled","keyframes","circleAnimation","firstLineAnimation","secondLineAnimation","ErrorIcon","p","styled","keyframes","rotate","LoaderIcon","p","styled","keyframes","circleAnimation","checkmarkAnimation","CheckmarkIcon","p","StatusWrapper","styled","IndicatorWrapper","enter","keyframes","AnimatedIconWrapper","ToastIcon","toast","icon","type","iconTheme","LoaderIcon","ErrorIcon","CheckmarkIcon","enterAnimation","factor","exitAnimation","fadeInAnimation","fadeOutAnimation","ToastBarBase","styled","Message","getAnimationStyle","position","visible","enter","exit","prefersReducedMotion","keyframes","ToastBar","toast","style","children","animationStyle","icon","ToastIcon","message","resolveValue","css","setup","React","setup","ToastWrapper","id","className","style","onHeightUpdate","children","ref","el","updateHeight","height","getPositionStyle","position","offset","top","verticalStyle","horizontalStyle","prefersReducedMotion","activeClass","css","DEFAULT_OFFSET","Toaster","reverseOrder","toastOptions","gutter","toasterId","containerStyle","containerClassName","toasts","handlers","useToaster","t","toastPosition","positionStyle","resolveValue","ToastBar","src_default","toast"],"mappings":""}}]
}