{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { UserButton } from \"@stackframe/stack\";\r\nimport { BarChart3, Package, Plus, Settings, Info, ShoppingCart } from \"lucide-react\"\r\nimport Link from \"next/link\";\r\n\r\n\r\nexport default function Sidebar({\r\n    currentPath = \"/dashboard\",\r\n}: {\r\n    currentPath: string\r\n}) {\r\n    const NAV_ITEMS = [\r\n        { name: \"Dashboard\", href: \"/dashboard\", icon: BarChart3 },\r\n        { name: \"Inventory\", href: \"/inventory\", icon: Package },\r\n        { name: \"Add Product\", href: \"/add-product\", icon: Plus },\r\n        { name: \"Sales\", href: \"/sales\", icon: ShoppingCart },\r\n        { name: \"Settings\", href: \"/settings\", icon: Settings },\r\n        { name: \"About\", href: \"/about\", icon: Info },\r\n\r\n    ];\r\n\r\n    return <div className=\"fixed left-0 top-0 bg-gray-900 text-white w-64 min-h-screen p-6 z-10\">\r\n        <div className=\"mb-8\">\r\n            <div className=\"flex items-center space-x-2 mb-4\">\r\n                <BarChart3 className=\"w-10 h-10\" />\r\n                <span className=\"text-md font-semibold\">Inventory Management App</span>\r\n            </div>\r\n        </div>\r\n\r\n        <nav className=\"space-y-1\">\r\n            <div className=\"text-sm font-semibold text-gray-400 uppercase\">\r\n                Inventory\r\n            </div>\r\n            {NAV_ITEMS.map((item, key) => {\r\n                const IconComponent = item.icon;\r\n                const isActive = currentPath == item.href;\r\n                return (\r\n                    <Link href={item.href} key={key} className={`flex items-center space-x-3 py-2 px-3 rounded-lg \r\n                                                                ${isActive ? \"bg-purple-100 text-gray-800\" : \"hover:bg-gray-800 text-gray-300\"}`}>\r\n                        <IconComponent className=\"w-5 h-5\" />\r\n                        <span className=\"text-sm\">{item.name}</span>\r\n                    </Link>\r\n                );\r\n            })}\r\n        </nav>\r\n\r\n        <div className=\"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-700\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <UserButton showUserInfo />\r\n            </div>\r\n        </div>\r\n    </div >\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;;;;;AAOe,SAAS,QAAQ,EAC5B,cAAc,YAAY,EAG7B;IACG,MAAM,YAAY;QACd;YAAE,MAAM;YAAa,MAAM;YAAc,MAAM,oQAAS;QAAC;QACzD;YAAE,MAAM;YAAa,MAAM;YAAc,MAAM,wPAAO;QAAC;QACvD;YAAE,MAAM;YAAe,MAAM;YAAgB,MAAM,+OAAI;QAAC;QACxD;YAAE,MAAM;YAAS,MAAM;YAAU,MAAM,2QAAY;QAAC;QACpD;YAAE,MAAM;YAAY,MAAM;YAAa,MAAM,2PAAQ;QAAC;QACtD;YAAE,MAAM;YAAS,MAAM;YAAU,MAAM,+OAAI;QAAC;KAE/C;IAED,qBAAO,mRAAC;QAAI,WAAU;;0BAClB,mRAAC;gBAAI,WAAU;0BACX,cAAA,mRAAC;oBAAI,WAAU;;sCACX,mRAAC,oQAAS;4BAAC,WAAU;;;;;;sCACrB,mRAAC;4BAAK,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAIhD,mRAAC;gBAAI,WAAU;;kCACX,mRAAC;wBAAI,WAAU;kCAAgD;;;;;;oBAG9D,UAAU,GAAG,CAAC,CAAC,MAAM;wBAClB,MAAM,gBAAgB,KAAK,IAAI;wBAC/B,MAAM,WAAW,eAAe,KAAK,IAAI;wBACzC,qBACI,mRAAC,4MAAI;4BAAC,MAAM,KAAK,IAAI;4BAAY,WAAW,CAAC;gEACD,EAAE,WAAW,gCAAgC,mCAAmC;;8CACxH,mRAAC;oCAAc,WAAU;;;;;;8CACzB,mRAAC;oCAAK,WAAU;8CAAW,KAAK,IAAI;;;;;;;2BAHZ;;;;;oBAMpC;;;;;;;0BAGJ,mRAAC;gBAAI,WAAU;0BACX,cAAA,mRAAC;oBAAI,WAAU;8BACX,cAAA,mRAAC,uOAAU;wBAAC,YAAY;;;;;;;;;;;;;;;;;;;;;;AAIxC"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/components/pagination.tsx"],"sourcesContent":["import { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport Link from \"next/link\";\n\ninterface PaginationProps {\n    currentPage: number;\n    totalPages: number;\n    baseUrl: string;\n    SearchParams: Record<string, string>;\n}\nexport default function Pagination({\n    currentPage,\n    totalPages,\n    baseUrl,\n    SearchParams,\n}: PaginationProps) {\n    if (totalPages <= 1) return null;\n\n    const getPageUrl = (page: number) => {\n        const params = new URLSearchParams({ ...SearchParams, page: String(page) });\n        return `${baseUrl}?${params.toString()}`;\n    }\n    const getVisiblePages = () => {\n        const delta = 2;\n        const range = []\n        const rangeWithDots = [];\n\n        for (\n            let i = Math.max(2, currentPage - delta);\n            i <= Math.min(totalPages - 1, currentPage + delta);\n            i++\n        ) {\n            range.push(i);\n        }\n        if (currentPage - delta > 2) {\n            rangeWithDots.push(1, \"...\")\n        } else {\n            rangeWithDots.push(1);\n        }\n\n        rangeWithDots.push(...range)\n\n        if (currentPage + delta < totalPages - 1) {\n            rangeWithDots.push(\"...\", totalPages);\n        } else {\n            rangeWithDots.push(totalPages);\n        }\n\n        return rangeWithDots;\n    };\n    const VisiblePages = getVisiblePages();\n\n    return <nav className=\"flex items-center justify-center gap-1\">\n        <Link\n            href={getPageUrl(currentPage - 1)}\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg ${currentPage <= 1\n                ? \"text-gray-400 cursor-not-allowed bg-gray-100\"\n                : \"text-gray-700 hover:bg-gray-100 bg-white border border-gray-300\"\n                }`}\n            aria-disabled={currentPage <= 1}\n        >\n            <ChevronLeft /> Previous\n        </Link>\n\n        {VisiblePages.map((page, key) => {\n            if (page === \"...\") {\n                return (\n                    <span key={key} className=\"px-3 py-2 text-sm text-gray-500\">\n                        ...\n                    </span>\n                );\n            }\n            const pageNumber = page as number;\n            //const pageNumber = typeof page === 'number' ? page : null;\n            const isCurrentPage = pageNumber === currentPage;\n            return (\n                <Link\n                    key={typeof page === 'number' ? page : `dot-${key}`} // unique key\n                    href={getPageUrl(pageNumber)}\n                    className={`px-3 py-2 text-sm font-medium rounded-lg ${isCurrentPage\n                        ? \"bg-purple-600 text-white\"\n                        : \"text-gray-700 hover:bg-gray-100 bg-white border border-gray-300\"\n                        }`}\n                >\n                    {page}\n                </Link>\n            );\n        })}\n        <Link href={getPageUrl(currentPage + 1)}\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg ${currentPage >= totalPages\n                ? \"text-gray-400 cursor-not-allowed bg-gray-100\"\n                : \"text-gray-700 hover:bg-gray-100 bg-white border border-gray-300\"\n                }`}\n            aria-disabled={currentPage >= totalPages}\n        >\n            <ChevronRight />\n            Next\n        </Link>\n    </nav>\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAQe,SAAS,WAAW,EAC/B,WAAW,EACX,UAAU,EACV,OAAO,EACP,YAAY,EACE;IACd,IAAI,cAAc,GAAG,OAAO;IAE5B,MAAM,aAAa,CAAC;QAChB,MAAM,SAAS,IAAI,gBAAgB;YAAE,GAAG,YAAY;YAAE,MAAM,OAAO;QAAM;QACzE,OAAO,GAAG,QAAQ,CAAC,EAAE,OAAO,QAAQ,IAAI;IAC5C;IACA,MAAM,kBAAkB;QACpB,MAAM,QAAQ;QACd,MAAM,QAAQ,EAAE;QAChB,MAAM,gBAAgB,EAAE;QAExB,IACI,IAAI,IAAI,KAAK,GAAG,CAAC,GAAG,cAAc,QAClC,KAAK,KAAK,GAAG,CAAC,aAAa,GAAG,cAAc,QAC5C,IACF;YACE,MAAM,IAAI,CAAC;QACf;QACA,IAAI,cAAc,QAAQ,GAAG;YACzB,cAAc,IAAI,CAAC,GAAG;QAC1B,OAAO;YACH,cAAc,IAAI,CAAC;QACvB;QAEA,cAAc,IAAI,IAAI;QAEtB,IAAI,cAAc,QAAQ,aAAa,GAAG;YACtC,cAAc,IAAI,CAAC,OAAO;QAC9B,OAAO;YACH,cAAc,IAAI,CAAC;QACvB;QAEA,OAAO;IACX;IACA,MAAM,eAAe;IAErB,qBAAO,mRAAC;QAAI,WAAU;;0BAClB,mRAAC,4MAAI;gBACD,MAAM,WAAW,cAAc;gBAC/B,WAAW,CAAC,2DAA2D,EAAE,eAAe,IAClF,iDACA,mEACA;gBACN,iBAAe,eAAe;;kCAE9B,mRAAC,wQAAW;;;;;oBAAG;;;;;;;YAGlB,aAAa,GAAG,CAAC,CAAC,MAAM;gBACrB,IAAI,SAAS,OAAO;oBAChB,qBACI,mRAAC;wBAAe,WAAU;kCAAkC;uBAAjD;;;;;gBAInB;gBACA,MAAM,aAAa;gBACnB,4DAA4D;gBAC5D,MAAM,gBAAgB,eAAe;gBACrC,qBACI,mRAAC,4MAAI;oBAED,MAAM,WAAW;oBACjB,WAAW,CAAC,yCAAyC,EAAE,gBACjD,6BACA,mEACA;8BAEL;mBAPI,OAAO,SAAS,WAAW,OAAO,CAAC,IAAI,EAAE,KAAK;;;;;YAU/D;0BACA,mRAAC,4MAAI;gBAAC,MAAM,WAAW,cAAc;gBACjC,WAAW,CAAC,2DAA2D,EAAE,eAAe,aAClF,iDACA,mEACA;gBACN,iBAAe,eAAe;;kCAE9B,mRAAC,2QAAY;;;;;oBAAG;;;;;;;;;;;;;AAI5B"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/app/test/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect, use } from \"react\";\r\nimport { useStackApp } from \"@stackframe/stack\";\r\nimport Sidebar from \"@/components/sidebar\";\r\nimport { useToaster } from '@/components/Toaster';\r\nimport { motion } from 'framer-motion';\r\nimport Pagination from \"@/components/pagination\";\r\n\r\ninterface Sale {\r\n    id: string;\r\n    product: { name: string };\r\n    customer: { name: string };\r\n    quantity: number;\r\n    salePrice: number;\r\n    totalAmount: number;\r\n    location: string;\r\n    createdAt: string;\r\n}\r\n\r\ninterface Product {\r\n    id: string;\r\n    name: string;\r\n    sku: string;\r\n    price: number;\r\n    quantity: number;\r\n}\r\n\r\nexport default function SalesPage({ searchParams }: { searchParams: Promise<{ q?: string, page?: string }> }) {\r\n    const stackApp = useStackApp();\r\n    const user = stackApp.useUser();\r\n    const userId = user?.id;\r\n    const { addToast } = useToaster();\r\n\r\n    const [products, setProducts] = useState<Product[]>([]);\r\n    const [sales, setSales] = useState<Sale[]>([]);\r\n    const [customers, setCustomers] = useState<{ id: string; name: string }[]>([]);\r\n    const [uniqueLocations, setUniqueLocations] = useState<string[]>([]);\r\n    const [selectedProductId, setSelectedProductId] = useState(\"\");\r\n    const [selectedCustomerId, setSelectedCustomerId] = useState(\"\");\r\n    const [selectedLocation, setSelectedLocation] = useState(\"\");\r\n    const [quantity, setQuantity] = useState(1);\r\n    const [salePrice, setSalePrice] = useState<number | null>(null);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const params = use(searchParams);\r\n    const page = Math.max(1, Number(params.page ?? 1));\r\n    const pageSize = 10;\r\n    const [pagination, setPagination] = useState({ totalPages: 1, page: 1, totalSales: 0, limit: pageSize });\r\n    const [loadingSales, setLoadingSales] = useState(true);\r\n\r\n    // Fetch data (no userId check here, assume user is logged in via Stack)\r\n    const fetchProducts = async () => {\r\n        if (!userId) return; // Optional check, handle as needed\r\n        const res = await fetch(`/api/products?userId=${userId}`);\r\n        const data = await res.json();\r\n        setProducts(data.products || []);\r\n    };\r\n\r\n    // Fetch customers\r\n    const fetchCustomers = async () => {\r\n        if (!userId) return;\r\n        const res = await fetch(`/api/customers?userId=${userId}`);\r\n        const data = await res.json();\r\n        setCustomers(data.customers || []);\r\n    };\r\n\r\n    // Fetch locations\r\n    const fetchLocations = async () => {\r\n        if (!userId) return;\r\n        const res = await fetch(`/api/locations?userId=${userId}`);\r\n        const data = await res.json();\r\n        setUniqueLocations(data.locations || []);\r\n    };\r\n\r\n    // Fetch sales\r\n    const fetchSales = async () => {\r\n        if (!userId) return;\r\n        setLoadingSales(true);\r\n        const res = await fetch(`/api/sales?userId=${userId}&page=${page}&limit=${pageSize}`);\r\n        const data = await res.json();\r\n        setSales(data.data || []);\r\n        setPagination(data.pagination || { totalPages: 1, page: 1, totalSales: 0, limit: pageSize });\r\n        setLoadingSales(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            // Optionally redirect to login or show a message\r\n            addToast(\"Please log in to access sales.\", \"error\");\r\n            return;\r\n        }\r\n        fetchProducts();\r\n        fetchCustomers();\r\n        fetchLocations();\r\n        fetchSales();\r\n    }, [user, page, addToast]);\r\n\r\n    useEffect(() => {\r\n        const product = products.find(p => p.id === selectedProductId);\r\n        setSalePrice(product ? product.price : null);\r\n    }, [selectedProductId, products]);\r\n\r\n    const handleCreateSale = async (formData: FormData) => {\r\n        const productId = formData.get('productId');\r\n        const quantity = Number(formData.get('quantity'));\r\n        const salePrice = Number(formData.get('salePrice'));\r\n        const customerId = selectedCustomerId;\r\n        const location = selectedLocation;\r\n        const totalAmount = quantity * salePrice;\r\n        const userId = user?.id;\r\n\r\n        if (!productId || quantity <= 0 || !salePrice || salePrice <= 0 || !customerId || !location || !userId) {\r\n            addToast(\"Please select a product, customer, location, and enter valid quantity and price.\", \"error\");\r\n            return;\r\n        }\r\n\r\n        const selectedProduct = products.find(p => p.id === productId);\r\n        if (!selectedProduct || selectedProduct.quantity < quantity) {\r\n            addToast(`Not enough stock for \"${selectedProduct?.name}\". Available: ${selectedProduct?.quantity || 0}.`, \"error\");\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n        try {\r\n            // 1. Reduce inventory in the selected location\r\n            const inventoryRes = await fetch(`/api/inventory/${productId}/reduce`, {\r\n                method: \"POST\",\r\n                body: JSON.stringify({ location, quantity, userId }),\r\n            });\r\n            if (!inventoryRes.ok) {\r\n                const error = await inventoryRes.json();\r\n                addToast(error.error || \"Failed to update inventory.\", \"error\");\r\n                setIsSubmitting(false);\r\n                return;\r\n            }\r\n\r\n            // 2. Create the sale\r\n            const saleRes = await fetch(\"/api/sales\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    productId,\r\n                    quantity,\r\n                    salePrice,\r\n                    totalAmount,\r\n                    userId,\r\n                    customerId,\r\n                    location,\r\n                }),\r\n            });\r\n            if (saleRes.ok) {\r\n                const newSale = await saleRes.json();\r\n                setSales([{ ...newSale, product: { name: selectedProduct.name }, customer: { name: customers.find(c => c.id === customerId)?.name || 'N/A' }, }, ...sales]);\r\n                addToast('Sale created!', 'success');\r\n                fetchProducts(); // Refresh product stock\r\n                // Reset form\r\n                setSelectedProductId(\"\");\r\n                setQuantity(1);\r\n                setSalePrice(null);\r\n                setSelectedLocation(\"\");\r\n            } else {\r\n                const errorData = await saleRes.json();\r\n                addToast(errorData.error || 'Failed to create sale.', 'error');\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n            addToast(\"Something went wrong.\", \"error\");\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <Sidebar currentPath=\"/sales\" />\r\n            <main className=\"ml-64 p-8\">\r\n                <h1 className=\"text-2xl font-semibold text-gray-900 mb-4\">Sales</h1>\r\n\r\n                <form onSubmit={handleCreateSale} className=\"bg-white rounded-lg border-gray-200 p-6 mb-6\">\r\n                    <div className=\"grid grid-cols-5 gap-4 items-end\">\r\n                        {/* Customer */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Customer</label>\r\n                            <select\r\n                                name=\"customerId\"\r\n                                value={selectedCustomerId}\r\n                                onChange={(e) => setSelectedCustomerId(e.target.value)}\r\n                                className=\"w-full px-2 py-2 border border-gray-600 rounded-lg\"\r\n                                required\r\n                            >\r\n                                <option value=\"\">Select Customer</option>\r\n                                {customers.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Product */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Product</label>\r\n                            <select\r\n                                name=\"productId\"\r\n                                value={selectedProductId}\r\n                                onChange={(e) => setSelectedProductId(e.target.value)}\r\n                                className=\"w-full px-2 py-2 border border-gray-600 rounded-lg\"\r\n                                required\r\n                            >\r\n                                <option value=\"\">Select Product</option>\r\n                                {products.map(p => (\r\n                                    <option key={p.id} value={p.id} disabled={p.quantity <= 0}>\r\n                                        {p.name} | K{p.price} | ({p.quantity > 0 ? `${p.quantity} in stock` : \"Out of stock\"})\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Quantity */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Quantity</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"quantity\"\r\n                                value={quantity}\r\n                                onChange={(e) => setQuantity(Number(e.target.value))}\r\n                                min={1}\r\n                                step={1}\r\n                                required\r\n                                className=\"w-full px-2 py-2 border border-gray-600 rounded-lg\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Price */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Price (K)</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"salePrice\"\r\n                                value={salePrice || \"\"}\r\n                                onChange={(e) => setSalePrice(Number(e.target.value))}\r\n                                min={0}\r\n                                step={0.01}\r\n                                required\r\n                                className=\"w-full px-2 py-2 border border-gray-600 rounded-lg\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Location */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Location</label>\r\n                            <select\r\n                                name=\"location\"\r\n                                value={selectedLocation}\r\n                                onChange={(e) => setSelectedLocation(e.target.value)}\r\n                                className=\"w-full px-2 py-2 border border-gray-600 rounded-lg focus:border-transparent\"\r\n                                required\r\n                            >\r\n                                <option value=\"\">Select Location</option>\r\n                                {uniqueLocations.map((loc) => (\r\n                                    <option key={loc} value={loc}>\r\n                                        {loc}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-4\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700\"\r\n                            disabled={isSubmitting}\r\n                        >\r\n                            {isSubmitting ? \"Creating Sale...\" : \"Create Sale\"}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                {/* Sales Table */}\r\n                <table className=\"min-w-full table-auto border-collapse border border-gray-200\">\r\n                    <thead className=\"bg-gray-100\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-3 border-b border-r border-gray-400 text-left text-xs font-semibold text-gray-600 uppercase\">Customer</th>\r\n                            <th className=\"px-6 py-3 border-b border-r border-gray-400 text-left text-xs font-semibold text-gray-600 uppercase\">Product</th>\r\n                            <th className=\"px-6 py-3 border-b border-r border-gray-400 text-center text-xs font-semibold text-gray-600 uppercase\">Quantity</th>\r\n                            <th className=\"px-6 py-3 border-b border-r border-gray-400 text-center text-xs font-semibold text-gray-600 uppercase\">Price (K)</th>\r\n                            <th className=\"px-6 py-3 border-b border-r border-gray-400 text-center text-xs font-semibold text-gray-600 uppercase\">Revenue (K)</th>\r\n                            <th className=\"px-6 py-3 border-b border-r border-gray-400 text-center text-xs font-semibold text-gray-600 uppercase\">Location</th>\r\n                            <th className=\"px-6 py-3 border-b border-gray-400 text-center text-xs font-semibold text-gray-600 uppercase\">Date Created</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {loadingSales ? (\r\n                            <tr>\r\n                                <td colSpan={7} className=\"px-6 py-3 text-center text-sm text-gray-500\">Loading sales...</td>\r\n                            </tr>\r\n                        ) : sales.length === 0 ? (\r\n                            <tr>\r\n                                <td colSpan={7} className=\"px-6 py-3 text-center text-sm text-gray-500\">No sales recorded yet.</td>\r\n                            </tr>\r\n                        ) : (\r\n                            sales.map(sale => (\r\n                                <tr key={sale.id} className=\"hover:bg-gray-50\">\r\n                                    <td className=\"px-6 py-3 text-sm text-gray-500\">{sale.customer.name}</td>\r\n                                    <td className=\"px-6 py-3 text-sm text-gray-500\">{sale.product.name}</td>\r\n                                    <td className=\"px-6 py-3 text-center text-sm text-gray-500\">{sale.quantity}</td>\r\n                                    <td className=\"px-6 py-3 text-center text-sm text-gray-500\">K{sale.salePrice}</td>\r\n                                    <td className=\"px-6 py-3 text-center text-sm text-gray-500\">K{sale.totalAmount}</td>\r\n                                    <td className=\"px-6 py-3 text-center text-sm text-gray-500\">{sale.location}</td>\r\n                                    <td className=\"px-6 py-3 text-center text-sm text-gray-500\">{new Date(sale.createdAt).toLocaleDateString()}</td>\r\n                                </tr>\r\n                            ))\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {/* Pagination */}\r\n                {sales.length > 0 && (\r\n                    <div className=\"bg-white rounded-lg border border-gray-200 p-6 mt-4\">\r\n                        <Pagination currentPage={pagination.page} totalPages={pagination.totalPages} baseUrl=\"/sales\" SearchParams={{ pageSize: String(pageSize) }} />\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}