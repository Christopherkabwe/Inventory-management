{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/components/sidebar2.tsx"],"sourcesContent":["\"use client\";\r\nimport { UserButton } from \"@stackframe/stack\";\r\nimport { BarChart3, Package, Plus, Settings, Info, ShoppingCart, ChevronDown } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nexport default function Sidebar() {\r\n    const [openItems, setOpenItems] = useState<string[]>([]);\r\n    const currentPath = usePathname();\r\n\r\n    useEffect(() => {\r\n        const activeItem = NAV_ITEMS.find((item) => item.subItems && item.subItems.some((sub) => currentPath === sub.href));\r\n        if (activeItem) {\r\n            setOpenItems([activeItem.name]);\r\n        }\r\n    }, [currentPath]);\r\n\r\n    const NAV_ITEMS = [\r\n        {\r\n            name: \"Dashboard\",\r\n            icon: BarChart3,\r\n            subItems: [\r\n                { name: \"Inventory Dashboard\", href: \"/dashboard/inventory\" },\r\n                { name: \"Sales Dashboard\", href: \"/dashboard/sales\" },\r\n            ],\r\n        },\r\n        {\r\n            name: \"Inventory\",\r\n            icon: Package,\r\n            subItems: [\r\n                { name: \"Inventory Summary\", href: \"/inventory/inventory\" },\r\n                { name: \"Add Product\", href: \"/inventory/add-product\" },\r\n                { name: \"Stock Reports\", href: \"/inventory/stock-report\" },\r\n            ],\r\n        },\r\n        { name: \"Sales\", href: \"/sales\", icon: ShoppingCart },\r\n        { name: \"Settings\", href: \"/settings\", icon: Settings },\r\n        { name: \"About\", href: \"/about\", icon: Info },\r\n    ];\r\n\r\n    const toggleItem = (name: string) => {\r\n        if (openItems.includes(name)) {\r\n            setOpenItems(openItems.filter((item) => item !== name));\r\n        } else {\r\n            setOpenItems([...openItems, name]);\r\n        }\r\n    };\r\n\r\n    const isActive = (href: string) => currentPath.startsWith(href);\r\n\r\n    const isParentActive = (subItems?: { href: string }[]) =>\r\n        subItems?.some((sub) => currentPath.startsWith(sub.href));\r\n\r\n    const isOpen = (name: string) => openItems.includes(name);\r\n\r\n    return (\r\n        <div className=\"fixed left-0 top-0 bg-gray-900 text-white w-64 min-h-screen p-6 z-10\">\r\n            <div className=\"mb-8\">\r\n                <div className=\"flex items-center space-x-2 mb-4\">\r\n                    <BarChart3 className=\"w-10 h-10\" />\r\n                    <span className=\"text-md font-semibold\">Inventory Management App</span>\r\n                </div>\r\n            </div>\r\n            <nav className=\"space-y-1\">\r\n                <div className=\"text-sm font-semibold text-gray-400 uppercase\">Inventory</div>\r\n                {NAV_ITEMS.map((item, key) => {\r\n                    const IconComponent = item.icon;\r\n                    const parentActive = isParentActive(item.subItems);\r\n                    const itemActive = isActive(item.href);\r\n\r\n                    if (item.subItems) {\r\n                        return (\r\n                            <div key={key}>\r\n                                <button\r\n                                    onClick={() => toggleItem(item.name)}\r\n                                    className={`flex items-center justify-between w-full py-2 px-3 rounded-lg ${parentActive ? \"bg-purple-50 text-gray-800\" : \"hover:bg-gray-800 text-gray-300\"\r\n                                        }`}\r\n                                >\r\n                                    <div className=\"flex items-center space-x-3\">\r\n                                        <IconComponent className=\"w-5 h-5\" />\r\n                                        <span className=\"text-sm\">{item.name}</span>\r\n                                    </div>\r\n                                    <ChevronDown className={`w-4 h-4 transition-transform ${isOpen(item.name) ? \"rotate-180\" : \"\"}`} />\r\n                                </button>\r\n                                {isOpen(item.name) && (\r\n                                    <ul className=\"ml-6 mt-2 space-y-2\">\r\n                                        {item.subItems.map((subItem, subKey) => (\r\n                                            <li key={subKey}>\r\n                                                <Link\r\n                                                    href={subItem.href}\r\n                                                    className={`flex items-center space-x-3 py-2 px-3 rounded-lg text-md ${isActive(subItem.href) ? \"text-white-800\" : \"hover:bg-gray-800 text-gray-300\"\r\n                                                        }`}\r\n                                                >\r\n                                                    {subItem.name}\r\n                                                </Link>\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    }\r\n\r\n                    return (\r\n                        <Link\r\n                            href={item.href}\r\n                            key={key}\r\n                            className={`flex items-center space-x-3 py-2 px-3 rounded-lg ${itemActive ? \"bg-purple-100 text-gray-800\" : \"hover:bg-gray-800 text-gray-300\"\r\n                                }`}\r\n                        >\r\n                            <IconComponent className=\"w-5 h-5\" />\r\n                            <span className=\"text-sm\">{item.name}</span>\r\n                        </Link>\r\n                    );\r\n                })}\r\n            </nav>\r\n            <div className=\"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-700\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <UserButton showUserInfo />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/app/inventory/stock-report/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Sidebar from \"@/components/sidebar2\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\n\r\ninterface ReportData {\r\n    productName: string;\r\n    locationName: string;\r\n    openingStock: number;\r\n    receipts: number;\r\n    sales: number;\r\n    transfersIn: number;\r\n    transfersOut: number;\r\n    returns: number;\r\n    damaged: number;\r\n    expired: number;\r\n    rebagGain: number;\r\n    rebagLoss: number;\r\n    closingStock: number;\r\n}\r\n\r\nconst ITEMS_PER_PAGE = 15;\r\n\r\nexport default function StockReportDashboard() {\r\n    const [report, setReport] = useState<ReportData[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n\r\n    useEffect(() => {\r\n        const fetchReport = async () => {\r\n            try {\r\n                const res = await fetch(\"/api/stock-report\");\r\n                const data = await res.json();\r\n                setReport(data);\r\n            } catch (err) {\r\n                console.error(err);\r\n                setError(\"Failed to fetch stock report\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchReport();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setCurrentPage(1);\r\n    }, [report]);\r\n\r\n    const totalPages = Math.ceil(report.length / ITEMS_PER_PAGE);\r\n\r\n    const paginatedReport = report.slice(\r\n        (currentPage - 1) * ITEMS_PER_PAGE,\r\n        currentPage * ITEMS_PER_PAGE\r\n    );\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>{error}</div>;\r\n\r\n    return (\r\n        <main>\r\n            <Sidebar />\r\n\r\n            <div className=\"ml-64 p-4\">\r\n                <h2 className=\"text-2xl font-bold mb-4\">Stock Report</h2>\r\n\r\n                <table className=\"w-full border-collapse\">\r\n                    <thead>\r\n                        <tr className=\"bg-gray-200\">\r\n                            <th className=\"border p-2\">Product</th>\r\n                            <th className=\"border p-2\">Location</th>\r\n                            <th className=\"border p-2\">Opening</th>\r\n                            <th className=\"border p-2\">Receipts</th>\r\n                            <th className=\"border p-2\">Sales</th>\r\n                            <th className=\"border p-2\">Transfers In</th>\r\n                            <th className=\"border p-2\">Transfers Out</th>\r\n                            <th className=\"border p-2\">Returns</th>\r\n                            <th className=\"border p-2\">Damaged</th>\r\n                            <th className=\"border p-2\">Expired</th>\r\n                            <th className=\"border p-2\">Rebag Gain</th>\r\n                            <th className=\"border p-2\">Rebag Loss</th>\r\n                            <th className=\"border p-2\">Closing</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody>\r\n                        {paginatedReport.map((r, idx) => (\r\n                            <tr key={idx} className=\"hover:bg-gray-100\">\r\n                                {Object.values(r).map((val, i) => (\r\n                                    <td key={i} className=\"border p-2\">\r\n                                        {val}\r\n                                    </td>\r\n                                ))}\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n\r\n                <ClientPagination\r\n                    currentPage={currentPage}\r\n                    totalPages={totalPages}\r\n                    onPageChange={setCurrentPage}\r\n                />\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nfunction ClientPagination({\r\n    currentPage,\r\n    totalPages,\r\n    onPageChange,\r\n}: {\r\n    currentPage: number;\r\n    totalPages: number;\r\n    onPageChange: (page: number) => void;\r\n}) {\r\n    if (totalPages <= 1) return null;\r\n\r\n    return (\r\n        <div className=\"flex justify-center bg-white rounded gap-2 mt-4\">\r\n            <button\r\n                disabled={currentPage === 1}\r\n                onClick={() => onPageChange(currentPage - 1)}\r\n                className=\"px-3 py-1 border rounded bg-black text-white hover:bg-purple-600 \"\r\n            >\r\n                <ChevronLeft />\r\n            </button>\r\n\r\n            <span className=\"px-3 py-1\">\r\n                Page {currentPage} of {totalPages}\r\n            </span>\r\n\r\n            <button\r\n                disabled={currentPage === totalPages}\r\n                onClick={() => onPageChange(currentPage + 1)}\r\n                className=\"px-3 py-1 border rounded bg-black text-white hover:bg-purple-600\"\r\n            >\r\n                <ChevronRight />\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAsBA,MAAM,iBAAiB;AAER,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,sPAAQ,EAAe,EAAE;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sPAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sPAAQ,EAAgB;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sPAAQ,EAAC;IAE/C,IAAA,uPAAS,EAAC;QACN,MAAM,cAAc;YAChB,IAAI;gBACA,MAAM,MAAM,MAAM,MAAM;gBACxB,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,UAAU;YACd,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC;gBACd,SAAS;YACb,SAAU;gBACN,WAAW;YACf;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,IAAA,uPAAS,EAAC;QACN,eAAe;IACnB,GAAG;QAAC;KAAO;IAEX,MAAM,aAAa,KAAK,IAAI,CAAC,OAAO,MAAM,GAAG;IAE7C,MAAM,kBAAkB,OAAO,KAAK,CAChC,CAAC,cAAc,CAAC,IAAI,gBACpB,cAAc;IAGlB,IAAI,SAAS,qBAAO,mRAAC;kBAAI;;;;;;IACzB,IAAI,OAAO,qBAAO,mRAAC;kBAAK;;;;;;IAExB,qBACI,mRAAC;;0BACG,mRAAC,8KAAO;;;;;0BAER,mRAAC;gBAAI,WAAU;;kCACX,mRAAC;wBAAG,WAAU;kCAA0B;;;;;;kCAExC,mRAAC;wBAAM,WAAU;;0CACb,mRAAC;0CACG,cAAA,mRAAC;oCAAG,WAAU;;sDACV,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;sDAC3B,mRAAC;4CAAG,WAAU;sDAAa;;;;;;;;;;;;;;;;;0CAInC,mRAAC;0CACI,gBAAgB,GAAG,CAAC,CAAC,GAAG,oBACrB,mRAAC;wCAAa,WAAU;kDACnB,OAAO,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,kBACxB,mRAAC;gDAAW,WAAU;0DACjB;+CADI;;;;;uCAFR;;;;;;;;;;;;;;;;kCAWrB,mRAAC;wBACG,aAAa;wBACb,YAAY;wBACZ,cAAc;;;;;;;;;;;;;;;;;;AAKlC;AAEA,SAAS,iBAAiB,EACtB,WAAW,EACX,UAAU,EACV,YAAY,EAKf;IACG,IAAI,cAAc,GAAG,OAAO;IAE5B,qBACI,mRAAC;QAAI,WAAU;;0BACX,mRAAC;gBACG,UAAU,gBAAgB;gBAC1B,SAAS,IAAM,aAAa,cAAc;gBAC1C,WAAU;0BAEV,cAAA,mRAAC,wQAAW;;;;;;;;;;0BAGhB,mRAAC;gBAAK,WAAU;;oBAAY;oBAClB;oBAAY;oBAAK;;;;;;;0BAG3B,mRAAC;gBACG,UAAU,gBAAgB;gBAC1B,SAAS,IAAM,aAAa,cAAc;gBAC1C,WAAU;0BAEV,cAAA,mRAAC,2QAAY;;;;;;;;;;;;;;;;AAI7B"}}]
}