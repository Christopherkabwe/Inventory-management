{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/lib/UnitToKg.ts"],"sourcesContent":["export const unitToKg = (weight: number, unit?: string | null) => {\r\n    const map: Record<string, number> = {\r\n        kg: 1,\r\n        g: 0.001,\r\n        mg: 0.000001,\r\n        lb: 0.453592,\r\n        oz: 0.0283495,\r\n        ton: 1000,\r\n        // add more if needed\r\n    };\r\n\r\n    const u = typeof unit === \"string\" ? unit.toLowerCase() : \"\";\r\n    const factor = map[u] ?? 1; // fallback to 1 if unknown\r\n\r\n    return weight * factor;\r\n};\r\n\r\n\r\n// HOW TO USE //\r\n\r\n//import { unitToKg } from \"@/lib/unitToKg\";\r\n\r\n// Inside your aggregate calculation:\r\n//map[p.id].tonnage +=\r\n//    (item.quantity * p.packSize * unitToKg(item.product.weightValue, item.product.weightUnit)) / 1000;\r\n\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW,CAAC,QAAgB;IACrC,MAAM,MAA8B;QAChC,IAAI;QACJ,GAAG;QACH,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,KAAK;IAET;IAEA,MAAM,IAAI,OAAO,SAAS,WAAW,KAAK,WAAW,KAAK;IAC1D,MAAM,SAAS,GAAG,CAAC,EAAE,IAAI,GAAG,2BAA2B;IAEvD,OAAO,SAAS;AACpB,GAGA,gBAAgB;CAEhB,4CAA4C;CAE5C,qCAAqC;CACrC,sBAAsB;CACtB,wGAAwG"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/lib/prisma.ts"],"sourcesContent":["import \"dotenv/config\";\nimport { PrismaPg } from '@prisma/adapter-pg'\nimport { PrismaClient } from '../generated/prisma/client'\n\nconst connectionString = `${process.env.DATABASE_URL}`\n\nconst adapter = new PrismaPg({ connectionString })\nconst prisma = new PrismaClient({ adapter })\n\nexport { prisma };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;AAEA,MAAM,mBAAmB,GAAG,QAAQ,GAAG,CAAC,YAAY,EAAE;AAEtD,MAAM,UAAU,IAAI,4MAAQ,CAAC;IAAE;AAAiB;AAChD,MAAM,SAAS,IAAI,yLAAY,CAAC;IAAE;AAAQ"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/components/SalesTable.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useState } from \"react\";\r\nimport { MapPin, User, Package, ArrowUpDown } from \"lucide-react\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport { unitToKg } from \"@/lib/UnitToKg\"; // if needed\r\nimport { Sale } from \"./Sale\";\r\n\r\ninterface Props {\r\n    sales: Sale[];\r\n}\r\n\r\ntype View = \"location\" | \"customer\" | \"product\";\r\n\r\ntype SortKey =\r\n    | \"name\"\r\n    | \"saleCount\"\r\n    | \"quantity\"\r\n    | \"totalTonnage\"\r\n    | \"totalSalesValue\"\r\n    | \"avgOrderValue\"\r\n    | \"contribution\";\r\n\r\nexport default function SalesTable({ sales }: Props) {\r\n\r\n    const [view, setView] = useState<View>(\"location\");\r\n    const [sortKey, setSortKey] = useState<SortKey>(\"totalSalesValue\");\r\n    const [sortDir, setSortDir] = useState<\"asc\" | \"desc\">(\"desc\");\r\n\r\n    const [startDate, setStartDate] = useState<Date | null>(null);\r\n    const [endDate, setEndDate] = useState<Date | null>(null);\r\n\r\n    const toggleSort = (key: SortKey) => {\r\n        if (key === sortKey) {\r\n            setSortDir(sortDir === \"asc\" ? \"desc\" : \"asc\");\r\n        } else {\r\n            setSortKey(key);\r\n            setSortDir(\"desc\");\r\n        }\r\n    };\r\n\r\n    const Header = ({ label, column, align = \"left\" }: any) => (\r\n        <th\r\n            onClick={() => toggleSort(column)}\r\n            className={`py-2 px-3 cursor-pointer border-r ${align === \"right\" ? \"text-right\" : \"text-left\"\r\n                }`}\r\n        >\r\n            <span className=\"inline-flex items-center gap-1\">\r\n                {label}\r\n                <ArrowUpDown className=\"w-3 h-3 opacity-60\" />\r\n            </span>\r\n        </th>\r\n    );\r\n\r\n    /** ------------------ Filter Sales ------------------ */\r\n    const filteredSales = useMemo(() => {\r\n        if (!Array.isArray(sales)) return []; // ✅ avoid crashes\r\n        return sales.filter((sale) => {\r\n            const saleDate = new Date(sale.saleDate);\r\n            if (startDate && saleDate < startDate) return false;\r\n            if (endDate && saleDate > endDate) return false;\r\n            return true;\r\n        });\r\n    }, [sales, startDate, endDate]);\r\n\r\n    /** ------------------ Aggregate Data ------------------ */\r\n    const aggregatedData = useMemo(() => {\r\n        const map: Record<string, any> = {};\r\n        filteredSales.forEach((sale) => {\r\n            let id: string, name: string;\r\n            if (view === \"location\") {\r\n                id = sale.locationId;\r\n                name = sale.location?.name || \"Unknown Location\";\r\n            } else if (view === \"customer\") {\r\n                id = sale.customerId;\r\n                name = sale.customerName || \"Unknown Customer\";\r\n            } else {\r\n                id = sale.productId;\r\n                name = sale.product?.name || \"Unknown Product\";\r\n            }\r\n\r\n            if (!map[id]) {\r\n                map[id] = {\r\n                    id,\r\n                    name,\r\n                    saleCount: 0,\r\n                    quantity: 0,\r\n                    totalTonnage: 0,\r\n                    totalSalesValue: 0,\r\n                    avgOrderValue: 0,\r\n                    contribution: 0,\r\n                };\r\n            }\r\n\r\n            const salesValue = sale.totalAmount ?? sale.salePrice * sale.quantity;\r\n\r\n            let tonnage = 0;\r\n            if (view === \"customer\") {\r\n                const weightKg = unitToKg(sale.product?.weightValue || 0, sale.product?.weightUnit);\r\n                tonnage = (weightKg * sale.quantity * (sale.product?.packSize || 1)) / 1000;\r\n            } else {\r\n                tonnage = ((sale.product?.weightValue || 0) * sale.quantity * (sale.product?.packSize || 1)) / 1000;\r\n            }\r\n\r\n            map[id].saleCount += 1;\r\n            map[id].quantity += sale.quantity;\r\n            map[id].totalSalesValue += salesValue;\r\n            map[id].totalTonnage += tonnage;\r\n        });\r\n\r\n        const totalRevenue = Object.values(map).reduce(\r\n            (sum: number, d: any) => sum + d.totalSalesValue,\r\n            0\r\n        );\r\n\r\n        return Object.values(map).map((d: any) => ({\r\n            ...d,\r\n            avgOrderValue: d.saleCount > 0 ? d.totalSalesValue / d.saleCount : 0,\r\n            contribution: totalRevenue > 0 ? (d.totalSalesValue / totalRevenue) * 100 : 0,\r\n        }));\r\n    }, [filteredSales, view]);\r\n\r\n    /** ------------------ Sorted Data ------------------ */\r\n    const sortedData = useMemo(() => {\r\n        return [...aggregatedData].sort((a, b) => {\r\n            const aVal = a[sortKey];\r\n            const bVal = b[sortKey];\r\n            if (typeof aVal === \"string\") return sortDir === \"asc\" ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);\r\n            return sortDir === \"asc\" ? aVal - bVal : bVal - aVal;\r\n        });\r\n    }, [aggregatedData, sortKey, sortDir]);\r\n\r\n    /** ------------------ Export CSV ------------------ */\r\n    const exportCSV = () => {\r\n        const headers = [\"Name\", \"Orders\", \"Quantity\", \"Tonnage\", \"Avg Order Value\", \"Revenue\", \"% Share\"];\r\n        const rows = sortedData.map((d) => [\r\n            d.name,\r\n            d.saleCount,\r\n            d.quantity,\r\n            d.totalTonnage.toFixed(2),\r\n            d.avgOrderValue.toFixed(2),\r\n            d.totalSalesValue.toFixed(2),\r\n            d.contribution.toFixed(2),\r\n        ]);\r\n        const csv = [headers, ...rows].map((r) => r.join(\",\")).join(\"\\n\");\r\n        const blob = new Blob([csv], { type: \"text/csv\" });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement(\"a\");\r\n        a.href = url;\r\n        a.download = `sales_by_${view}.csv`;\r\n        a.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    /** ------------------ Export PDF ------------------ */\r\n    const exportPDF = () => {\r\n        const doc = new jsPDF();\r\n        const start = startDate ? startDate.toLocaleDateString() : \"N/A\";\r\n        const end = endDate ? endDate.toLocaleDateString() : \"N/A\";\r\n\r\n        doc.setFontSize(16);\r\n        doc.setFont(\"helvetica\", \"bold\");\r\n        doc.text(`Sales by ${view}`, doc.internal.pageSize.getWidth() / 2, 15, { align: \"center\" });\r\n\r\n        doc.setFontSize(10);\r\n        doc.setFont(\"helvetica\", \"normal\");\r\n        doc.text(`Date Range: ${start} - ${end}`, doc.internal.pageSize.getWidth() / 2, 23, { align: \"center\" });\r\n\r\n        autoTable(doc, {\r\n            startY: 30,\r\n            head: [[\"#\", \"Name\", \"Orders\", \"Quantity\", \"Tonnage\", \"Avg Order Value\", \"Revenue\", \"% Share\"]],\r\n            body: sortedData.map((d, i) => [\r\n                i + 1,\r\n                d.name,\r\n                d.saleCount,\r\n                d.quantity,\r\n                d.totalTonnage.toFixed(2),\r\n                `K${d.avgOrderValue.toFixed(0)}`,\r\n                `K${d.totalSalesValue.toFixed(0)}`,\r\n                `${d.contribution.toFixed(1)}%`,\r\n            ]),\r\n            styles: { fontSize: 9, cellPadding: 4 },\r\n            headStyles: { fillColor: [100, 100, 100], fontStyle: \"bold\", textColor: 255 },\r\n            alternateRowStyles: { fillColor: [245, 245, 245] },\r\n        });\r\n\r\n        doc.save(`sales_by_${view}.pdf`);\r\n    };\r\n\r\n    /** ------------------ Render ------------------ */\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-xl border hover:shadow-md\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex gap-2\">\r\n                    <button\r\n                        className={`px-3 py-1 rounded border ${view === \"location\" ? \"bg-blue-100\" : \"\"}`}\r\n                        onClick={() => setView(\"location\")}\r\n                    >\r\n                        <MapPin className=\"inline w-4 h-4 mr-1\" /> Location\r\n                    </button>\r\n                    <button\r\n                        className={`px-3 py-1 rounded border ${view === \"customer\" ? \"bg-blue-100\" : \"\"}`}\r\n                        onClick={() => setView(\"customer\")}\r\n                    >\r\n                        <User className=\"inline w-4 h-4 mr-1\" /> Customer\r\n                    </button>\r\n                    <button\r\n                        className={`px-3 py-1 rounded border ${view === \"product\" ? \"bg-blue-100\" : \"\"}`}\r\n                        onClick={() => setView(\"product\")}\r\n                    >\r\n                        <Package className=\"inline w-4 h-4 mr-1\" /> Product\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2\">\r\n                    <button onClick={exportCSV} className=\"px-3 py-1 border rounded\">Export CSV</button>\r\n                    <button onClick={exportPDF} className=\"px-3 py-1 border rounded\">Export PDF</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-h-[420px] overflow-y-auto\">\r\n                <table className=\"w-full text-sm border border-gray-200\">\r\n                    <thead className=\"sticky top-0 bg-gray-200\">\r\n                        <tr>\r\n                            <th className=\"py-2 px-3 border-r text-center\">#</th>\r\n                            <Header label=\"Name\" column=\"name\" />\r\n                            <Header label=\"Orders\" column=\"saleCount\" align=\"right\" />\r\n                            <Header label=\"Quantity\" column=\"quantity\" align=\"right\" />\r\n                            <Header label=\"Tonnage\" column=\"totalTonnage\" align=\"right\" />\r\n                            <Header label=\"Avg Order Value\" column=\"avgOrderValue\" align=\"right\" />\r\n                            <Header label=\"Revenue\" column=\"totalSalesValue\" align=\"right\" />\r\n                            <Header label=\"% Share\" column=\"contribution\" align=\"right\" />\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {sortedData.length === 0 ? (\r\n                            <tr>\r\n                                <td colSpan={8} className=\"py-6 text-center text-gray-500 italic\">No data available</td>\r\n                            </tr>\r\n                        ) : (\r\n                            sortedData.map((d, i) => (\r\n                                <tr key={d.id} className={i % 2 ? \"bg-gray-50\" : \"\"}>\r\n                                    <td className=\"py-2 px-3 border-r text-center\">{i + 1}</td>\r\n                                    <td className=\"py-2 px-3 border-r\">{d.name}</td>\r\n                                    <td className=\"py-2 px-3 border-r text-right\">{d.saleCount}</td>\r\n                                    <td className=\"py-2 px-3 border-r text-right\">{d.quantity}</td>\r\n                                    <td className=\"py-2 px-3 border-r text-right\">{d.totalTonnage.toFixed(2)}</td>\r\n                                    <td className=\"py-2 px-3 border-r text-right\">K{d.avgOrderValue.toFixed(0)}</td>\r\n                                    <td className=\"py-2 px-3 border-r text-right\">K{d.totalSalesValue.toFixed(0)}</td>\r\n                                    <td className=\"py-2 px-3 border-r text-right\">{d.contribution.toFixed(1)}%</td>\r\n                                </tr>\r\n                            ))\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 607, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/app/test/page.tsx"],"sourcesContent":["// pages/dashboard.tsx (or any page/component)\r\n\"use client\"\r\nimport SalesTable from \"@/components/SalesTable\";\r\nimport { getCurrentUser } from \"@/lib/auth\";\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\nexport default async function Dashboard() {\r\n\r\n    //const [sales, setSales] = useState<Sale[]>([]); // ✅ start with an empty array\r\n    const userId = searchParams.get('userId');\r\n    const sales = await prisma.sale.findMany({\r\n        where: { createdBy: userId },\r\n        include: {\r\n            product: { select: { name: true, id: true, price: true } },\r\n            customer: { select: { name: true, email: true } },\r\n            location: { select: { name: true } }, // Include location name\r\n        },\r\n        orderBy: { createdAt: 'desc' },\r\n    });\r\n\r\n    console.log(sales);\r\n    return (\r\n        <div className=\"p-6\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">Sales Dashboard</h1>\r\n            <SalesTable sales={sales || []} />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"AAAA,8CAA8C;;;;;;AAE9C;AAEA;;;;;AAHA;;;;AAKe,eAAe;IAE1B,gFAAgF;IAChF,MAAM,SAAS,aAAa,GAAG,CAAC;IAChC,MAAM,QAAQ,MAAM,mKAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACrC,OAAO;YAAE,WAAW;QAAO;QAC3B,SAAS;YACL,SAAS;gBAAE,QAAQ;oBAAE,MAAM;oBAAM,IAAI;oBAAM,OAAO;gBAAK;YAAE;YACzD,UAAU;gBAAE,QAAQ;oBAAE,MAAM;oBAAM,OAAO;gBAAK;YAAE;YAChD,UAAU;gBAAE,QAAQ;oBAAE,MAAM;gBAAK;YAAE;QACvC;QACA,SAAS;YAAE,WAAW;QAAO;IACjC;IAEA,QAAQ,GAAG,CAAC;IACZ,qBACI,mRAAC;QAAI,WAAU;;0BACX,mRAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,mRAAC,gLAAU;gBAAC,OAAO,SAAS,EAAE;;;;;;;;;;;;AAG1C"}}]
}