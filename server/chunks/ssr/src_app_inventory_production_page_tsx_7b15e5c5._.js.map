{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/app/inventory/production/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\ntype Product = { id: string; name: string; };\r\n\r\nexport default function ProductionPage() {\r\n    const [products, setProducts] = useState<Product[]>([]);\r\n    const [form, setForm] = useState({ productId: \"\", quantity: 0 });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        async function loadProducts() {\r\n            try {\r\n                const res = await fetch(\"/api/products\");\r\n                const data = await res.json();\r\n\r\n                // Ensure we have an array\r\n                if (Array.isArray(data)) {\r\n                    setProducts(data);\r\n                } else if (data.products && Array.isArray(data.products)) {\r\n                    setProducts(data.products);\r\n                } else {\r\n                    console.error(\"Invalid products response:\", data);\r\n                    setProducts([]);\r\n                }\r\n            } catch (err) {\r\n                console.error(err);\r\n                setProducts([]);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        loadProducts();\r\n    }, []);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!form.productId || form.quantity <= 0) return;\r\n\r\n        await fetch(\"/api/production\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(form),\r\n        });\r\n\r\n        alert(\"Production added!\");\r\n        setForm({ productId: \"\", quantity: 0 });\r\n    };\r\n\r\n    if (loading) return <p>Loading products...</p>;\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">Add Production</h1>\r\n            <form onSubmit={handleSubmit} className=\"space-y-4 max-w-md\">\r\n                <select\r\n                    required\r\n                    value={form.productId}\r\n                    onChange={(e) => setForm({ ...form, productId: e.target.value })}\r\n                    className=\"border p-2 w-full\"\r\n                >\r\n                    <option value=\"\">Select Product</option>\r\n                    {products.map((p) => (\r\n                        <option key={p.id} value={p.id}>\r\n                            {p.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n\r\n                <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    required\r\n                    value={form.quantity}\r\n                    onChange={(e) => setForm({ ...form, quantity: Number(e.target.value) })}\r\n                    placeholder=\"Quantity Produced\"\r\n                    className=\"border p-2 w-full\"\r\n                />\r\n\r\n                <button type=\"submit\" className=\"bg-green-500 text-white px-4 py-2 rounded\">\r\n                    Add Production\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAMe,SAAS;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;QAAE,WAAW;QAAI,UAAU;IAAE;IAC9D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACN,eAAe;YACX,IAAI;gBACA,MAAM,MAAM,MAAM,MAAM;gBACxB,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,0BAA0B;gBAC1B,IAAI,MAAM,OAAO,CAAC,OAAO;oBACrB,YAAY;gBAChB,OAAO,IAAI,KAAK,QAAQ,IAAI,MAAM,OAAO,CAAC,KAAK,QAAQ,GAAG;oBACtD,YAAY,KAAK,QAAQ;gBAC7B,OAAO;oBACH,QAAQ,KAAK,CAAC,8BAA8B;oBAC5C,YAAY,EAAE;gBAClB;YACJ,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC;gBACd,YAAY,EAAE;YAClB,SAAU;gBACN,WAAW;YACf;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,IAAI,CAAC,KAAK,SAAS,IAAI,KAAK,QAAQ,IAAI,GAAG;QAE3C,MAAM,MAAM,mBAAmB;YAC3B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACzB;QAEA,MAAM;QACN,QAAQ;YAAE,WAAW;YAAI,UAAU;QAAE;IACzC;IAEA,IAAI,SAAS,qBAAO,8OAAC;kBAAE;;;;;;IAEvB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACpC,8OAAC;wBACG,QAAQ;wBACR,OAAO,KAAK,SAAS;wBACrB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;4BAAC;wBAC9D,WAAU;;0CAEV,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,SAAS,GAAG,CAAC,CAAC,kBACX,8OAAC;oCAAkB,OAAO,EAAE,EAAE;8CACzB,EAAE,IAAI;mCADE,EAAE,EAAE;;;;;;;;;;;kCAMzB,8OAAC;wBACG,MAAK;wBACL,KAAK;wBACL,QAAQ;wBACR,OAAO,KAAK,QAAQ;wBACpB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,UAAU,OAAO,EAAE,MAAM,CAAC,KAAK;4BAAE;wBACrE,aAAY;wBACZ,WAAU;;;;;;kCAGd,8OAAC;wBAAO,MAAK;wBAAS,WAAU;kCAA4C;;;;;;;;;;;;;;;;;;AAM5F"}}]
}