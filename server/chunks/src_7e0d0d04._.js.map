{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/lib/prisma.ts"],"sourcesContent":["import \"dotenv/config\";\nimport { PrismaPg } from '@prisma/adapter-pg'\nimport { PrismaClient } from '../generated/prisma/client'\n\nconst connectionString = `${process.env.DATABASE_URL}`\n\nconst adapter = new PrismaPg({ connectionString })\nconst prisma = new PrismaClient({ adapter })\n\nexport { prisma };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;AAEA,MAAM,mBAAmB,GAAG,QAAQ,GAAG,CAAC,YAAY,EAAE;AAEtD,MAAM,UAAU,IAAI,yKAAQ,CAAC;IAAE;AAAiB;AAChD,MAAM,SAAS,IAAI,sJAAY,CAAC;IAAE;AAAQ"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CHRISTOPHER%20KABWE/Desktop/Inventory/my-app/src/app/api/transfers/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\n// GET /api/transfers?limit=10\r\nexport async function GET(req: Request) {\r\n    const { searchParams } = new URL(req.url);\r\n    const limit = Number(searchParams.get(\"limit\") || 10);\r\n\r\n    try {\r\n        const transfers = await prisma.transfer.findMany({\r\n            orderBy: { createdAt: \"desc\" },\r\n            take: limit,\r\n            include: {\r\n                product: true,\r\n                fromLocation: true,\r\n                toLocation: true,\r\n            },\r\n        });\r\n\r\n        return NextResponse.json({ transfers });\r\n    } catch (err) {\r\n        console.error(err);\r\n        return NextResponse.json({ error: \"Failed to fetch transfers\" }, { status: 500 });\r\n    }\r\n}\r\n\r\n// POST /api/transfers\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const { productId, fromLocationId, toLocationId, quantity } = await req.json();\r\n\r\n        if (!productId || !quantity) {\r\n            return NextResponse.json({ error: \"Missing required fields\" }, { status: 400 });\r\n        }\r\n\r\n        const createdBy = \"4ba8d662-e7b2-4157-9d04-854d2d4601e6\"; // replace with logged-in user\r\n\r\n        const transfer = await prisma.transfer.create({\r\n            data: {\r\n                productId,\r\n                fromLocationId: fromLocationId || null,\r\n                toLocationId: toLocationId || null,\r\n                quantity: Number(quantity),\r\n                createdBy,\r\n            },\r\n            include: {\r\n                product: true,\r\n                fromLocation: true,\r\n                toLocation: true,\r\n            },\r\n        });\r\n\r\n        return NextResponse.json({ transfer });\r\n    } catch (err) {\r\n        console.error(err);\r\n        return NextResponse.json({ error: \"Failed to create transfer\" }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;;;;AAGO,eAAe,IAAI,GAAY;IAClC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,MAAM,QAAQ,OAAO,aAAa,GAAG,CAAC,YAAY;IAElD,IAAI;QACA,MAAM,YAAY,MAAM,gIAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC7C,SAAS;gBAAE,WAAW;YAAO;YAC7B,MAAM;YACN,SAAS;gBACL,SAAS;gBACT,cAAc;gBACd,YAAY;YAChB;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAU;IACzC,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACnF;AACJ;AAGO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,YAAY,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAE5E,IAAI,CAAC,aAAa,CAAC,UAAU;YACzB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QACjF;QAEA,MAAM,YAAY,wCAAwC,8BAA8B;QAExF,MAAM,WAAW,MAAM,gIAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC1C,MAAM;gBACF;gBACA,gBAAgB,kBAAkB;gBAClC,cAAc,gBAAgB;gBAC9B,UAAU,OAAO;gBACjB;YACJ;YACA,SAAS;gBACL,SAAS;gBACT,cAAc;gBACd,YAAY;YAChB;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAS;IACxC,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACnF;AACJ"}}]
}